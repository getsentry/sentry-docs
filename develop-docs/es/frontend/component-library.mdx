---
title: Biblioteca de componentes
sidebar_order: 40
---

<Alert>
  ¡Entra directo! Visita <Link to="https://sentry.io/orgredirect/organizations/:orgslug/stories/"><code>/stories/</code></Link> en tu instalación existente de Sentry.
</Alert>

<div id="what-is-scraps">
  ## ¿Qué es Scraps?
</div>

Scraps es el sistema de diseño de Sentry, la **C**olección **E**standarizada de **R**ecursos **R**eutilizables y **P**atrones para **S**entry. Incluye los componentes primitivos principales de React, hooks y patrones de diseño que usamos para construir Sentry, mantenidos por el equipo de Design Engineering. `/stories` también incluye componentes y hooks para verticales de producto específicas, mantenidos por los equipos responsables de esas verticales.

Cada historia describe cómo usar un componente o hook de React, su API pública, el comportamiento esperado y los patrones de uso comunes o recomendados.

<div id="accessing-stories">
  ## Acceso a Stories
</div>

Stories es un framework de documentación personalizado que se sirve en la ruta `/stories` dentro de la aplicación principal de Sentry. Carga cualquier archivo `.mdx` y `.stories.tsx` del repositorio.

- **Acceso en producción**<br />
    Inicia sesión y visita [`/stories/`](https://sentry.io/orgredirect/organizations/:orgslug/stories/) en tu organización de Sentry existente. Funciona igual tanto en sentry.io como en instalaciones autogestionadas.

- **Acceso en desarrollo**<br />
    Ya sea que uses `pnpm dev-ui` para iniciar un servidor de desarrollo o `sentry devserver` para levantar todos los servicios localmente, puedes acceder a Stories iniciando sesión y cambiando la ruta de `/issues/` (la página de inicio predeterminada) a `/stories/`.

<div id="ownership">
  ## Propiedad
</div>

Las historias de los componentes del núcleo son responsabilidad del equipo de Design Engineering. Las historias de los componentes generales no necesariamente las mantiene el autor o el equipo original de ese componente; si estás leyendo una historia y notas un error u omisión, considéralo una oportunidad para dejar la documentación en mejor estado del que la encontraste.

El equipo de Design Engineering siempre está disponible en el canal `#discuss-design-engineering` de Slack para preguntas o comentarios generales.

<div id="creating-new-stories">
  ## Creación de historias nuevas
</div>

<div id="using-mdx">
  ### Uso de `.mdx`
</div>

La manera más sencilla de documentar un único componente es crear un archivo `.mdx` junto al componente. Para un componente nuevo, `myButton`, el archivo puede llamarse `index.mdx` o `myButton.mdx`.

```
components/
└── myButton/
    ├── index.tsx
    └── index.mdx
```

El archivo puede incluir los siguientes campos de front matter.

```yaml
---
title: Mi botón
description: MyButton es un elemento en el que se puede hacer clic y que activa una acción.
source: 'sentry/components/myButton'
# optionally include links to figma, js, and a11y resources:
resources:
  figma: https://www.figma.com/design/...
  js: https://github.com/getsentry/sentry/...
  a11y:
    WCAG 1.4.3: https://www.w3.org/TR/WCAG22/#contrast-minimum
    WAI-ARIA Button Practices: https://www.w3.org/WAI/ARIA/apg/patterns/button/
---
```

Los componentes pueden incluir documentación de API autogenerada usando nuestro [type-loader personalizado](https://github.com/getsentry/sentry/blob/master/static/app/stories/type-loader.ts) y exportar un objeto llamado `types`. La [sintaxis del cargador en línea](https://rspack.rs/api/loader-api/inline) es rara, pero funciona.

```mdx
import APIReference from '!!type-loader!sentry/components/myButton/index';

export const types = {MyButton: APIReference.MyButton};
```

Para un buen ejemplo, consulta el archivo [button.mdx](https://github.com/getsentry/sentry/blob/master/static/app/components/core/button/index.mdx?plain=1).


<div id="helper-components">
  ### Componentes auxiliares
</div>

Hay algunos componentes auxiliares comunes disponibles para facilitar la implementación de patrones habituales en las historias.

```mdx
import * as Storybook from 'sentry/stories';
```

* [`<Demo />`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/demo.tsx)<br />
  Muestra un marco de vista previa alrededor de un componente.

* [`<JSXNode />`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/jsxNode.tsx)<br />
  Muestra un nombre de componente JSX con formato y algunas propiedades.<br />
  ```tsx
  return <JSXNode name="IconFire" props={{color: 'red400', size: 'sm'}} />;

  // se mostrará como <code>&lt;IconFire<br/>color="red"<br/>size="sm" \:gt;</code>
  ```

* [`<JSXProperty />`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/jsxProperty.tsx)
  Muestra un nombre y valor de propiedad JSX con formato.<br />
  ```tsx
  return <JSXProperty name="disabled" value={false} />;

  // se mostrará como `<code>size={false}</code>`
  ```

* [`<SideBySide>{children}</SideBySide>`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/sideBySide.tsx)<br />
  Un atajo para `display: flex;` para mostrar varios elementos en una fila, con ajuste según sea necesario
  ```tsx
  return (
    <SideBySide>
      <Badge type="default">Default</Badge>
      <Badge type="alpha">Alpha</Badge>
      <Badge type="beta">Beta</Badge>
    </SideBySide>
  );
  ```

* [`<SizingWindow />`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/sizingWindow.tsx)<br />
  Un componente contenedor que ayuda a mostrar cómo se ve el componente cuando el tamaño del elemento padre es distinto o está cambiando.<br />
  De forma predeterminada usa `display:flex; overflow: hidden;`, lo que permite probar bien componentes responsivos. También se puede configurar como `display: block; overflow: auto;`.<br />
  ```tsx
  <SizingWindow style={{height: '100px'}}>
    <LoadingTriangle />
  </SizingWindow>`
  ```

* [`<Matrix />`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/matrix.tsx)<br />
  Un auxiliar para mostrar múltiples pares de propiedades y valores en una cuadrícula.
  Por ejemplo, podemos mostrar todos los valores de `priority` de Button frente a todos los posibles valores de `size`, lo que da como resultado una matriz de 4x5 resultados.
  ```tsx
  <Matrix
    render={() => Button}
    propMatrix={{
      priority: ['default', 'primary'],
      size: ['md', 'sm'],
    }}
    selectedProps={['priority', 'size']}
  />
  ```

* [`<ThemeToggle />`](https://github.com/getsentry/sentry/blob/master/static/app/components/stories/themeToggle.tsx)<br />
  Un componente contenedor para aislar a los children del tema actual usado en la página. Permite alternar rápidamente un ejemplo entre <code>light</code>/<code>dark</code> sin cambiar toda la pantalla (útil por la noche si prefieres la mayoría de las cosas en modo oscuro).<br />
  Úsalo para enfatizar que un componente/imagen ha sido probado y funciona bien en modo <code>light</code> o <code>dark</code>.
  ```tsx
  <ThemeToggle>
    <LoadingTriangle />
  </ThemeToggle>
  ```


<div id="improving-stories">
  ## Mejora de Stories
</div>

Todo el código del framework de Stories es creado y mantenido por el equipo de Design Engineering de Sentry. Sin embargo, esta herramienta es para todos, así que ¡las contribuciones son bienvenidas! Si tienes ideas para mejorar la experiencia de descubrir, leer, escribir u organizar Stories, compártelas en el canal `#discuss-design-engineering` de Slack.