---
title: Ramas de funcionalidades
description: Guía para sincronizar ramas de funcionalidades de larga duración.
sidebar_order: 30
---

A veces tenemos ramas de funcionalidades de larga duración que todavía no se pueden fusionar en `master` porque contienen cambios incompatibles (p. ej., `sentry-sdk-2.0`, `potel-base` en el SDK de Python, `8.x.x` en el SDK de Java). Aun así, hay que mantenerlas sincronizadas con `master`/`main`.

Puede que te tiente ramificar desde la rama de funcionalidades y hacer la fusión allí, quizá abrir un PR para revisar los cambios en la interfaz y asegurarte de que el CI esté en verde. En ese caso, debes asegurarte de **no hacer realmente el merge desde otra rama**: el commit de merge tiene que estar directamente en la rama de funcionalidades; de lo contrario, `git` no establece correctamente los commits padre para ese commit de merge y la rama de funcionalidades seguirá teniendo conflictos sin resolver (aunque acabes de resolverlos).

<div id="how-to-sync-so-that-merge-conflicts-are-recognized-as-resolved">
  ## Cómo sincronizar para que los conflictos de fusión se reconozcan como resueltos
</div>

Si aún quieres el diff bonito de GH y que CI se ejecute sobre tus cambios:

- cambia a la rama de feature y haz `git merge master` en ella
- resuelve los conflictos (todavía en la rama de feature)
- confirma la fusión (todavía en la rama de feature)
- *(si ya estás seguro de que todo está bien, puedes atajar y hacer push ahora; si no:)*
- luego crea una nueva rama desde tu rama de feature: `git checkout -b sync-feature-with-master`
- haz push de la nueva rama, crea un PR, mira el diff bonito en GitHub y verifica si pasan las pruebas
- si todo se ve bien: ¡no fusiones el PR! esto no marcará los conflictos de fusión como resueltos
- en su lugar, haz `git checkout` de tu rama de feature (con el merge commit arriba) y haz `push`

<div id="alternative-solution-a-used-for-java-sdk-8xx-branch">
  ## Solución alternativa A (usada para la rama del Java SDK `8.x.x`)
</div>

Esto no muestra el historial completo de cada archivo. El historial solo funciona a nivel del repositorio completo. Prueba otro método.

- Crea un PR para fusionar `main` en `8.x.x`
- Una vez que ese PR se fusione en `8.x.x`, seguirán apareciendo conflictos en el PR para fusionar `8.x.x` de vuelta en `main`
- Realiza otra fusión de `main` en `8.x.x` en la que aceptes todos los cambios en la rama `8.x.x` y crees un commit de fusión vacío
- NOTA: Si hay nuevos commits en `main`, esto no funcionará correctamente

<div id="alternative-solution-b-untested">
  ## Solución alternativa B (sin probar)
</div>

- Crea un PR de merge para integrar `main` en, por ejemplo, `8.x.x`
- Al fusionar el PR, no hagas squash; crea un commit de merge (es posible que primero debas habilitar esto en la configuración del repositorio)
- Si alguien prueba esto, por favor actualice la documentación aquí