---
title: Interfaz de metadatos de depuración
---

La interfaz de metadatos de depuración contiene información de depuración para el procesamiento de errores y
reportes de fallos. Sentry complementa la información en esta interfaz.

<div id="attributes">
  ## Atributos
</div>

`sdk_info`

: Un objeto que describe el SDK del sistema: `sdk_name`, `version_major`,
`version_minor` y `version_patchlevel`. Esto ayuda a Sentry a localizar símbolos del sistema de iOS y no es necesario para otros SDK.

```json
{
  "sdk_name": "iOS",
  "version_major": 10,
  "version_minor": 3,
  "version_patchlevel": 0
}
```

`images`

: Una lista de bibliotecas dinámicas cargadas en el proceso (ver más abajo).

<div id="debug-images">
  ## Imágenes de depuración
</div>

La lista de imágenes de depuración contiene todas las bibliotecas dinámicas cargadas en el proceso
y sus direcciones de memoria. Las direcciones de instrucción en el [Stack Trace](/es/sdk/data-model/event-payloads/stacktrace/) se
asocian con la lista de imágenes de depuración para obtener los archivos de depuración necesarios para
la simbolización.

Hay tres tipos de imágenes de depuración:

* Imágenes de depuración nativas con tipos `macho`, `elf` y `pe`
* Imágenes de depuración de Android con tipo `proguard`
* Imágenes de depuración de mapas de origen de JavaScript con tipo `sourcemap`

<div id="mach-o-images">
  ### Imágenes Mach-O
</div>

Las imágenes Mach-O se usan en plataformas de Apple. Su estructura es idéntica a la de otras imágenes nativas.

Atributos:

`type`

: **Obligatorio**. Tipo de la imagen de depuración. Debe ser `"macho"`.

`image_addr`

: **Obligatorio**. Dirección de memoria en la que la imagen está cargada en el espacio de direcciones virtual del proceso. Debe ser una cadena en representación hexadecimal con el prefijo `"0x"`.

`image_size`

: Tamaño de la imagen en memoria virtual. Si falta, Sentry asumirá que la imagen se extiende hasta la imagen con la siguiente dirección más alta, lo que podría generar trazas de pila no válidas.

`debug_id`

: **Obligatorio**. Identificador de la biblioteca dinámica o ejecutable. Es el valor del comando de carga `LC_UUID` en el encabezado Mach, con formato UUID.

`debug_file`

: *Opcional*: Nombre o ruta absoluta al archivo dSYM que contiene la información de depuración de esta imagen. Este valor podría ser necesario para recuperar archivos de depuración desde ciertos servidores de símbolos.

`code_id`

: *Opcional*. Identificador de la biblioteca dinámica o ejecutable. Es el valor del comando de carga `LC_UUID` en el encabezado Mach, con formato UUID. Puede estar vacío para imágenes Mach, ya que es equivalente al identificador de depuración.

`code_file`

: *Opcional*. Ruta absoluta a la biblioteca dinámica o ejecutable. Esto ayuda a localizar el archivo si falta en Sentry.

`image_vmaddr`

: *Opcional*: Dirección de carga preferida de la imagen en la memoria virtual, según se declara en los encabezados de la imagen. Al cargar una imagen, el sistema operativo puede aun así ubicarla en una dirección diferente.

Si este valor es distinto de cero, todos los símbolos y direcciones declarados en la imagen nativa comienzan en esta dirección, en lugar de `0`. En cambio, Sentry trabaja con direcciones relativas al inicio de la imagen. Por ejemplo, con `image_vmaddr: 0x40000`, un símbolo ubicado en `0x401000` tiene una dirección relativa de `0x1000`.

Las direcciones relativas usadas en Apple Crash Reports y `addr2line` suelen estar en el espacio de direcciones preferido, y no en el espacio de direcciones relativo.

`arch`

: *Opcional*: Arquitectura del módulo. Si falta, Sentry la completará automáticamente.

Ejemplo:

```json
{
  "type": "macho",
  "debug_id": "84a04d24-0e60-3810-a8c0-90a65e2df61a",
  "debug_file": "libDiagnosticMessagesClient.dylib",
  "code_file": "/usr/lib/libDiagnosticMessagesClient.dylib",
  "image_addr": "0x7fffe668e000",
  "image_size": 8192,
  "image_vmaddr": "0x40000",
  "arch": "x86_64"
}
```

<div id="elf-images">
  ### Imágenes ELF
</div>

Las imágenes ELF se usan en plataformas Linux. Su estructura es idéntica a la de otras
imágenes nativas.

Atributos:

`type`

: **Obligatorio**. Tipo de la imagen de depuración. Debe ser `"elf"`.

`image_addr`

: **Obligatorio**. Dirección de memoria en la que la imagen está montada en el
espacio de direcciones virtual del proceso. Debe ser una cadena en formato
hexadecimal con el prefijo `"0x"`.

`image_size`

: **Obligatorio**. Tamaño de la imagen en memoria virtual. Si falta, Sentry
asumirá que la imagen se extiende hasta la siguiente imagen, lo que podría
generar trazas de pila no válidas.

`debug_id`

: **Obligatorio**. Identificador de depuración de la biblioteca dinámica o del ejecutable. Si hay un identificador de código disponible, el identificador de depuración es la representación *UUID little-endian* de los primeros 16 bytes de ese identificador. Se insertan espacios para facilitar la lectura; ten en cuenta el orden de bytes de los primeros campos:

```
id de código:  f1c3bcc0 2798 65fe 3058 404b2831d9e6 4135386c
id de depuración: c0bcc3f1-9827-fe65-3058-404b2831d9e6
```

Si no hay un id de código disponible, el id de depuración debe calcularse aplicando XOR a los
primeros 4096 bytes de la sección `.text` en bloques de 16 bytes y representarlo
como un UUID en little-endian (nuevamente intercambiando el orden de los bytes).

`debug_file`

: *Opcional*: Nombre o ruta absoluta del archivo que contiene la información de
depuración separada para esta imagen. Este valor podría ser necesario para recuperar
archivos de depuración desde ciertos servidores de símbolos.

`code_id`

: *Opcional*. Identificador de la biblioteca dinámica o del ejecutable. Si el programa
se compiló con un compilador relativamente reciente, este debería ser la
representación hexadecimal del encabezado de programa `NT_GNU_BUILD_ID` (tipo `PT_NOTE`) o
el valor de la sección de notas `.note.gnu.build-id` (tipo `SHT_NOTE`).
De lo contrario, deja este valor vacío.

Ciertos servidores de símbolos usan el identificador de código para localizar información de
depuración de imágenes ELF, en cuyo caso este campo debería incluirse si es posible.

`code_file`

: *Opcional*. La ruta absoluta a la biblioteca dinámica o al ejecutable. Esto ayuda
a localizar el archivo si falta en Sentry.

`image_vmaddr`

: *Opcional*: Dirección de carga preferida de la imagen en la memoria virtual, tal como se declara
en los encabezados de la imagen. Al cargar una imagen, el sistema operativo puede
aun así optar por ubicarla en una dirección diferente.

Si este valor es distinto de cero, todos los símbolos y direcciones declarados en la imagen
nativa comienzan en esta dirección, en lugar de `0`. En cambio, Sentry trabaja con
direcciones relativas al inicio de la imagen. Por ejemplo, con
`image_vmaddr: 0x40000`, un símbolo ubicado en `0x401000` tiene una dirección relativa
de `0x1000`.

Las direcciones relativas usadas en `addr2line` suelen estar en el espacio de direcciones
preferido y no en el espacio de direcciones relativo.

`arch`

: *Opcional*: Arquitectura del módulo. Si falta, Sentry la completará
automáticamente.

Ejemplo:

```json
{
  "type": "elf",
  "code_id": "68220ae2c65d65c1b6aaa12fa6765a6ec2f5f434",
  "code_file": "/lib/x86_64-linux-gnu/libgcc_s.so.1",
  "debug_id": "e20a2268-5dc6-c165-b6aa-a12fa6765a6e",
  "image_addr": "0x7f5140527000",
  "image_size": 90112,
  "image_vmaddr": "0x40000",
  "arch": "x86_64"
}
```

<div id="pe-images-pdbs">
  ### Imágenes PE (PDB)
</div>

Las imágenes PE se usan en plataformas Windows y van acompañadas de archivos PDB para
depuración. Su estructura es idéntica a la de otras imágenes nativas.

`type`

: **Obligatorio**. Tipo de la imagen de depuración. Debe ser `"pe"`.

`image_addr`

: **Obligatorio**. Dirección de memoria en la que la imagen está montada en el
espacio de direcciones virtual del proceso. Debe ser una cadena en representación hexadecimal
con el prefijo `"0x"`.

`image_size`

: **Obligatorio**. El tamaño real de la imagen en memoria virtual. Si falta,
Sentry asumirá que la imagen se extiende hasta la siguiente, lo que podría dar lugar
a trazas de pila no válidas.

`debug_id`

: **Obligatorio**. `signature` y `age` del archivo PDB. Ambos valores pueden leerse
del encabezado de información de depuración CodeView PDB70 en el PE. El valor debe
representarse como un UUID en little-endian, con el age anexado al final. Ten en cuenta
que el orden de bytes de los campos del UUID debe invertirse (se han insertado espacios para
mejorar la legibilidad):

```
signature: f1c3bcc0 2798 65fe 3058 404b2831d9e6
edad:                                           1
id_depuración: c0bcc3f1-9827-fe65-3058-404b2831d9e6-1
```

`debug_file`

: **Obligatorio**: Nombre del archivo PDB que contiene la información de depuración de esta
imagen. Este valor suele ser necesario para obtener archivos de depuración de servidores
de símbolos específicos.

`code_id`

: *Opcional*. Identificador del ejecutable o DLL. Incluye los valores de
`time_date_stamp` del encabezado COFF y `size_of_image` del encabezado opcional,
combinados y formateados en una cadena hexadecimal usando `%08x%X` (ten en cuenta que el
segundo valor no lleva relleno):

```
time_date_stamp: 0x5ab38077
size_of_image:           0x9000
code_id:           5ab380779000
```

El identificador de código debe proporcionarse para permitir el recorrido de la pila en el servidor de
reportes de fallos binarios, como Minidumps.

`code_file`

: *Opcional*. La ruta absoluta al DLL o ejecutable. Esto ayuda a ubicar
el archivo si falta en Sentry. Se debe proporcionar el archivo de código para permitir
el recorrido de la pila en el servidor de reportes de fallos binarios, como Minidumps.

`image_vmaddr`

: *Opcional*: Dirección de carga preferida de la imagen en la memoria virtual, tal como se declara
en los encabezados de la imagen. Al cargar una imagen, el sistema operativo puede
aun así ubicarla en una dirección diferente.

Los símbolos y las direcciones en la imagen nativa siempre son relativos al inicio de
la imagen y no consideran la dirección de carga preferida. Es simplemente una sugerencia
para el cargador.

`arch`

: *Opcional*: Arquitectura del módulo. Si falta, Sentry la completará
automáticamente.

Ejemplo:

```json
{
  "type": "pe",
  "code_id": "57898e12145000",
  "code_file": "C:\\Windows\\System32\\dbghelp.dll",
  "debug_id": "9c2a902b-6fdf-40ad-8308-588a41d572a0-1",
  "debug_file": "dbghelp.pdb",
  "image_addr": "0x70850000",
  "image_size": "1331200",
  "image_vmaddr": "0x40000",
  "arch": "x86"
}
```

<div id="wasm-images">
  ### Imágenes WASM
</div>

Las imágenes WASM se utilizan para WebAssembly. Su estructura es idéntica a la de otras
imágenes nativas.

Atributos:

`type`

: **Obligatorio**. Tipo de la imagen de depuración. Debe ser `"wasm"`.

`debug_id`

: **Obligatorio**. Identificador de la biblioteca dinámica o ejecutable. Es el valor
de la sección personalizada `build_id` y debe estar formateado como un UUID truncado a los
primeros 16 bytes.

`debug_file`

: *Opcional*. Nombre o URL absoluta del archivo WASM que contiene información
de depuración para esta imagen. Este valor podría ser necesario para recuperar archivos
de depuración desde ciertos servidores de símbolos. Debe corresponder a la URL
externalizada obtenida de la sección personalizada `external_debug_info`.

`code_id`

: *Opcional*. Identificador del archivo WASM. Es el valor de la
sección personalizada `build_id` formateado como cadena HEX. Puede omitirse en caso de
que la sección contenga un UUID (16 bytes).

`code_file`

: **Obligatorio**. La URL absoluta del archivo WASM. Esto ayuda
a localizar el archivo si falta en Sentry.

Ejemplo:

```json
{
  "type": "wasm",
  "debug_id": "84a04d24-0e60-3810-a8c0-90a65e2df61a",
  "debug_file": "sample.wasm"
}
```

<div id="proguard-images">
  ### Imágenes de Proguard
</div>

Las imágenes de Proguard hacen referencia a los archivos `mapping.txt` generados cuando Proguard ofusca
los nombres de funciones. Las integraciones del SDK de Java asignan a este archivo un identificador único,
que debe incluirse en la lista de imágenes.

Atributos:

`type`

: **Obligatorio**. Tipo de imagen de depuración. Debe ser `"proguard"`.

`uuid`

: **Obligatorio**. Identificador único asignado por el SDK de Java.

Ejemplo:

```json
{
  "type": "proguard",
  "uuid": "395835f4-03e0-4436-80d3-136f0749a893"
}
```

<div id="source-map-images">
  ### Imágenes de Source Map
</div>

Las imágenes de Source Map se utilizan para indicar qué artefacto (es decir,
el source map) debe emplearse para resolver un archivo de JavaScript específico a su
fuente original. Usamos la propiedad `abs_path` de un marco de pila y el
campo `code_file` en la imagen para consultar un archivo de source map mediante el campo `debug_id`.

Atributos:

`type`

: **Obligatorio**. Tipo de imagen de depuración. Debe ser `"sourcemap"`.

`code_file`

: **Obligatorio**. Ruta/URL del archivo que debe mapearse. Corresponde a la
propiedad `abs_path` dentro de un marco de pila.

`debug_id`

: **Obligatorio**. Identificador del archivo que se utilizará para resolver el archivo
fuente.

```json
{
  "type": "sourcemap",
  "code_file": "https://example.com/static/js/main.js",
  "debug_id": "395835f4-03e0-4436-80d3-136f0749a893"
}
```

<div id="examples">
  ## Ejemplos
</div>

Consulta arriba los ejemplos de tipos de imágenes de depuración.

```json
{
  "debug_meta": {
    "images": [],
    "sdk_info": {
      "sdk_name": "iOS",
      "version_major": 10,
      "version_minor": 3,
      "version_patchlevel": 0
    }
  }
}
```
