---
title: Convenciones de datos de Span
---

La interfaz Span especifica una serie de eventos de aplicación _cronometrados_ con hora de inicio y fin. A continuación se describen las convenciones de la interfaz Span para el campo `data` del span.

Se espera que el campo `data` del span siga [las convenciones semánticas de OpenTelemetry para atributos](https://github.com/open-telemetry/semantic-conventions/blob/main/docs/general/trace.md) en la medida de lo posible.

Las claves del campo `data` deben estar en minúsculas y usar guiones bajos en lugar de camel case. Hay algunas excepciones, necesarias por compatibilidad con versiones anteriores.

A continuación se describen las convenciones de la interfaz Span para el campo `data` del span que el producto utiliza actualmente o que conviene destacar.

<div id="general">
  ## General
</div>

| Atributo         | Tipo   | Descripción                                                                                                                                                                                                    | Ejemplos                                    |
| ---------------- | ------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| `code.filepath`  | string | El nombre del archivo de código fuente que identifica la unidad de código de la manera más única posible (preferiblemente una ruta de archivo absoluta).                                                      | `/app/myapplication/http/handler/server.py` |
| `code.lineno`    | number | El número de línea en `code.filepath` que mejor representa la operación. DEBERÍA apuntar a una línea dentro de la unidad de código indicada en `code.function`.                                               | `42`                                        |
| `code.function`  | string | El nombre del método o función, o equivalente (generalmente la parte más a la derecha del nombre de la unidad de código).                                                                                      | `server_request`                            |
| `code.namespace` | string | El “namespace” dentro del cual se define `code.function`. Por lo general, el nombre cualificado de la clase o del módulo, de modo que `code.namespace` + algún separador + `code.function` formen un identificador único para la unidad de código. | `http.handler`                              |

<div id="http">
  ## HTTP
</div>

| Atributo                               | Tipo   | Descripción                                           | Ejemplos           |
| -------------------------------------- | ------ | ----------------------------------------------------- | ------------------ |
| `http.query`                           | string | La cadena de consulta presente en la URL.             | `?foo=bar&bar=baz` |
| `http.fragment`                        | string | El fragmento presente en el URI (solo SDK de navegador). | `#details`         |
| `http.request.method`                  | string | El método HTTP utilizado.                             | `GET`              |
| `http.response.status_code`            | int    | El código de estado de la respuesta HTTP.             | `404`              |
| `http.response_content_length`         | number | El tamaño codificado del cuerpo de la respuesta (en bytes). | `123`              |
| `http.decoded_response_content_length` | number | El tamaño decodificado del cuerpo de la respuesta (en bytes). | `456`              |
| `http.response_transfer_size`          | number | El tamaño de transferencia de la respuesta (en bytes). | `789`              |
| `server.address`                       | string | Nombre de dominio de la URL.                          | `example.com`      |
| `server.port`                          | int    | Número de puerto del servidor de la URL.              | `8080`             |

<div id="mobile">
  ## Móvil
</div>

| Attribute             | Type         | Description                                                                                                                                                                                                | Examples              |
| --------------------- | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------- |
| `blocked_main_thread` | boolean      | Indica si el hilo principal fue bloqueado por el span.                                                                                                                                                     | `true`                |
| `call_stack`          | StackFrame[] | Los stack frames más relevantes que condujeron al span de File I/O. El stack frame debe cumplir con la interfaz [`StackFrame`](https://develop.sentry.dev/sdk/data-model/event-payloads/stacktrace/#frame-attributes). |                       |
| `url`                 | string       | La URL del recurso que se obtuvo.                                                                                                                                                                          | `https://example.com` |
| `type`                | string       | Tipo más específico de la operación en curso.                                                                                                                                                              | `fetch`               |
| `frames.total`    | int | La cantidad total de frames renderizados durante la duración del span.    |  `60`   |
| `frames.slow`     | int | La cantidad de frames lentos renderizados durante la duración del span.     |   `2`   |
| `frames.frozen`   | int | La cantidad de frames congelados renderizados durante la duración del span.   |   `1`   |
| `frames.delay`    | number | La suma de todas las duraciones de frames retrasados, en segundos, durante la duración del span. Para más información, consulta <Link to="/sdk/performance/frames-delay/">retraso de frames</Link>.   |   `1.3246`   |

<div id="browser">
  ## Navegador
</div>

| Atributo                          | Tipo   | Descripción                                   | Ejemplos              |
| --------------------------------- | ------ | --------------------------------------------- | --------------------- |
| `url`                             | string | La URL del recurso que se recuperó.           | `https://example.com` |
| `type`                            | string | El tipo de recurso que se recuperó.           | `xhr`                 |
| `resource.render_blocking_status` | string | El estado de bloqueo de renderizado del recurso. | `non-blocking`        |

<div id="ui">
  ## UI
</div>

| Atributo                         | Tipo   | Descripción                                 | Ejemplos              |
| -------------------------------- | ------ | ------------------------------------------- | --------------------- |
| `ui.contributes_to_ttid`    | boolean |  Indica si la ejecución del span contribuyó a la métrica TTID (tiempo hasta la visualización inicial).  |   `true`   |
| `ui.contributes_to_ttfd`    | boolean |  Indica si la ejecución del span contribuyó a la métrica TTFD (tiempo hasta el renderizado completo). |   `true`   |

<div id="database">
  ## Base de datos
</div>

| Atributo                | Tipo   | Descripción                                                                                                                                                                                                                                                                                                               | Ejemplos      |
| ----------------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- |
| `db.system`             | string | Un identificador del producto del sistema de gestión de bases de datos (DBMS) que se está utilizando. Consulta la [documentación de OpenTelemetry para ver una lista de identificadores conocidos](https://github.com/open-telemetry/semantic-conventions/blob/main/docs/database/database-spans.md#notes-and-well-known-identifiers-for-dbsystem). | `postgresql`  |
| `db.operation`          | string | El nombre de la operación que se está ejecutando, p. ej., el nombre del comando de MongoDB como findAndModify, o la palabra clave de SQL. Basado en los [atributos comunes de bases de datos de OpenTelemetry](https://github.com/open-telemetry/semantic-conventions/blob/main/docs/database/database-spans.md#common-attributes) | `SELECT`      |
| `db.collection.name`    | string | El nombre de la colección (o tabla, etc.) que se está consultando.                                                                                                                                                                                                                                                        | `users`       |
| `db.name`               | string | Este atributo se usa para informar el nombre de la base de datos a la que se accede. Para comandos que cambian la base de datos, debe establecerse en la base de datos de destino (incluso si el comando falla).                                                                                                         | `customers`   |
| `server.address`        | string | Nombre del host de la base de datos.                                                                                                                                                                                                                                                                                       | `example.com` |
| `server.port`           | int    | Número lógico de puerto del host del servidor.                                                                                                                                                                                                                                                                             | `8080`        |
| `server.socket.address` | string | Dirección IP física del servidor o dirección de socket Unix del host.                                                                                                                                                                                                                                                     | `10.5.3.2`    |
| `server.socket.port`    | int    | Puerto físico del servidor del host.                                                                                                                                                                                                                                                                                       | `16456`       |

<div id="web-server">
  ## Servidor web
</div>

| Atributo          | Tipo     | Descripción                                             | Ejemplos |
| ----------------- | -------- | ------------------------------------------------------- | -------- |
| `cache.hit`       | booleano | Si se produjo un acierto de caché durante este span.    | `true`   |
| `cache.item_size` | int      | Tamaño del elemento solicitado en la caché, en bytes.   | 58       |

<div id="ai">
  ## IA
</div>

| Atributo                   | Tipo    | Descripción                                           | Ejemplos                                 |
|---------------------------|---------|-------------------------------------------------------|------------------------------------------|
| `ai.input_messages`       | string  | Mensajes de entrada enviados al modelo                | `[{"role": "user", "message": "hello"}]` |
| `ai.completion_tоkens.used` | int   | Número de tokens usados para responder al mensaje     | `10`                                     |
| `ai.prompt_tоkens.used`     | int   | Número de tokens usados para procesar solo el prompt  | `20`                                     |
| `ai.total_tоkens.used`      | int   | Total de tokens usados para procesar el prompt        | `30`                                     |
| `ai.model_id`             | list    | ID específico del proveedor del modelo utilizado      | `"gpt-4"`                                |
| `ai.streaming`            | boolean | Indica si la solicitud se devolvió como streaming     | `true`                                   |
| `ai.responses`            | list    | Mensajes de respuesta devueltos por el modelo de IA   | `["hello", "world"]`                     |

<div id="thread">
  ## Hilo
</div>

| Atributo          | Tipo    | Descripción                                                        | Ejemplos |
| ------------------| ------- | -------------------------------------------------------------------| -------- |
| `thread.id`       | string  | Identificador del hilo del que se originó el span.                 | `123456` |
| `thread.name`     | string  | Etiqueta que identifica el hilo del que se originó el span.        | `main`   |

<div id="flags">
  ## Flags
</div>

| Atributo                            | Tipo    | Descripción                                     | Ejemplos     |
| ------------------------------------| ------- | ------------------------------------------------| ------------ |
| `flag.evaluation.<flag-name>`       | string  | Identificador de una flag evaluada dentro del span. | `can_access` |

<div id="deprecated">
  ### Obsoleto
</div>

Nombres que los SDK siguen enviando, por lo que aún no podemos eliminarlos, pero no deben usarse en código nuevo.

| Atributo            | Nombre nuevo                        |
| ------------------- | ----------------------------------- |
| `method`            | `http.request.method`               |
| `http.method`       | `http.request.method`               |
| `Encoded Body Size` | `http.response_content_length`      |
| `Decoded Body Size` | `http.decoded_response_body_length` |
| `Transfer Size`     | `http.response_transfer_size `      |