---
title: Lanzamientos y actualización en entornos autogestionados
sidebar_title: Lanzamientos y actualización
sidebar_order: 2
description: Aprende a actualizar tu instalación autogestionada de Sentry y a mantenerte al día con los lanzamientos más recientes
---

Sentry publica lanzamientos periódicos para entornos autogestionados, a fin de mantenerlos lo más alineados posible con [sentry.io](https://sentry.io). Decidimos seguir un calendario de lanzamientos mensual con el esquema de versionado [CalVer](https://calver.org/#scheme), con un lanzamiento principal el [día 15 de cada mes](https://github.com/getsentry/self-hosted/blob/704e4c3b5b7360080f79bcfbe26583e5a95ae675/.github/workflows/release.yml#L20-L24). No publicamos parches para versiones antiguas, pero si surge un error lo suficientemente grave, podemos hacer un lanzamiento puntual fuera de ciclo que, al igual que nuestros lanzamientos mensuales, es una instantánea de las versiones más recientes de todos nuestros componentes. Puedes encontrar el [último lanzamiento](https://github.com/getsentry/self-hosted/releases/latest) en la [sección de lanzamientos de nuestro repositorio autogestionado](https://github.com/getsentry/self-hosted/releases/).

<Alert title="¿Por qué CalVer?">
  En pocas palabras, esto busca mantener la versión autogestionada de Sentry lo más cercana posible a la versión en producción
  alojada en <Link to="https://sentry.io">sentry.io</Link>. Hay más detalles para quienes tengan curiosidad en nuestra <Link to="https://blog.sentry.io/2020/06/22/self-hosted-sentry-switching-to-calver">entrada del blog que anuncia el cambio</Link>.
</Alert>

<Alert title="Advertencia" level="warning">
  CalVer está optimizado para la implementación continua, <em>no</em> para la estabilidad a largo plazo. Te recomendamos actualizar con regularidad, como hacemos en <Link to="https://sentry.io/pricing/">nuestro entorno SaaS</Link>.
</Alert>

<div id="upgrading">
  ## Actualización
</div>

Recomendamos actualizar regularmente tus instalaciones de Sentry para obtener la mejor y más reciente experiencia de Sentry.

Antes de iniciar la actualización, detenemos todos los servicios y luego ejecutamos algunas migraciones de datos, por lo que debes esperar un tiempo de inactividad. Existe una opción *experimental* `--minimize-downtime` para reducir el tiempo de inactividad durante las actualizaciones. Úsala bajo tu propio riesgo y consulta [la pull request en la que se implementó](https://github.com/getsentry/self-hosted/issues/607) para más información.

Suponemos que ya clonaste el repositorio self-hosted, así que cambia a la versión a la que deseas actualizar (23.11.0 como ejemplo).

```bash
git fetch
git checkout 25.7.0
```

<Alert title="Advertencia" level="warning">
  Si actualizas con poca frecuencia, es menos probable que la actualización a la versión más reciente funcione.
  Consulta <Link to="#hard-stops">Hard Stops</Link> para saber cómo actualizar de forma incremental a versiones más recientes.
</Alert>

Es posible que haya configuración actualizada, especialmente para funciones nuevas, así que revisa siempre los archivos de configuración de ejemplo en el <Link to="https://github.com/getsentry/self-hosted/blob/master/sentry/">directorio sentry</Link> y verifica si necesitas actualizar tu configuración existente. Hacemos todo lo posible por automatizar las actualizaciones de configuración críticas, pero siempre debes revisar tu configuración durante las actualizaciones.

Si tienes un archivo `.env.custom`, asegúrate de copiar las nuevas variables de entorno del archivo `.env` al archivo `.env.custom` antes de ejecutar el script de instalación.

Por último, para actualizar, ejecuta `./install.sh`. Al finalizar, ejecuta `docker compose up --wait` (o, si tienes un archivo `.env.custom`, ejecuta `docker compose --env-file .env --env-file .env.custom up --wait`).


<div id="hard-stops">
  ### Paradas obligatorias
</div>

Al actualizar, es necesario pasar por **cada** parada obligatoria para incorporar cambios importantes en la base de datos.

Estas son las paradas obligatorias por las que se debe pasar:

* 9.1.2
* 21.5.0
* 21.6.3
* 23.6.2 (ejecuta `COMPOSE_PROJECT_NAME=sentry_onpremise docker compose down --rmi local --remove-orphans` antes de actualizar a &gt; 21.12.0)
* 23.11.0
* 24.8.0
* 25.5.1

Versiones que conviene evitar al actualizar:

* 23.7.0 (problemas con las migraciones de la base de datos y la actualización a Django 3)

Por ejemplo, si se quiere pasar de `22.8.0` a `24.2.0`, se necesita la siguiente ruta de actualización:

```
# ejemplo
(inicial: 22.8.0) -> 23.6.2 -> 23.11.0 -> 24.2.0
```


<div id="versions-with-known-issues">
  ### Versiones con problemas conocidos
</div>

Esta sección enumera los problemas conocidos de versiones específicas de Sentry autogestionado. Puedes actualizar a estas versiones si ninguno de estos problemas te afecta.

- La 24.12.0 presenta problemas con el inicio de sesión ([#3473](https://github.com/getsentry/self-hosted/issues/3473))
- La 24.12.1 presenta problemas con el inicio de sesión en organizaciones con 2FA de hardware habilitado ([#3473](https://github.com/getsentry/self-hosted/issues/3473))

<div id="nightly-builds">
  ## Compilaciones nocturnas
</div>

Ofrecemos compilaciones nocturnas de la [rama master del repositorio self-hosted](https://github.com/getsentry/self-hosted/) para cada nuevo commit de [Sentry](https://github.com/getsentry/sentry) y de todos los proyectos relacionados:

- [Snuba](https://github.com/getsentry/snuba)
- [Relay](https://github.com/getsentry/relay)
- [Symbolicator](https://github.com/getsentry/symbolicator)
- [Vroom](https://github.com/getsentry/vroom)

Estas compilaciones suelen ser estables, pero es posible que ocasionalmente te topes con una versión con errores, ya que no se garantiza que se desplieguen primero en [sentry.io](http://sentry.io/). Tampoco se garantiza que puedas actualizar a versiones posteriores sin perder datos. **Usa las compilaciones nocturnas bajo tu propio riesgo.**

<div id="breaking-changes">
  ## Cambios importantes
</div>

- La versión `23.11.0` eliminará el proceso de trabajo ``sentry run smtp``. Este
  proceso no formaba parte de la configuración estándar de self-hosted, pero podía
  usarse en implementaciones personalizadas.

- La versión `24.1.2` cambiará el backend de memcached de
  `django.core.cache.backends.memcached.MemcachedCache` a
  `django.core.cache.backends.memcached.PyMemcacheCache`. Esto requerirá cambiar la configuración `CACHES`
  en tu archivo `sentry.conf.py` de una forma similar a la que se muestra
  [aquí](https://github.com/getsentry/self-hosted/commit/9936376f4e933781feaae85e0071ef72c7f1c03f).
  En particular, la API de `OPTIONS` para `PyMemcacheCache` es diferente de la de
  `MemcachedCache`, y puede requerir cambios según cómo esté configurado.