---
title: Traducciones
sidebar_order: 40
---

Usamos [**Transifex**](https://www.transifex.com/getsentry/sentry) para traducir Sentry.

Otros términos relacionados con traducir: localización, internacionalización, i18n, l10n

<Alert level="info">
  Si eres empleado de Sentry y necesitas acceso para administrar traducciones, traductores, idiomas u otros aspectos, abre un ticket con TI para obtener acceso a Transifex.
</Alert>

<div id="approving-translators-and-languages">
  ## Aprobación de traductores e idiomas
</div>

Reglas generales a seguir al realizar aprobaciones.

1. En general, no apruebes nuevos idiomas.
2. No apruebes nuevos idiomas que dupliquen los existentes.
3. No apruebes nuevos miembros del equipo a menos que parezcan de confianza (consulta la nota de seguridad a continuación).

<div id="backfilling-a-language">
  ## Rellenar un idioma a posteriori
</div>

Podemos contratar traductores para que entren y completen un idioma a posteriori. Esto se ha hecho varias veces a lo largo de los años y es una buena forma de lograr una cobertura aceptable. Sin embargo, hay algunas salvedades:

- A menudo necesitan “contexto” para una cadena, que por lo general nos falta en el código (o en la base de datos). Esto implica que alguien debe responder a sus consultas.
- La calidad será normal: les das un estilo de referencia y, por lo general, hacen un trabajo suficientemente aceptable.
- No es gratis, aunque es barato, así que no es un gran problema.

<div id="translation-security">
  ## Seguridad de las traducciones
</div>

Es posible que quienes traducen inserten anuncios (enlaces) u otro contenido malicioso en las traducciones. Por esta razón no aceptamos las traducciones de forma implícita: primero debes ser aprobado; pero eso también significa que necesitamos hacer al menos una pequeña investigación sobre la persona que traduce. En general, esto queda a tu propio criterio, pero revisa su perfil y pregúntate si parece una persona real o si es una cuenta creada puntualmente con intención de abuso.

<div id="updating-translations-source-code">
  ## Actualización de traducciones (código fuente)
</div>

Las traducciones deben actualizarse manualmente en Sentry.

Para actualizar las cadenas sin traducir en Transifex, abre una terminal en el repositorio de Sentry y ejecuta lo siguiente:

```bash
make update-transifex
```

Esto extraerá cadenas del frontend mediante un cargador de webpack y del backend mediante `django makemessages`, que luego se combinan para crear un archivo `django.po` para la configuración regional predeterminada (inglés). Después, esto se propaga a nuestras otras configuraciones regionales admitidas.

Luego, estos archivos PO se suben a Transifex para su traducción. Idealmente, este proceso está automatizado y se ejecuta con una periodicidad definida para asegurar que las nuevas cadenas se sincronicen con Transifex.

Nota: Es posible que debas ir a Transifex y aprobar algunas traducciones previamente revisadas. Puedes seleccionar un idioma y buscar `reviewed:no origin:TM` para encontrar cadenas que se han desplazado en el código fuente pero que ya estaban traducidas. `TM` significa [Translation Memory](https://www.transifex.com/blog/2021/tm-management-update-all-you-need-to-know/).


<div id="updating-sentry-with-new-translations">
  ### Actualizar Sentry con nuevas traducciones
</div>

El proceso de actualizar Sentry debe ser independiente del de actualizar Transifex, ya que se necesita tiempo para realizar las traducciones y las revisiones. Para actualizar Sentry, ejecuta el siguiente comando en el repositorio de Sentry:

```bash
make update-local-locales
```

Esto obtendrá las traducciones de Transifex y usará `django compilemessages` para actualizar las traducciones locales. Después, deberías confirmar los cambios y abrir un nuevo Pull Request.


<div id="troubleshooting">
  ### Solución de problemas
</div>

Es posible que te encuentres con algunos errores al ejecutar `make update-local-locales`.

```
LC_MESSAGES/django.po:4790: el número de especificaciones de formato en 'msgid_plural' y 'msgstr[0]' no coinciden
```

Esto significa que estamos usando `tn()` con un conjunto desbalanceado de marcadores de posición de cadena. Por ejemplo,

```
tn('un usuario', '%s usuarios', userCount); // Esto está mal porque el primer argumento también necesita tener %s

// En su lugar, haz algo como esto
userCount === 1 ? t('un usuario') : tn('%s usuarios', '%s usuarios', userCount); // No es ideal ya que el primer argumento de `tn()` siempre se ignora, pero al menos compilará
```

Otro error común que puedes encontrar es

```
LC_MESSAGES/django.po:10824: 'msgstr' no es una cadena de formato de Python válida, a diferencia de 'msgid'. Motivo: El carácter que termina la directiva número 1 no es un especificador de conversión válido.
```

Por lo general, esto significa que hay un «%» literal que el analizador confunde con un marcador de posición de cadena. Por ejemplo:

```
#: static/app/views/dashboardsV2/manage/dashboardList.tsx:120
#, python-format
msgid "100% de las versiones"
```

Esto puede resolverse eliminando `#, python-format` (suponiendo que no tengas ningún formateo de cadenas)
