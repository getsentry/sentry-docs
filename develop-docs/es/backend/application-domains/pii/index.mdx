---
title: PII y depuración de datos
description: Este documento describe un formato de configuración que nos gustaría ocultar al usuario en el futuro. La única razón por la que esta página sigue existiendo es que actualmente Relay acepta este formato como alternativa a los ajustes habituales de depuración de datos.
sidebar_order: 170
---

El siguiente documento examina la sintaxis y la semántica de la configuración
para [Advanced Data Scrubbing], que consume y ejecuta [Relay]. A veces también
se denomina depuración de PII.

<div id="a-basic-example">
  ## Un ejemplo básico
</div>

Supón que tienes un mensaje de excepción que, por desgracia, contiene direcciones IP
que no deberían estar ahí. Escribirías:

```json
{
  "applications": {
    "$string": ["@ip:replace"]
  }
}
```

Se interpreta como “reemplaza todas las direcciones IP en todas las cadenas”, o “aplica `@ip:replace`
a todos los campos `$string`”.

`@ip:replace` se denomina una regla y `$string` es un <Link to="/backend/pii/selectors/">selector</Link>.


<div id="built-in-rules">
  ## Reglas integradas
</div>

Las siguientes reglas existen de forma predeterminada:

- `@ip:replace` y `@ip:hash` para reemplazar direcciones IP.
- `@imei:replace` y `@imei:hash` para reemplazar IMEI.
- `@mac:replace`, `@mac:mask` y `@mac:hash` para detectar direcciones MAC.
- `@email:mask`, `@email:replace` y `@email:hash` para detectar direcciones de correo electrónico.
- `@creditcard:mask`, `@creditcard:replace` y `@creditcard:hash` para detectar
  números de tarjeta de crédito.
- `@userpath:replace` y `@userpath:hash` para detectar rutas locales (p. ej.,
  `C:/Users/foo/`).
- `@password:remove` para eliminar contraseñas. En este caso se realiza una coincidencia de patrones
  contra la clave del campo, ya sea que contenga `password`, `credentials` u
  otras cadenas similares.
- `@anything:remove`, `@anything:replace` y `@anything:hash` para eliminar,
  reemplazar o aplicar hash a cualquier valor. Es esencialmente equivalente a una
  expresión regular con comodines, pero también coincidirá con mucho más que cadenas.

<div id="writing-your-own-rules">
  ## Crea tus propias reglas
</div>

Las reglas suelen constar de dos partes:

- Los _tipos de reglas_ describen qué se debe detectar. Consulta <Link to="/backend/pii/types/">Tipos de reglas de PII</Link> para una lista exhaustiva.
- Los _métodos de redacción_ describen qué hacer con lo detectado. Consulta <Link
  to="/backend/pii/methods/">Métodos de redacción de PII</Link> para una lista.

Cada página incluye ejemplos. Prueba esos ejemplos pegándolos en la columna "PII config" de [Piinguin] y haz clic en los campos para obtener sugerencias.

<div id="interactive-editing">
  ## Edición interactiva
</div>

La forma más sencilla de hacerlo es si ya tienes un payload JSON sin procesar de
algún SDK. Ve a nuestro editor de configuración de PII [Piinguin] y:

1. Pega un evento sin procesar
2. Haz clic en los datos que quieres eliminar
3. Pega otros payloads y comprueba si se ven bien; vuelve al paso **2** si
   es necesario.

[advanced data scrubbing]: https://docs.sentry.io/product/data-management-settings/scrubbing/advanced-datascrubbing/

[relay]: https://github.com/getsentry/relay

[piinguin]: https://getsentry.github.io/piinguin