---
title: Integración con GitHub
sidebar_title: GitHub
---

<div id="configure-ngrok">
  ## Configurar ngrok
</div>

`ngrok` permite que tu entorno de desarrollo local sea accesible por los callbacks y webhooks de GitHub y es necesario para `${url-prefix}` más adelante en esta configuración.

Sigue los pasos de la [documentación de ngrok](/es/development-infrastructure/ngrok/) para empezar.

<div id="create-a-github-app">
  ## Crear una app de GitHub
</div>

Para configurar la integración con GitHub, necesitarás crear una app de GitHub y obtener credenciales. La instalación fallará si el nombre de tu app de GitHub contiene espacios.

Para el desarrollo local, asegúrate de usar tu URL de ngrok como prefijo.

<Alert level="warning">
  El nombre de la app de GitHub y el slug de la organización de GitHub no deben contener espacios.
</Alert>

<CreateGitHubAppForm url="https://github.com/organizations/:org/settings/apps/new?name=:org-Sentry-Integration&public=false&members=read&emails=read&administration=read&contents=read&issues=write&pull_requests=write&repository_hooks=write&url=:url-prefix&callback_url=:url-prefix%2Fauth%2Fsso%2F&setup_url=:url-prefix%2Fextensions%2Fgithub%2Fsetup%2F&webhook_url=:url-prefix%2Fextensions%2Fgithub%2Fwebhook%2F&events[]=push&events[]=pull_request&webhook_active=true" defaultOrg="your-organization" defaultUrlPrefix="https://your-sentry-url-prefix.com" />

Comienza siguiendo la [guía oficial de GitHub para crear una app de GitHub](https://developer.github.com/apps/building-github-apps/creating-a-github-app/).

Si el formulario anterior no te funciona, necesitas las siguientes configuraciones para tu aplicación de GitHub.
Deberás definir tu propio secreto del webhook:

| Configuración        | Valor                                                                  |
| -------------------- | ---------------------------------------------------------------------- |
| Homepage URL         | `${url-prefix}`                                                        |
| Callback URLs        | `${url-prefix}/auth/sso/` y `${url-prefix}/extensions/github/setup/`   |
| Setup URL (optional) | `${url-prefix}/extensions/github/setup/`                               |
| Webhook URL          | `${url-prefix}/extensions/github/webhook/`                             |
| Webhook secret       | &quot;my-super-secret-example-secret&quot;                              |

Cuando se te soliciten permisos, elige lo siguiente:

| Permiso                                         | Configuración   |
| ---------------------------------------------- | --------------- |
| Repository / Administration                    | Read-only       |
| Repository / Contents                          | Read-only       |
| Organization permissions / members (optional)  | Read-only       |
| Account permissions / Email addresses (optional)| Read-only      |
| Repository / Checks                            | Read &amp; write |
| Repository / Commit Statuses                   | Read &amp; write |
| Repository / Issues                            | Read &amp; write |
| Repository / Pull requests                     | Read &amp; write |
| Repository / Webhooks                          | Read &amp; write |

Cuando se te solicite suscribirte a eventos, elige lo siguiente:

* Pull Request
* Push

<Alert title="Truco">
  Habilitar los permisos opcionales también habilitará el{" "}
  <Link to="/self-hosted/sso/#github-auth">SSO de GitHub</Link> para tu instancia.
</Alert>

Se te proporcionarán varias credenciales; configúralas en `config.yml`:

```yml
# ID de la app
github-app.id: GITHUB_APP_ID
# Nombre de la app
github-app.name: "GITHUB_APP_NAME"
# ID de cliente
github-app.client-id: "GITHUB_CLIENT_ID"
# Secreto de cliente
github-app.client-secret: "GITHUB_CLIENT_SECRET"
# Secreto del webhook
github-app.webhook-secret: "my-super-secret-example-secret"
```

<Alert title="Nombre de la aplicación no válido">
  Si recibes un error de aplicación no válida o aplicación no encontrada, se
  recomienda cambiar `github-app.name` al slug correcto de la aplicación.
  Esto puede ocurrir si la aplicación incluye caracteres no alfanuméricos.
</Alert>

Por último, genera y descarga la clave privada y agrégala a la configuración de tu aplicación:

```yml
github-app.private-key: |
  -----BEGIN RSA PRIVATE KEY-----
  privatekeyprivatekeyprivatekeyprivatekey
  privatekeyprivatekeyprivatekeyprivatekey
  privatekeyprivatekeyprivatekeyprivatekey
  privatekeyprivatekeyprivatekeyprivatekey
  privatekeyprivatekeyprivatekeyprivatekey
  -----END RSA PRIVATE KEY-----
```

También puedes usar un archivo `sentry.conf.py` para guardar tu configuración de la siguiente manera:

```python
from sentry.conf.server import SENTRY_OPTIONS

# ID de la app
SENTRY_OPTIONS["github-app.id"] = GITHUB_APP_ID
# Nombre de la app
SENTRY_OPTIONS["github-app.name"] = GITHUB_APP_NAME
# ID de cliente
SENTRY_OPTIONS["github-app.client-id"] = GITHUB_CLIENT_ID
# Secreto de cliente
SENTRY_OPTIONS["github-app.client-secret"] = GITHUB_CLIENT_SECRET
# Secreto del webhook
SENTRY_OPTIONS["github-app.webhook-secret"] = GITHUB_WEBHOOK_SECRET

SENTRY_OPTIONS[
    "github-app.private-key"
] = """
-----BEGIN RSA PRIVATE KEY-----
privatekeyprivatekeyprivatekeyprivatekey
privatekeyprivatekeyprivatekeyprivatekey
privatekeyprivatekeyprivatekeyprivatekey
privatekeyprivatekeyprivatekeyprivatekey
privatekeyprivatekeyprivatekeyprivatekey
-----END RSA PRIVATE KEY-----
"""

```

Ten en cuenta que tu clave privada debe ser una cadena multilínea sin espacios en blanco antes del comienzo de cada nueva línea de la clave.
