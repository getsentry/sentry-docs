---
title: Client Reports
description: SDK self-reporting protocol for tracking discarded events and their discard reasons.
spec_id: sdk/telemetry/client-reports
spec_version: 1.19.0
spec_status: stable
spec_depends_on:
  - id: sdk/foundations/transport/envelopes
    version: ">=1.0.0"
spec_changelog:
  - version: 1.19.0
    date: 2026-02-06
    summary: Added network failure recording rules (send_error for 4xx/5xx, no report for 429)
  - version: 1.18.0
    date: 2026-01-29
    summary: Added telemetry processor integration, updated SDK recommendations
  - version: 1.17.0
    date: 2026-01-21
    summary: Added `invalid` discard reason
  - version: 1.16.0
    date: 2026-01-14
    summary: Added `ignored` discard reason
  - version: 1.15.0
    date: 2025-01-21
    summary: Added `buffer_overflow` discard reason
  - version: 1.14.0
    date: 2024-09-10
    summary: Added span outcome tracking (span category for dropped transactions)
  - version: 1.13.0
    date: 2023-12-12
    summary: Added `backpressure` discard reason
  - version: 1.12.0
    date: 2023-06-26
    summary: Added `insufficient_data` discard reason
  - version: 1.11.0
    date: 2023-02-09
    summary: Added `send_error` and `internal_sdk_error` discard reasons
  - version: 1.10.0
    date: 2022-06-23
    summary: Added product context (Scope and Intent)
  - version: 1.9.0
    date: 2022-05-06
    summary: Client reports never rate limited by server
  - version: 1.8.0
    date: 2022-04-11
    summary: Added HTTP status code handling guidance
  - version: 1.7.0
    date: 2022-04-06
    summary: SDK bugs out of scope for client reports
  - version: 1.6.0
    date: 2022-04-04
    summary: event_processor discard for ignored exceptions
  - version: 1.5.0
    date: 2022-04-04
    summary: Added `send_client_reports` configuration option
  - version: 1.4.0
    date: 2022-03-28
    summary: SDK recommendations, legacy events, custom transports sections
  - version: 1.3.0
    date: 2022-03-28
    summary: No double counting — MUST NOT record for HTTP 429
  - version: 1.2.0
    date: 2022-03-22
    summary: Specified data categories for discard reasons
  - version: 1.1.0
    date: 2021-12-24
    summary: Relay outcome types (rate_limited_events, filtered_events, filtered_sampling_events)
  - version: 1.0.1
    date: 2021-09-10
    summary: Fixed field name from discard_reason to reason
  - version: 1.0.0
    date: 2021-09-10
    summary: Initial spec — client report protocol, envelope format, discard reasons
---

<SpecRfcAlert />

<SpecMeta />

## Overview

Client reports are a protocol feature that let SDKs send status reports about themselves to Sentry. They are primarily used to emit outcomes for events that were never sent — providing visibility into what is happening on the SDK side that affects the user experience.

Not to be confused with [User Feedback](https://docs.sentry.io/product/user-feedback/).

Due to a bug in Relay which discards envelopes containing unknown envelope items, the minimum required Sentry version for client reports is [21.9.0](https://github.com/getsentry/relay/blob/master/CHANGELOG.md#2190).

Related specs:
- [Envelopes](/sdk/foundations/transport/envelopes/) — transport format
- [Envelope Items](/sdk/foundations/transport/envelope-items/) — envelope item types
- [Telemetry Processor](/sdk/foundations/processing/telemetry-processor/) — SDK processing architecture
- [Rate Limiting](/sdk/expected-features/rate-limiting/) — data category definitions

---

## Concepts

### Outcomes

An **outcome** describes the fate of a telemetry item — whether it was accepted, filtered, rate-limited, or discarded. Client reports cover the **discarded** category: items that were never sent to Sentry.

### Discard Reasons

A **discard reason** is a string that explains why a telemetry item was dropped. Each discarded item is categorized by reason and [data category](/sdk/expected-features/rate-limiting/#definitions).

### Data Categories

Data categories (e.g., `error`, `transaction`, `span`) identify the type of telemetry item that was discarded. These are the same categories used for [rate limits](/sdk/expected-features/rate-limiting/#definitions).

---

## Behavior

<SpecSection id="core-operation" status="stable" since="1.0.0">

### Core Operation

Client reports are sent as envelope items to Sentry, typically as separate envelopes or with one of the already scheduled envelopes. Their main purpose is to bring visibility into what is happening on the SDK side.

SDKs might drop events in several places — transport queue overflow, rate limit backoff, sampling, `before_send`, event processors — and this loss can be invisible to a customer. Client reports let an SDK emit such event outcomes to provide data about how often this is happening.

The party that drops an envelope item **MUST** record and report it.

SDKs can assume client reports are never rate limited (since 1.9.0). The server minimizes the possibility of client reports getting rate limited, but the SDKs shouldn't worry about this edge case as this feature is best-effort.

Bugs in SDKs are out of scope for client reports and are not tracked using client reports (since 1.7.0).

Client reports do not expect 100 percent correct numbers, and it is acceptable for SDKs to lose a small number of client reports. The expectation is to give users an approximation of specific outcomes.

</SpecSection>

<SpecSection id="network-success" status="stable" since="1.8.0">

### Network Failure Recording

#### Successful Sends (HTTP 2xx)

When SDKs receive an `HTTP 2xx` status code response from Sentry, they **MUST** consider it a successful send. No client report is recorded.

</SpecSection>

<SpecSection id="network-error-responses" status="stable" since="1.8.0">

#### Error Responses (HTTP 4xx/5xx)

If Sentry returns an `HTTP 4xx` or `HTTP 5xx` status code, SDKs:

- **MUST** discard the envelope.
- **MUST** record a client report with the discard reason `send_error`. For `HTTP 429` and `HTTP 413`, follow the dedicated sections [below](#network-429) instead, as they have additional requirements.

</SpecSection>

<SpecSection id="network-413" status="stable" since="1.19.0">

#### Content Too Large (HTTP 413)

For an [`HTTP 413 Content Too Large`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413) response, SDKs:

- **MUST** discard the envelope and record a client report with the discard reason `send_error`. Upstream usually records a client report for oversized envelopes, but not always. Double-counting is preferable to not counting, so users are aware of all dropped envelopes. Since client reports are not expected to be fully accurate, we accept this tradeoff for now.
- **MUST NOT** retry sending the envelope.
- **SHOULD** log an error, informing users that the envelope was discarded due to size limits.
- **MAY** add information from the response body to the logged error. If doing so, SDKs **MUST** be aware that Relay can change or remove information in the response body for an `HTTP 413` at any time without notice.

</SpecSection>

<SpecSection id="network-429" status="stable" since="1.3.0">

#### Rate Limited (HTTP 429)

For an [`HTTP 429 Too Many Requests`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429) response, SDKs:

- **MUST** respect the [rate limiting rules](/sdk/expected-features/rate-limiting/), such as correctly parsing the retry-header.
- **MUST** discard the envelope, but **MUST NOT** record a client report, because the upstream already does this. Doing this would double-count client reports for discarded envelopes.
- **MUST NOT** retry sending the envelope.

</SpecSection>

<SpecSection id="network-processing-failures" status="stable" since="1.11.0">

#### Processing Failures

When failures occur that are caused by processing in the SDK itself, SDKs **MUST** discard the envelope and record a client report with the discard reason `internal_sdk_error`.

</SpecSection>

<SpecSection id="network-transport-errors" status="stable" since="1.8.0">

#### Transport Errors

SDKs **MAY** retry sending the envelope when a network error occurs (connection timeout, DNS resolution failure, connection reset by peer). No client report is required for retried network errors.

</SpecSection>

<SpecSection id="span-outcomes" status="stable" since="1.14.0">

### Span Outcomes

When a transaction is dropped, SDKs **MUST** record an additional `span` category entry containing the number of spans inside the transaction plus one. The plus one stems from the fact that Relay extracts an additional span from the transaction. If a transaction contains no spans, SDKs still report one dropped transaction and one dropped span. This also applies to transactions that are not sampled.

If certain spans are dropped in `beforeSendTransaction`, an event processor, etc., SDKs also report those.

</SpecSection>

<SpecSection id="telemetry-processor-integration" status="candidate" since="1.18.0">

### Telemetry Processor Integration

SDKs **MAY** keep track of discarded events in the transport. Once SDKs implement the [telemetry processor](/sdk/foundations/processing/telemetry-processor/), they **SHOULD** implement client reports tracking outside the transport, since data can be dropped in multiple places throughout the SDK.

The [telemetry scheduler](/sdk/foundations/processing/telemetry-processor/#telemetry-scheduler) is then responsible for passing aggregated client reports to the transport. The telemetry scheduler still **MUST** adhere to all requirements in this spec.

See the [telemetry processor spec](/sdk/foundations/processing/telemetry-processor/) for the full architecture and recording points.

</SpecSection>

<SpecSection id="sdk-recommendations" status="stable" since="1.4.0">

### SDK Recommendations

It is not required, for example:

- to persist the data when an application crashes.
- to move an envelope item with a client report to the next envelope when the cache for envelopes is full.

SDKs **SHOULD** minimize unnecessary HTTP requests and **MUST NOT** send an envelope for each discarded event. Adjust these recommendations as needed:

1. For low-frequency apps (mobile/web): Attach discarded events to scheduled envelopes. Fewer client reports are acceptable in such cases.
2. For high-frequency apps (backends): Periodically flush discarded events or attach to scheduled envelopes.

</SpecSection>

<SpecSection id="configuration" status="stable" since="1.5.0">

### Configuration

SDKs **SHOULD** provide a way to turn sending of client reports on and off. This option is called `send_client_reports` or `sendClientReports`.

</SpecSection>

<SpecSection id="legacy-events" status="stable" since="1.4.0">

### Legacy Events

For SDKs still sending legacy events instead of envelopes for backward compatibility with older Sentry servers, the recommendation is to send the client report as a separate envelope or attach it to pending session envelopes.

</SpecSection>

<SpecSection id="custom-transports" status="stable" since="1.4.0">

### Custom Transports

There is no expectation that such bookkeeping can work transparently for custom transports. Consequently, it's acceptable if client reports are optional for custom transports.

</SpecSection>

---

## Wire Format

<SpecSection id="envelope-item" status="stable" since="1.0.0">

### Envelope Item

Item type `"client_report"` contains a client report payload encoded in JSON.

**Constraints:**

- This Item **MAY** occur multiple times per Envelope, but SDKs **SHOULD** avoid sending more client reports than necessary.
- This Item can either be included in an Envelope with other Items, or it **MAY** be sent by itself.
- No envelope headers are required.
- Size limit: 4 KiB (see [Envelopes — Size Limits](/sdk/foundations/transport/envelopes/)).

</SpecSection>

<SpecSection id="payload-structure" status="stable" since="1.0.0">

### Payload Structure

A client report consists of a JSON payload with the following fields:

| Field | Type | Required | Since | Description |
|-------|------|----------|-------|-------------|
| `timestamp` | String or Number | **OPTIONAL** | 1.0.0 | The timestamp of when the client report was created. Must be an ISO DateTime string or a UNIX timestamp. If not sent, the server assumes the current UTC timestamp. In the data model, this is called `received`. |
| `discarded_events` | Array | **REQUIRED** | 1.0.0 | List of outcome objects \{`reason`, `category`, `quantity`\}. |

Each outcome object in `discarded_events` has:

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `reason` | String | **REQUIRED** | A discard reason that defines why events were lost (see [Discard Reasons](#discard-reasons)). |
| `category` | String | **REQUIRED** | The [data category](/sdk/expected-features/rate-limiting/#definitions) for which the discard reason applies (since 1.2.0). |
| `quantity` | Number | **REQUIRED** | The number of events which were lost. |

</SpecSection>

<SpecSection id="discard-reasons" status="stable" since="1.0.0">

### Discard Reasons

The following discard reasons are defined for `discarded_events`:

| Reason | Since | Description |
|--------|-------|-------------|
| `queue_overflow` | 1.0.0 | SDK internal queue (e.g., transport queue) overflowed. |
| `cache_overflow` | 1.0.0 | SDK internal cache (e.g., offline event cache) overflowed. |
| `ratelimit_backoff` | 1.0.0 | Rate limit instructed the SDK to back off. |
| `network_error` | 1.0.0 | Network errors, not retried. |
| `sample_rate` | 1.0.0 | Configured sample rate. |
| `before_send` | 1.0.0 | Dropped in `before_send`. |
| `event_processor` | 1.0.0 | Dropped by event processor; may also be used for ignored exceptions/errors (since 1.6.0). |
| `send_error` | 1.11.0 | Error when sending (e.g., 400 response). |
| `internal_sdk_error` | 1.11.0 | Internal SDK error (e.g., web worker crash). |
| `insufficient_data` | 1.12.0 | Lack of data in the event (e.g., not enough samples in a profile). |
| `backpressure` | 1.13.0 | Downsampling due to system load. |
| `buffer_overflow` | 1.15.0 | SDK internal buffer (e.g., breadcrumbs buffer) overflowed. |
| `ignored` | 1.16.0 | Telemetry item was ignored by the SDK (e.g., a span was ignored by `ignore_spans`; can also be used by other deny-list mechanisms). |
| `invalid` | 1.17.0 | Failed validation (e.g., replay session exceeded maximum allowed length). |

In case a reason needs to be added, it also has to be added to the allowlist in [snuba](https://github.com/getsentry/snuba/blob/master/rust_snuba/src/processors/outcomes.rs#L15).

</SpecSection>

<SpecSection id="relay-outcome-types" status="stable" since="1.1.0">

### Relay Outcome Types

The following outcome types are reserved for relay use:

`rate_limited_events`, `filtered_events`, `filtered_sampling_events`

These function like `discarded_events` (same `{reason, category, quantity}` structure) but identify events that were rate limited, filtered, or filtered by dynamic sampling _at a relay_. Client SDKs **MUST NOT** emit these _unless_ they are operating as a relay. The reason codes for these need to match the reason codes that relay would emit directly to Sentry.

</SpecSection>

---

## Examples

### Wire Format

```json
{
  "timestamp": "2020-02-07T14:16:00Z",
  "discarded_events": [
    {
      "reason": "queue_overflow",
      "category": "error",
      "quantity": 23
    },
    {
      "reason": "queue_overflow",
      "category": "transaction",
      "quantity": 1321
    }
  ]
}
```

### Full Envelope

```json
{}
{"type":"client_report"}
{"timestamp":"2020-02-07T14:16:00Z","discarded_events":[{"reason":"queue_overflow","category":"error","quantity":23}]}
```

### Span Outcome Example

When a transaction with 2 spans is dropped due to queue overflow:

```json
{
  "discarded_events": [
    {
      "reason": "queue_overflow",
      "category": "transaction",
      "quantity": 1
    },
    {
      "reason": "queue_overflow",
      "category": "span",
      "quantity": 3
    }
  ]
}
```

The span quantity is 3 (2 spans + 1 for the transaction itself, since Relay extracts an additional span from the transaction).

---

## Changelog

<SpecChangelog />
