
### Enabling Trace Lifecycle Profiling

To enable trace profiling, set the lifecycle to `trace`. Trace profiling requires tracing to be enabled.

Check out the <PlatformLink to="/tracing/">tracing setup documentation</PlatformLink> for more detailed information on how to configure sampling. Setting the sample rate to 1.0 means all transactions will be captured.


```java
import io.sentry.Sentry;
import io.sentry.ProfileLifecycle;

Sentry.init(options -> {
  options.setDsn("___PUBLIC_DSN___");
  // Set traces_sample_rate to 1.0 to capture 100%
  // of transactions for tracing.
  options.setTracesSampleRate(1.0);
  // To collect profiles for all profile sessions,
  // set `profile_session_sample_rate` to 1.0.
  options.setProfileSessionSampleRate(1.0);
  // Profiles will be automatically collected while
  // there is an active span.
  options.setProfileLifecycle(ProfileLifecycle.TRACE);
});
```

```kotlin
import io.sentry.Sentry
import io.sentry.ProfileLifecycle

Sentry.init { options ->
  options.dsn = "___PUBLIC_DSN___"
  // Set traces_sample_rate to 1.0 to capture 100%
  // of transactions for tracing.
  options.tracesSampleRate = 1.0
  // To collect profiles for all profile sessions,
  // set `profile_session_sample_rate` to 1.0.
  options.profileSessionSampleRate = 1.0
  // Profiles will be automatically collected while
  // there is an active span.
  options.profileLifecycle = ProfileLifecycle.TRACE
}
```

### Enabling Manual Lifecycle Profiling

To enable manual profiling, set the lifecycle to `manual`. Manual profiling does not require tracing to be enabled.

```java
import io.sentry.Sentry;
import io.sentry.ProfileLifecycle;

Sentry.init(options -> {
  options.setDsn("___PUBLIC_DSN___");
  // To collect profiles for all profile sessions,
  // set `profile_session_sample_rate` to 1.0.
  options.setProfileSessionSampleRate(1.0)
  // Profiles will be collected when
  // `Sentry.startProfiler()` is called and
  // stopped when `Sentry.stopProfiler()` is called.
  options.setProfileLifecycle(ProfileLifecycle.MANUAL);
});

// Start profiling
Sentry.startProfiler();

// run some code here

// Stop profiling
Sentry.stopProfiler();
```

```kotlin
import io.sentry.Sentry
import io.sentry.ProfileLifecycle

Sentry.init { options ->
  options.dsn = "___PUBLIC_DSN___"
  // To collect profiles for all profile sessions,
  // set `profile_session_sample_rate` to 1.0.
  options.profileSessionSampleRate = 1.0
  // Profiles will be collected when
  // `Sentry.startProfiler()` is called and
  // stopped when `Sentry.stopProfiler()` is called.
  options.profileLifecycle = ProfileLifecycle.MANUAL
}

// Start profiling
Sentry.startProfiler()

// run some code here

// Stop profiling
Sentry.stopProfiler()
```