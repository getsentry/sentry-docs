<SplitLayout>

<SplitSection>
<SplitSectionText>

#### Add Replay Integration

Add `replayIntegration()` to your initialization and configure the sample rates.

**Testing tip:** Set `replaysSessionSampleRate: 1.0` during development to capture all sessions.

</SplitSectionText>
<SplitSectionCode>

```javascript
import * as Sentry from "___SDK_PACKAGE___";

Sentry.init({
  dsn: "___PUBLIC_DSN___",

  // This sets the sample rate to be 10%. You may want this to be 100% while
  // in development and sample at a lower rate in production
  replaysSessionSampleRate: 0.1,

  // If the entire session is not sampled, use the below sample rate to sample
  // sessions when an error occurs.
  replaysOnErrorSampleRate: 1.0,

  integrations: [Sentry.replayIntegration()],
});
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

#### Privacy Options

By default, Replay masks all text and blocks media. Customize privacy settings based on your needs.

See <PlatformLink to="/session-replay/privacy/">Session Replay Privacy</PlatformLink> for all options.

</SplitSectionText>
<SplitSectionCode>

```javascript
Sentry.replayIntegration({
  // Text masking (default: true)
  maskAllText: true,

  // Block images/videos (default: true)
  blockAllMedia: true,

  // Mask specific inputs
  maskAllInputs: true,
}),
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>

### PII & Privacy Considerations

Personally identifiable information (PII), and privacy are important considerations when enabling Session Replay. There are multiple ways in which Sentry helps you avoid collecting PII, including:
- <PlatformLink to="/session-replay/privacy/#masking">Masking</PlatformLink>, which replaces the text content with something else. (The default behavior being to replace each character with a *.)
- Making <PlatformLink to="/session-replay/privacy/#network-request-and-response-bodies-and-headers">network request, response bodies, and headers</PlatformLink> an opt-in feature, because the best way to avoid getting PII into Sentry is by not adding URLs of endpoints that may contain PII.

While we have certain privacy considerations in place, Sentry's Session Replay allows you to set up the <PlatformLink to="/session-replay/privacy/#privacy-configuration">privacy configurations</PlatformLink> that work best for your use case. For example, if you're working on a static website that's free of PII or other types of private data, you can opt out of the default text masking and image blocking settings.
To learn more about Session Replay privacy, see <PlatformLink to="/session-replay/privacy/">Session Replay Privacy</PlatformLink>.

<SplitLayout>

<SplitSection>
<SplitSectionText>

#### Lazy-Loading Replay

Load Replay only when needed instead of at startup. Useful for reducing initial bundle size.

</SplitSectionText>
<SplitSectionCode>

<PlatformContent includePath="configuration/integrations/lazy-loading-replay" />

</SplitSectionCode>
</SplitSection>

</SplitLayout>
