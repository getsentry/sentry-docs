```ruby
require 'sentry-ruby'

Sentry.init do |config|
  config.dsn = '___PUBLIC_DSN___'

  # get breadcrumbs from logs
  config.breadcrumbs_logger = [:sentry_logger, :http_logger]

  # Add data like request headers and IP for users, if applicable;
  # see https://docs.sentry.io/platforms/ruby/data-management/data-collected/ for more info
  config.send_default_pii = true
  # ___PRODUCT_OPTION_START___ performance

  # enable tracing
  # we recommend adjusting this value in production
  config.traces_sample_rate = 1.0
  # ___PRODUCT_OPTION_END___ performance
  # ___PRODUCT_OPTION_START___ profiling

  # enable profiling
  # this is relative to traces_sample_rate
  config.profiles_sample_rate = 1.0
  # ___PRODUCT_OPTION_END___ profiling
  # ___PRODUCT_OPTION_START___ logs-beta

  # enable logs
  config.enable_logs = true
  # ___PRODUCT_OPTION_END___ logs-beta
end
```

Sentry relies on the `at_exit` hook to flush all events before the process exits. To make sure none of your events are lost, additionally please set the following environment variable when you run Resque:

```bash
RUN_AT_EXIT_HOOKS=1 rake resque:workers
```
