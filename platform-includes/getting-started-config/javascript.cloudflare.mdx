Since the SDK needs access to the `AsyncLocalStorage` API, you need to set the `nodejs_compat` compatibility flag in your `wrangler.(jsonc|toml)` configuration file:

```jsonc {tabTitle:JSON} {filename:wrangler.jsonc}
{
  "compatibility_flags": ["nodejs_compat"],
}
```

```toml {tabTitle:Toml} {filename:wrangler.toml}
compatibility_flags = ["nodejs_compat"]
```

Additionally, add the `CF_VERSION_METADATA` binding in the same file:

```jsonc {tabTitle:JSON} {filename:wrangler.jsonc}
{
  // ...
  "version_metadata": {
    "binding": "CF_VERSION_METADATA",
  },
}
```

```toml {tabTitle:Toml} {filename:wrangler.toml}
version_metadata = { binding = "CF_VERSION_METADATA" }
```
