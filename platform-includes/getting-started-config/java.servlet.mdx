<OnboardingOption optionId="opentelemetry" hideForThisOption>
Configuration should happen as early as possible in your application's lifecycle.

The following example configures a `SentryInitializer` servlet container initializer that initializes Sentry on application startup.


```java
package sentry.sample;

import io.sentry.Sentry;
import javax.servlet.ServletContainerInitializer;
import javax.servlet.ServletContext;
import javax.servlet.ServletException;

public final class SentryInitializer implements ServletContainerInitializer {

  @Override
  public void onStartup(Set<Class<?>> c, ServletContext ctx) throws ServletException {
    Sentry.init(options -> {
      options.setDsn("___PUBLIC_DSN___");

      // Add data like request headers and IP for users,
      // see https://docs.sentry.io/platforms/java/guides/servlet/data-management/data-collected/ for more info
      options.setSendDefaultPii(true);
      // ___PRODUCT_OPTION_START___ performance

      // Set traces_sample_rate to 1.0 to capture 100%
      // of transactions for tracing.
      // We recommend adjusting this value in production.
      options.setTracesSampleRate(1.0);
      // ___PRODUCT_OPTION_END___ performance
      // ___PRODUCT_OPTION_START___ profiling

      // Enable profiling
      options.setProfileSessionSampleRate(1.0);
      options.setProfileLifecycle(ProfileLifecycle.TRACE);
      // ___PRODUCT_OPTION_END___ profiling
      // ___PRODUCT_OPTION_START___ logs

      // Enable logs to be sent to Sentry
      options.getLogs().setEnabled(true);
      // ___PRODUCT_OPTION_END___ logs
    });
  }
}
```

```kotlin
package sentry.sample;

import javax.servlet.ServletContainerInitializer
import javax.servlet.ServletContext
import javax.servlet.ServletException

class SentryInitializer : ServletContainerInitializer {
  @Throws(ServletException::class)
  override fun onStartup(c: Set<Class<*>?>?, ctx: ServletContext) {
    Sentry.init { options ->
      options.dsn = "___PUBLIC_DSN___"

      // Add data like request headers and IP for users,
      // see https://docs.sentry.io/platforms/java/guides/servlet/data-management/data-collected/ for more info
      options.isSendDefaultPii = true
        // ___PRODUCT_OPTION_START___ performance

      // Set traces_sample_rate to 1.0 to capture 100%
      // of transactions for tracing.
      // We recommend adjusting this value in production.
      options.tracesSampleRate = 1.0
      // ___PRODUCT_OPTION_END___ performance
      // ___PRODUCT_OPTION_START___ profiling

      // Enable profiling
      options.profileSessionSampleRate = 1.0
      options.profileLifecycle = ProfileLifecycle.TRACE
      // ___PRODUCT_OPTION_END___ profiling
      // ___PRODUCT_OPTION_START___ logs

      // Enable logs to be sent to Sentry
      options.logs.enabled = true
      // ___PRODUCT_OPTION_END___ logs
    }
  }
}
```
<OnboardingOption optionId="logs">
<Alert>

Learn more about setting up logging in our <PlatformLink to="/logs/">Logs documentation</PlatformLink>.

</Alert>
</OnboardingOption>

Create a file in `src/main/resources/META-INF/services` named `javax.servlet.ServletContainerInitializer`, with a full name of your custom `SentryInitializer` class as a content:

```properties
sentry.sample.SentryInitializer
```
</OnboardingOption>
