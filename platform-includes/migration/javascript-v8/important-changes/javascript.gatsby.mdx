### Supported versions

Sentry Gatsby SDK `8.x` supports React version `16.0.0` or higher.

If you need to support older versions of React, please use Sentry Gatsby SDK `7.x`.

<Include name="migration/javascript-v8/compatible-browsers" />

### Removal of Gatsby Initialization via plugin options

In `8.x`, we are removing the ability to initialize the Gatsby SDK via plugin options.

Previously you had to use the `gatsby-config.js` file to initialize the SDK like this:

```JavaScript {gatsby-config.js}
module.exports = {
  // ...
  plugins: [
    {
      resolve: '@sentry/gatsby',
      options: {
        dsn: process.env.SENTRY_DSN,
      },
    },
    // ...
  ],
};
```

Now you still use the `gatsby-config.js`:

```JavaScript {gatsby-config.js}
module.exports = {
  // ...
  plugins: [
    {
      resolve: '@sentry/gatsby',
    },
    // ...
  ],
};
```

But you should also create a `sentry.config.js` file in the root of your project and initialize the SDK there:

```JavaScript {sentry.config.js}
import * as Sentry from '@sentry/gatsby';

Sentry.init({
  dsn: '__PUBLIC_DSN__',
});
```

### Automatic adding of `browserTracingIntegration` for Gatsby

The Gatsby SDK no longer adds the `browserTracingIntegration` automatically when you specify a `tracesSampleRate`. If you want to enable tracing in the browser, you need to add it manually. Make sure to also configured a `tracePropagationTargets` value.

```JavaScript {sentry.config.js}
import * as Sentry from '@sentry/gatsby';

Sentry.init({
  dsn: '__PUBLIC_DSN__',
  integrations: [Sentry.browserTracingIntegration()],

  // Set tracesSampleRate to 1.0 to capture 100%
  // of transactions for performance monitoring.
  // We recommend adjusting this value in production
  tracesSampleRate: 1.0,

  // Set `tracePropagationTargets` to control for which URLs distributed tracing should be enabled
  tracePropagationTargets: ['localhost', /^https:\/\/yourserver\.io\/api/],
});
```
