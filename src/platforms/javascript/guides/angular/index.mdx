---
title: Angular
sidebar_order: 1000
redirect_from:
  - /clients/javascript/integrations/angular2/
  - /platforms/javascript/angular/
---

On this page, we provide concise information to use Sentry with your Angular application. You will need to use `@sentry/angular` (Sentry’s Browser Angular SDK).

**Note:** If you don't already have an account and Sentry project established, head over to [sentry.io](https://sentry.io/signup/), then return to this page.

## Install

Sentry captures data by using an SDK within your application’s runtime. Add the Sentry SDK as a dependency using `yarn` or `npm`:

```bash
# Using yarn
$ yarn add @sentry/angular

# Using npm
$ npm install @sentry/angular
```

## Configure

`init` the Sentry browser SDK as soon as possible during your application load up, before initializing Angular:

```javascript
import { enableProdMode } from '@angular/core';
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import * as Sentry from '@sentry/angular';

import { AppModule } from './app/app.module';

Sentry.init({ dsn: '___PUBLIC_DSN___' });

enableProdMode();
platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .then(success => console.log(`Bootstrap success`))
  .catch(err => console.error(err));
```

Once this is done, all uncaught exceptions are automatically reported to Sentry. Additionally, you can configure `@sentry/angular` to catch any Angular-specific exceptions reported through the [@angular/core/ErrorHandler](https://angular.io/api/core/ErrorHandler) provider.

**Important:** Note your DSN. The _DSN_ (Data Source Name) tells the SDK where to send events. If you forget it, view _Settings -> Projects -> Client Keys (DSN)_ in the Sentry web UI.

### Automatically Send Errors with `ErrorHandler`

`@sentry/angular` exports a function to instantiate an `ErrorHandler` provider that will automatically send Javascript errors captured by the Angular's error handler.

```javascript
import { NgModule, ErrorHandler } from '@angular/core';
import * as Sentry from '@sentry/angular';

@NgModule({
  // ...
  providers: [
    {
      provide: ErrorHandler,
      useValue: Sentry.createErrorHandler({
        showDialog: true,
      }),
    },
  ],
  // ...
})
export class AppModule {}
```

Additionally, `createErrorHandler` accepts a set of options that allows you to configure its behavior. For more details see the `ErrorHandlerOptions` interface in [our repository](https://github.com/getsentry/sentry-javascript/blob/master/packages/angular/src/errorhandler.ts).

## Monitor Performance

`@sentry/angular` exports a Trace Service, Directive, and Decorators that leverages the `@sentry/tracing`, Sentry's Tracing integration, to add Angular-related spans to transactions. The service itself tracks route changes and durations, where directive and decorators are tracking component initializations.

**Note:** If the Tracing integration is not enabled, this functionality will not work. 

### Install

Install a Trace Service with these three steps:

1. Register and configure the Tracing integration, including custom Angular routing instrumentation:

  ```javascript
  import * as Sentry from '@sentry/angular';
  import { Integrations } from "@sentry/tracing";
  
  Sentry.init({
    dsn: '___PUBLIC_DSN___',
    integrations: [
      new Integrations.BrowserTracing({
        tracingOrigins: ['localhost', 'https://yourserver.io/api'],
        routingInstrumentation: Sentry.routingInstrumentation,
      }),
    ],
    tracesSampleRate: 1.0, // Be sure to lower this in production
  });
  ```

2. Register `TraceService` as a provider in Angular's DI system, with a `Router` as its dependency:

  ```javascript
  import { NgModule } from '@angular/core';
  import { Router } from '@angular/router';
  import * as Sentry from '@sentry/angular';

  @NgModule({
    // ...
    providers: [
      {
        provide: Sentry.TraceService,
        deps: [Router],
      },
    ],
    // ...
  })
  export class AppModule {}
  ```

3. Either require the `TraceService` from inside `AppModule` or use `APP_INITIALIZER` to force instantiate Tracing.

  ```javascript
  @NgModule({
    // ...
  })
  export class AppModule {
    constructor(trace: TraceService) {}
  }
  ```

 or

  ```javascript
  import { APP_INITIALIZER } from '@angular/core';

  @NgModule({
    // ...
    providers: [
      {
        provide: APP_INITIALIZER,
        useFactory: () => () => {},
        deps: [TraceService],
        multi: true,
      },
    ],
    // ...
  })
  export class AppModule {}
  ```

### Track Angular Components

To track Angular components as part of your transactions, use any of these three options:

1. `TraceDirective` to track a duration between `OnInit` and `AfterViewInit` lifecycle hooks in template:

  ```javascript
  import * as Sentry from '@sentry/angular';

  @NgModule({
    // ...
    declarations: [Sentry.TraceDirective],
    // ...
  })
  export class AppModule {}
  ```

 Then, inside your components template, (remember that the directive name attribute is required):

  ```html
  <app-header [trace]="'header'"></app-header>
  <articles-list [trace]="'articles-list'"></articles-list>
  <app-footer [trace]="'footer'"></app-footer>
  ```

2. `TraceClassDecorator` tracks a duration between `OnInit` and `AfterViewInit` lifecycle hooks in components:

  ```javascript
  import { Component } from '@angular/core';
  import * as Sentry from '@sentry/angular';

  @Component({
    selector: 'layout-header',
    templateUrl: './header.component.html',
  })
  @Sentry.TraceClassDecorator()
  export class HeaderComponent {
    // ...
  }
  ```

3. `TraceMethodDecorator` tracks a specific lifecycle hooks as point-in-time spans in components:

  ```javascript
  import { Component, OnInit } from '@angular/core';
  import * as Sentry from '@sentry/angular';

  @Component({
    selector: 'app-footer',
    templateUrl: './footer.component.html',
  })
  export class FooterComponent implements OnInit {
    @Sentry.TraceMethodDecorator()
    ngOnInit() {}
  }
  ```

You can also add your own custom spans by attaching them to the current active transaction using `getActiveTransaction`
helper. For example, to track the duration of the Angular bootstraping process:

```javascript
import { enableProdMode } from '@angular/core';
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import * as Sentry from '@sentry/angular';

import { AppModule } from './app/app.module';

// ...

const activeTransaction = Sentry.getActiveTransaction();
const boostrapSpan =
  activeTransaction &&
  activeTransaction.startChild({
    description: 'platform-browser-dynamic',
    op: 'angular.bootstrap',
  });

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .then(() => console.log(`Bootstrap success`))
  .catch(err => console.error(err));
  .finally(() => {
    if (bootstrapSpan) {
      boostrapSpan.finish();
    }
  })
```

## AngularJS 1.x

If you're using `AngularJS 1.x`, you can use Sentry's AngularJS integration.

### Install 

Install `@sentry/browser` and `@sentry/integrations` using `yarn` or `npm`:

```bash
# Using yarn
yarn add @sentry/browser @sentry/integrations

# Using npm
npm install @sentry/browser @sentry/integrations
```

and afterwards using it like this:

```javascript
import angular from "angular";
import * as Sentry from "@sentry/browser";
import { Angular as AngularIntegration } from "@sentry/integrations";

// Make sure to call Sentry.init after importing AngularJS.
// You can also pass {angular: AngularInstance} to the Integrations.Angular() constructor.
Sentry.init({
  dsn: "___PUBLIC_DSN___",
  integrations: [new AngularIntegration()],
});

// Finally require ngSentry as a dependency in your application module.
angular.module("yourApplicationModule", ["ngSentry"]);
```

If you're using the CDN version of the SDK, Sentry provides a standalone file for every integration:

```html
<script
  src="https://browser.sentry-cdn.com/{{ packages.version('sentry.javascript.browser') }}/bundle.min.js"
  integrity="sha384-{{ packages.checksum('sentry.javascript.browser', 'bundle.min.js', 'sha384-base64') }"
  crossorigin="anonymous"
></script>

<!-- If you include the integration it will be available under Sentry.Integrations.Angular -->
<script
  src="https://browser.sentry-cdn.com/{{ packages.version('sentry.javascript.browser') }}/angular.min.js"
  crossorigin="anonymous"
></script>

<script>
  Sentry.init({
    dsn: "___PUBLIC_DSN___",
    integrations: [new Sentry.Integrations.Angular()],
  });
</script>
```