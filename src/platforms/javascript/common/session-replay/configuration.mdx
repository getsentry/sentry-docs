---
title: Configuration
sidebar_order: 4100
notSupported:
  - javascript.cordova
  - javascript.electron
  - javascript.wasm
description: 'Learn about the general Session Replay configuration fields.'
---

<Include name="beta-note-session-replay.mdx" />

## General Integration Configuration

The following options can be configured on the root level of your browser-based Sentry SDK, in `init({})`:

| Key                      | Type   | Default | Description                                                                                                                                                                                                                                                       |
| ------------------------ | ------ | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| replaysSessionSampleRate | number | `0`     | The sample rate for replays that begin recording immediately and last the entirety of the user's session. `1.0` collects all replays, and `0` collects none.                                                                                                      |
| replaysOnErrorSampleRate | number | `0`     | The sample rate for replays that are recorded when an error happens. This type of replay will record up to a minute of events prior to the error and continue recording until the session ends. `1.0` captures all sessions with an error, and `0` captures none. |

The following can be configured as integration options in `new Replay({})`:

| Key                    | Type                 | Default | Description                                                                                                                                                                        |
| ---------------------- | -------------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| stickySession          | boolean              | `true`  | Keep track of users across page loads. Note, because closing a tab ends the session, a single user using multiple tabs will be recorded as multiple sessions. |
| networkDetailAllowUrls | (string \| RegExp)[] | `[]`    | Capture request and response details for XHR and Fetch requests that match the given URLs.                                                                                                 |
| networkCaptureBodies   | boolean              | `true`  | Decide whether to capture request and response bodies for URLs defined in `networkDetailAllowUrls`                                                                                                |
| networkRequestHeaders  | string[]             | `[]`    | Capture request headers in addition to default headers.                                                                                                                         |
| networkResponseHeaders | string[]             | `[]`    | Capture response headers in addition to default headers.                                                                                                                        |

### Sampling

If you want to understand how exactly our session sampling works, check out our <PlatformLink to="/session-replay/understanding-sessions/#default-session-initialization">Understanding Sessions > Default Session Initialization</PlatformLink> documentation.

### Network Details

By default, Replay will capture basic information about all outgoing fetch and XHR requests in your application. This includes the URL, request and response body size, method, and status code. The intention is to limit the chance of collecting private data by default.

To capture additional information such as headers or bodies, you'll need to opt-in via `networkDetailAllowUrls`.
Any URL matching the given pattern(s) will then be captured with additional details:

```javascript
new Replay({
   networkDetailAllowUrls: ['https://sentry.io/api']
});
```

If you give us a string, we'll match any URL that contains that string. You can use a Regex to handle exact or more complex matches.

Requests to a URL matched by the configured patterns will be enhanced with the request and response body, as well as the default headers `content-type`, `content-length`, and `accept, by default. If you want to capture additional headers, you'll have to configure them with the options `networkRequestHeaders` and `networkResponseHeaders`.

Note that captured bodies will be truncated to a maximum size of 150k characters. Content in bodies will be PII sanitized server-side, based on object keys and values.

### Sensitive data in request and response bodies

Sentry attempts to scrub certain types of sensitive data from request and response bodies, if you accidentally opt-in to a URL that includes sensitive data. This mechanism happens on our ingestion service, before data hits our disks. This is a best effort approach. Pattern matching the content with things like credit card information, social security numbers and [passwords](https://github.com/search?q=repo%3Agetsentry%2Frelay%20PASSWORD_KEY_REGEX&type=code). The best way to avoid PII getting into Sentry is to avoid adding the URL of endpoints that can contain PII.

## Identifying Users

You can use the Sentry SDK to link a user to a session. Read more about it in our <PlatformLink to="/enriching-events/identify-user">docs</PlatformLink>.

```javascript
Sentry.setUser({email: 'jane.doe@example.com'});
```

## Privacy

We take privacy seriously, so we provide a number of privacy-oriented settings. Learn more about these in our our <PlatformLink to="/session-replay/privacy/#privacy-configuration">Session Replay privacy documentation</PlatformLink>.
