---
title: Angular CLI
description: "Upload your source maps using the Angular CLI, a custom Angular builder and the Sentry Webpack plugin."
sidebar_order: 0
supported:
  - javascript.angular
---

You can use the Angular CLI together with our Sentry Webpack plugin to automatically create releases and upload source maps to Sentry when building your app (e.g. with `ng build`).
Due to Angular's closed build system, you first need to to configure a custom builder to register the Webpack plugin.

## Installation

```shell {tabTitle:npm}
npm install --save-dev @angular-builders/custom-webpack @sentry/webpack-plugin
```

```shell {tabTitle:yarn}
yarn add --dev @angular-builders/custom-webpack @sentry/webpack-plugin
```

## Configuration

First, make sure that you're [generating source maps](../../.#generating-source-maps) in your Angular project.
Then, set up a [custom Angular builder](https://www.npmjs.com/package/@angular-builders/custom-webpack), to which you add the Sentry Webpack plugin.

### 1. Set up custom Angular builder

In your `angular.json`, replace the default builder (`@angular-devkit/build-angular`) with `@angular-builders/custom-webpack`:

```javascript {filename:angular.json}
{
  "projects": {
    "my-project": {
      "architect": {
        "build": {
          "builder": "@angular-builders/custom-webpack:browser",
          "options": {
            "customWebpackConfig": {
              "path": "./webpack.config.js"
            },
            // ... other options
          },
          // ... other options
        },
        // ... other options
      },
      // ... other options
    }
  }
}
```

Note: This will have no effect on your development server by using `ng serve`. Only `ng build` is configured to use the custom builder and the Webpack plugin. If you're using an Angular version below 13

### 2. Register the Sentry Webpack Plugin

Register the Sentry Webpack plugin in your `webpack.config.js`:

```javascript {filename:webpack.config.js}
const SentryWebpackPlugin = require("@sentry/webpack-plugin");

module.exports = {
  // ... other config above ...

  devtool: "source-map", // Source map generation must be turned on
  plugins: [
    new SentryWebpackPlugin({
      org: "___ORG_SLUG___",
      project: "___PROJECT_SLUG___",

      // Auth tokens can be obtained from https://sentry.io/settings/account/api/auth-tokens/
      // and needs the `project:releases` and `org:read` scopes
      authToken: process.env.SENTRY_AUTH_TOKEN,

      // Specify the directory containing build artifacts
      include: "./dist/my-project",

      // Optionally uncomment the line below to override automatic release name detection
      // release: process.env.RELEASE,
    }),
  ],
};
```

Learn more about configuring the plugin in our [Sentry Webpack Plugin documentation](https://github.com/getsentry/sentry-webpack-plugin).

<Note>

If you use [SourceMapDevToolPlugin](https://webpack.js.org/plugins/source-map-dev-tool-plugin) for more fine-grained control of source map generation, turn off `noSources` so Sentry can display proper source code context in event stack traces.

</Note>

### 3. Uploading

To upload, simply build your Angular application:

```bash
ng build
```

### Releases

The Sentry Webpack plugin will automatically inject a release value into the SDK so you must either omit the `release` option from `Sentry.init` or make sure `Sentry.init`'s `release` option matches the plugin's `release` option exactly:

```javascript
Sentry.init({
  dsn: "___PUBLIC_DSN___",

  // When using the plugin, either remove the `release`` property here entirely or
  // make sure that the plugin's release option and the Sentry.init()'s release
  // option match exactly.
  // release: "my-example-release-1"
});
```
