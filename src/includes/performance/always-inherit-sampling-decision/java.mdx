```java
TracesSamplerCallback tracesSampler = (TracesSamplerCallback) samplingContext -> {
  Boolean parentSampled = samplingContext.getTransactionContexts().getParentSampled();
  if (parentSampled != null) {
    return parentSampled ? 1 : 0;
  }
  // the rest of sampling logic
}
```
