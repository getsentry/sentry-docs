Performance Monitoring is available for the Sentry Java SDK version â‰¥ 4.0.

<Note>

If you are using either our [Spring](/platforms/java/guides/spring/performance/) or [Spring Boot](/platforms/java/guides/spring-boot/performance/) integrations, errors are linked with spans automatically.

</Note>

```java {tabTitle:Java}
import io.sentry.Sentry;

Sentry.init(options -> {
  options.setDsn("___PUBLIC_DSN___");
  // To set a uniform sample rate
  options.setTracesSampleRate(1.0);
  // OR if you prefer, determine traces sample rate based on the sampling context
  options.setTracesSampler(
      context -> {
        // return a number between 0 and 1 or null (to fallback to configured value)
      });
});
```

```kotlin {tabTitle:Kotlin}
import io.sentry.Sentry
import io.sentry.SentryOptions.TracesSamplerCallback

Sentry.init { options ->
  options.dsn = "___PUBLIC_DSN___"
  // To set a uniform sample rate
  options.tracesSampleRate = 1.0
  // OR if you prefer, determine traces sample rate based on the sampling context
  options.tracesSampler = TracesSamplerCallback {
    // return a number between 0 and 1 or null (to fallback to configured value)
  }
}
```

## High-Throughput Transport

For high traffic applications, we recommend using high-throughput HTTP transport based on [Apache HTTP Client 5](https://hc.apache.org/httpcomponents-client-5.0.x/index.html).

```xml {tabTitle:Maven}
<dependency>
    <groupId>io.sentry</groupId>
    <artifactId>sentry-apache-http-client-5</artifactId>
    <version>{{ packages.version('sentry.java.apache-http-client-5', '4.2.0') }}</version>
</dependency>
```

```groovy {tabTitle:Gradle}
implementation 'io.sentry:sentry-apache-http-client-5:{{ packages.version('sentry.java.apache-http-client-5', '4.2.0') }}'
```

```scala {tabTitle:SBT}
libraryDependencies += "io.sentry" % "sentry-apache-http-client-5" % "{{ packages.version('sentry.java.apache-http-client-5', '4.2.0') }}"
```

Once the dependency to `sentry-apache-http-client-5` is on the class path, `ApacheHttpClientTransportFactory` must be set on the `SentryOptions`:

```java {tabTitle:Java}
import io.sentry.Sentry;
import io.sentry.transport.apache.ApacheHttpClientTransportFactory;

Sentry.init(options -> {
  // configure DSN and sampling
  // ...
  // configure transport factory
  options.setTransportFactory(new ApacheHttpClientTransportFactory());
});
```

```kotlin {tabTitle:Kotlin}
import io.sentry.Sentry
import io.sentry.transport.apache.ApacheHttpClientTransportFactory

Sentry.init { options ->
  // configure DSN and sampling
  // ...
  // configure transport factory
  options.setTransportFactory(ApacheHttpClientTransportFactory())
}
```
