On this page you will learn how to manually propagate trace information into and out of your JavaScript application.

In the following cases, distributed tracing will be set up automatically for you:

- You have our <PlatformLink to="/performance/">performance monitoring feature</PlatformLink> turned on.
- You are using one of the platforms that include distributed tracing out of the box:
  - `@sentry/nextjs`
  - `@sentry/sveltekit`
  - `@sentry/remix`
  - `@sentry/astro`

If you are using a different package, and have not enabled performance monitoring, you can manually set up your application for distributed tracing to work.

## Enabling Distributed Tracing without Performance

You can add the `BrowserTracing` integration in your `Sentry.init()` options, as described in the Performance <PlatformLink to="/performance/instrumentation/automatic-instrumentation/">Automatic Instrumentation</PlatformLink> docs. If you combine this with `tracesSampleRate: 0`, you will have distributed tracing without performance monitoring:

```javascript
Sentry.init({
  dsn: "___PUBLIC_DSN___",
  integrations: [new Sentry.BrowserTracing()],
  tracesSampleRate: 0,
});
```

## Enabling Distributed Tracing without `BrowserTracing`

If you do not want to use the `BrowserTracing` integration, you can manually extract and inject tracing information into your application. For this, you must:

- Extract and store incoming tracing information from HTML `meta` tags when loading the page
- Inject tracing information to the outgoing request when sending outgoing requests.

To learn more, see our <PlatformLink to="/usage/distributed-tracing/">Distributed Tracing</PlatformLink> docs.

### Extract Tracing Information From HTML `meta` Tags

Assuming the backend that renders the HTML has injected tracing information into the HTML as `meta` tags, you can extract that tracing information on `pageload` and use it to create new transactions connected to that incoming trace.

Some of our backend SDKs provide a built-in way to inject tracing information into rendered HTML. For example:

- [Python](/platforms/python/usage/distributed-tracing/custom-instrumentation/#inject-tracing-information-into-rendered-html)
- [Ruby](/platforms/ruby/usage/distributed-tracing/custom-instrumentation/#inject-tracing-information-into-rendered-html)
- [PHP](/platforms/php/usage/distributed-tracing/custom-instrumentation/#inject-tracing-information-into-rendered-html)

Then, on `pageload` you can do the following:

```javascript
// Read meta tag values
const sentryTrace = getMetaContent("sentry-trace");
const baggage = getMetaContent("baggage");

const pageLoadTransaction = Sentry.continueTrace(
  { sentryTrace, baggage },
  (transactionContext) => {
    return Sentry.startTransaction({
      ...transactionContext,
      name: "my pageload",
      op: "pageload",
    });
  }
);
```

In this example, we create a new transaction that is attached to the trace specified in the `sentry-trace` and `baggage` HTML `meta` tags.

### Inject Tracing Information to Outgoing Requests

For distributed tracing to work, the two headers that you extracted and stored in the `pageLoadTransaction`, `sentry-trace` and `baggage`, must be added to outgoing XHR/fetch requests.

Here's an example of how to collect and inject this tracing information to outgoing requests:

```javascript
// Create `sentry-trace` header
const sentryTraceHeader = pageLoadTransaction.toTraceparent();

// Create `baggage` header
const dynamicSamplingContext = pageLoadTransaction.getDynamicSamplingContext();
const sentryBaggageHeader = dynamicSamplingContextToSentryBaggageHeader(
  dynamicSamplingContext
);

// Make outgoing request
fetch("https://example.com", {
  method: "GET",
  headers: {
    baggage: sentryBaggageHeader,
    "sentry-trace": sentryTraceHeader,
  },
}).then((response) => {
  // ...
});
```

In this example, tracing information is propagated to the project running at `https://example.com`. If this project uses a Sentry SDK, it will extract and save the tracing information for later use.

The two services are now connected with your custom distributed tracing implementation.

## Verification

If you make outgoing requests from your project to other services, check if the headers `sentry-trace` and `baggage` are present in the request. If so, distributed tracing is working.
