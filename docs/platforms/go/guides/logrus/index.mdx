---
title: Logrus
description: "Logrus is a structured logger for Go, used to log messages in different formats and levels. This guide demonstrates how to integrate Logrus with Sentry to capture and send both logs and events to Sentry."
---

For a quick reference, there is a [complete example](https://github.com/getsentry/sentry-go/tree/master/_examples/logrus) at the Go SDK source code repository.

Go API documentation for the [`sentrylogrus` package](https://pkg.go.dev/github.com/getsentry/sentry-go/logrus) is also available.

## Requirements

Logrus structured logging is supported in Sentry Go SDK version `0.34.0` and above.

## Install

```bash
go get github.com/getsentry/sentry-go
go get github.com/getsentry/sentry-go/logrus
```

## Configure

### Initialize the Sentry SDK

<PlatformContent includePath="getting-started-include-logs-config" />

### Options

`sentrylogrus` provides two types of hooks to configure the integration with Sentry. Both hooks accept these options:
- **Levels**: A slice of `logrus.Level` specifying which log levels to capture
- **ClientOptions**: Standard `sentry.ClientOptions` for configuration

## Verify

To integrate Sentry with Logrus, you can set up both log hooks and event hooks to capture different types of data at various log levels.

```go
// Initialize Sentry SDK
if err := sentry.Init(sentry.ClientOptions{
    Dsn: "___PUBLIC_DSN___",
    EnableLogs:       true,
}); err != nil {
    log.Fatalf("Sentry initialization failed: %v", err)
}

logger := logrus.New()
logger.Level = logrus.DebugLevel
logger.Out = os.Stderr

// Get the Sentry client from the current hub
hub := sentry.CurrentHub()
client := hub.Client()
if client == nil {
    log.Fatalf("Sentry client is nil")
}

// Create log hook to send logs on Info level
logHook := sentrylogrus.NewLogHookFromClient(
    []logrus.Level{logrus.InfoLevel},
    client,
)

// Create event hook to send events on Error, Fatal, Panic levels
eventHook := sentrylogrus.NewEventHookFromClient(
    []logrus.Level{
        logrus.ErrorLevel,
        logrus.FatalLevel,
        logrus.PanicLevel,
    },
    client,
)

defer eventHook.Flush(5 * time.Second)
defer logHook.Flush(5 * time.Second)
logger.AddHook(eventHook)
logger.AddHook(logHook)

// Flushes before calling os.Exit(1) when using logger.Fatal
// (else all defers are not called, and Sentry does not have time to send the event)
logrus.RegisterExitHandler(func() {
    eventHook.Flush(5 * time.Second)
    logHook.Flush(5 * time.Second)
})

// Info level is sent as a log to Sentry
logger.Infof("Application has started")

// Example of logging with attributes
logger.WithField("user", "test-user").Error("An error occurred")

// Error level is sent as an error event to Sentry
logger.Errorf("oh no!")

// Fatal level is sent as an error event to Sentry and terminates the application
logger.Fatalf("can't continue...")
```

### LogHook

You have two ways to create a new `LogHook`. Either by using `sentrylogrus.NewLogHook()` and passing the `sentry.ClientOptions`, or
by using `sentrylogrus.NewLogHookFromClient()` and passing an already created `sentry.Client`. These hook captures log entries and
send them to Sentry's structured logging system.

#### NewLogHook
```go
logHook, err := sentrylogrus.NewLogHook(
    []logrus.Level{logrus.InfoLevel, logrus.WarnLevel},
    sentry.ClientOptions{
        Dsn: "___PUBLIC_DSN___",
        EnableLogs: true, // Required for log entries
    },
)
```

#### NewLogHookFromClient

Use `NewLogHookFromClient` if you've already initialized the Sentry SDK.
```go
if err := sentry.Init(sentry.ClientOptions{
    Dsn:        "___PUBLIC_DSN___",
    EnableLogs: true,
}); err != nil {
    log.Fatalf("Sentry initialization failed: %v", err)
}
hub := sentry.CurrentHub()
client := hub.Client()
if client != nil {
    logHook := sentrylogrus.NewLogHookFromClient(
        []logrus.Level{logrus.InfoLevel, logrus.WarnLevel},
        client,
    )
} else {
    log.Fatalf("Sentrylogrus initialization failed: nil client")
}
```

### EventHook

You also have two ways to create a new `EventHook`. Either by using `sentrylogrus.NewEventHook()` and passing the `sentry.ClientOptions`, or
by using `sentrylogrus.NewEventFromClient()` and passing an already created `sentry.Client`. These hook captures log entries and
send them as events. This is helpful for error tracking and alerting.

#### NewEventHook
```go
eventHook, err := sentrylogrus.NewEventHook(
    []logrus.Level{logrus.ErrorLevel, logrus.FatalLevel, logrus.PanicLevel},
    sentry.ClientOptions{
        Dsn: "___PUBLIC_DSN___",
        Debug: true,
        AttachStacktrace: true,
    },
)
```
#### NewEventHookFromClient

Use `NewEventHookFromClient` if you've already initialized the Sentry SDK.
```go
if err := sentry.Init(sentry.ClientOptions{
    Dsn:        "https://examplePublicKey@o0.ingest.sentry.io/0",
    EnableLogs: true,
}); err != nil {
    log.Fatalf("Sentry initialization failed: %v", err)
}
hub := sentry.CurrentHub()
client := hub.Client()
if client != nil {
    eventHook := sentrylogrus.NewEventHookFromClient(
        []logrus.Level{logrus.InfoLevel, logrus.WarnLevel},
        client,
    )
} else {
    log.Fatalf("Sentrylogrus initialization failed: nil client")
}
```

<Alert>
    When using both hooks, ensure you flush both of them before the application exits and register exit handlers for fatal logs to avoid losing pending events.
</Alert>

<Include name="logs/go-ctx-usage-alert.mdx"/>

## Logs

For comprehensive logging setup with Logrus, including advanced configuration options and best practices, see the [Go Logs documentation](/platforms/go/logs/). The Logrus integration shown above provides seamless integration with Sentry's structured logging features.
