---
title: Anthropic
description: "Adds instrumentation for the Anthropic Python SDK."
---

This integration connects Sentry with the [Anthropic Python SDK](https://github.com/anthropics/anthropic-sdk-python) to automatically capture spans for LLM requests. Data shows up in the [AI Agents Dashboard](/product/insights/ai/agents).

## Install

Install `sentry-sdk` from PyPI:

```bash {tabTitle:pip}
pip install sentry-sdk
```

```bash {tabTitle:uv}
uv add sentry-sdk
```

## Configure

If you have the `anthropic` package in your dependencies, the Anthropic integration will be enabled automatically when you initialize the Sentry SDK.

<PlatformContent includePath="getting-started-config" />

## Verify

Verify that the integration works by making a chat request to Anthropic.

```python
import sentry_sdk
from anthropic import Anthropic

sentry_sdk.init(...)  # same as above

client = Anthropic(api_key="(your Anthropic key)")

def my_llm_stuff():
    with sentry_sdk.start_transaction(name="The result of the AI inference"):
        print(
            client.messages.create(
                model="claude-3-5-sonnet-20240620",
                max_tokens=1024,
                messages=[{"role": "user", "content": "say hello"}]
            )
            .content[0]
            .text
        )
```

After running this script, the resulting data should show up in the `"AI Spans"` tab on the `"Explore" > "Traces"` page on Sentry.io.

If you manually created an <PlatformLink to="/tracing/instrumentation/custom-instrumentation/ai-agents-module/#invoke-agent-span">Invoke Agent Span</PlatformLink> (not done in the example above) the data will also show up in the [AI Agents Dashboard](/product/insights/ai/agents).

It may take a couple of moments for the data to appear in [sentry.io](https://sentry.io).

## Supported Operations

The integration automatically captures spans for the following Anthropic SDK calls:

- `messages.create()` - Create messages (sync and async)

## Options

Configure the Anthropic integration by adding `AnthropicIntegration` to your `sentry_sdk.init()` call:

```python
import sentry_sdk
from sentry_sdk.integrations.anthropic import AnthropicIntegration

sentry_sdk.init(
    dsn="___PUBLIC_DSN___",
    send_default_pii=True,
    integrations=[
        AnthropicIntegration(
            include_prompts=True,
            # See below for all available options
        ),
    ],
)
```

### `include_prompts`

_Type: `boolean`_

Records inputs and outputs from LLM calls (prompts, messages, responses).

Defaults to `True` if `send_default_pii` is `True`.

## Supported Versions

- Anthropic: 0.16.0+
- Python: 3.8+
