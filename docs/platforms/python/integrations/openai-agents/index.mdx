---
title: OpenAI Agents
description: "Adds instrumentation for the OpenAI Agents SDK."
---

<Alert title="Beta">

The support for **OpenAI Agents SDK** is in beta. Test locally before using in production.

</Alert>

This integration connects Sentry with the [OpenAI Agents SDK](https://openai.github.io/openai-agents-python/) to automatically capture spans for AI agent interactions. Data shows up in the [AI Agents Dashboard](/product/insights/ai/agents).

## Install

Install `sentry-sdk` from PyPI:

```bash {tabTitle:pip}
pip install "sentry-sdk"
```

```bash {tabTitle:uv}
uv add "sentry-sdk"
```

## Configure

If you have the `agents` package in your dependencies, the OpenAI Agents integration will be enabled automatically when you initialize the Sentry SDK.

<PlatformContent includePath="getting-started-config" />

## Verify

Verify that the integration works by running an AI agent. The resulting data should show up in your AI Agents Insights dashboard.

```python
import asyncio
import random

import sentry_sdk
import agents
from pydantic import BaseModel  # installed by openai-agents

@agents.function_tool
def random_number(max: int) -> int:
    return random.randint(0, max)

class FinalResult(BaseModel):
    number: int

random_number_agent = agents.Agent(
    name="Random Number Agent",
    instructions="Generate a random number.",
    tools=[random_number, ],
    output_type=FinalResult,
    model="gpt-4o-mini",
)

async def main() -> None:
    sentry_sdk.init(
        dsn="___PUBLIC_DSN___",
        traces_sample_rate=1.0,
        # Add data like LLM and tool inputs/outputs;
        # see https://docs.sentry.io/platforms/python/data-management/data-collected/ for more info
        send_default_pii=True,
    )

    await agents.Runner.run(
        random_number_agent,
        input=f"Generate a random number between 0 and {10}.",
    )

if __name__ == "__main__":
    asyncio.run(main())
```

It may take a couple of moments for the data to appear in [sentry.io](https://sentry.io).

## Supported Operations

The integration automatically captures spans for:

- Agent invocations
- Tool executions
- Token usage (input and output)
- Model usage

## Options

Configure the OpenAI Agents integration by adding `OpenAIAgentsIntegration` to your `sentry_sdk.init()` call:

```python
import sentry_sdk
from sentry_sdk.integrations.openai_agents import OpenAIAgentsIntegration

sentry_sdk.init(
    dsn="___PUBLIC_DSN___",
    send_default_pii=True,
    integrations=[
        OpenAIAgentsIntegration(
            include_prompts=True,
            # See below for all available options
        ),
    ],
)
```

### `include_prompts`

_Type: `boolean`_

Records inputs and outputs from LLM and tool calls (prompts, messages, responses).

Defaults to `True` if `send_default_pii` is `True`.

## Supported Versions

- OpenAI Agents SDK: 0.0.19+
- Python: 3.9+
