---
title: Sentry CLI Execution Fails
description: "Troubleshoot and resolve sentry-cli execution failures in CentOS environments."
sdk: sentry.java
categories:
  - java
  - troubleshooting
sidebar_order: 1001
---

The Sentry Maven plugin may fail to execute `sentry-cli` in certain environments, particularly on CentOS 7 with Java 14 or later. This issue is caused by changes in the JVM's process launching mechanism.

## Symptoms

When this issue occurs, you may see:

- No output from `sentry-cli` execution
- Build failures with `SentryCliException`
- Error messages like `Failed to exec spawn helper: pid: X, exit value: 127`
- Empty output files in `/tmp/maven*cli`

## Root Cause

Starting from Java 14, the JVM uses `posix_spawn` under the hood to launch new processes. This can cause issues in certain environments, particularly on older Linux distributions like CentOS 7.

## Solution

Add the following JVM option to switch the launch mechanism to `vfork`:

```bash
-Djdk.lang.Process.launchMechanism=vfork
```

### Maven Configuration

Add the JVM option to your Maven configuration:

```xml {tabTitle:Maven}{filename:pom.xml}
<plugin>
    <groupId>io.sentry</groupId>
    <artifactId>sentry-maven-plugin</artifactId>
    <configuration>
        <jvmArgs>
            <jvmArg>-Djdk.lang.Process.launchMechanism=vfork</jvmArg>
        </jvmArgs>
    </configuration>
</plugin>
```

### Command Line

Alternatively, you can pass the JVM option directly when running Maven:

```bash
mvn clean package -Djdk.lang.Process.launchMechanism=vfork
```

### Jenkins Configuration

If running in Jenkins, add the JVM option to your build configuration:

```groovy {tabTitle:Jenkins Pipeline}{filename:Jenkinsfile}
pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                sh 'mvn clean package -Djdk.lang.Process.launchMechanism=vfork'
            }
        }
    }
}
```

## Related Issue

For more details about this issue and the investigation process, see [GitHub Issue #169](https://github.com/getsentry/sentry-maven-plugin/issues/169).