---
title: Troubleshooting
sidebar_order: 9000
description: "Learn more about how to troubleshoot common issues with the .NET SDK. "
---

## Sentry CLI not configured

The following message may appear in your build output:

> The Sentry CLI is not fully configured with authentication, organization, and project.

The message currently appears as information only, though we may change it to a warning in the future.
This means that you are building in `Release` configuration, and you have not fully configured
[MSBuild for Sentry CLI](../configuration/msbuild/). You can handle this in one of the following ways:

- You can enable the Sentry CLI in your build by providing configuration details, as described in [the documentation here](../configuration/msbuild/).

- You can prevent the message from being generated by setting the property `<UseSentryCLI>false</UseSentryCLI>` in your .NET project file,
  or with `/p:UseSentryCLI=false` on the command line to `dotnet build` or `msbuild`. Sentry CLI will be disabled.

- You can do nothing, and just ignore the message. Sentry CLI will be disabled.

Keep in mind that if the Sentry CLI is disabled, then debug information files such as PDB symbols
will not be sent to Sentry. If Sentry cannot locate symbols, then it cannot perform symbolication of stack traces.
This means that for some types of projects (depending on configuration), you may not see filenames and line numbers
to help you locate the source of an exception.

## Updating to 4.12.0 broke my .NET iOS App

Support for Xcode 16.0 was added on version 4.12.0 of the Sentry SDK for .NET
If you are using Xcode 16.0, you will need to update the SDK version 4.12.0 or later.
If you are still using Xcode 15.4 or earlier, you need to continue to use version 4.11.0 or earlier.

Using Xcode 16 to build .NET applications targeting iOS and Mac Catalyst requires .NET workload for iOS SDK version 18.0.8303. We built the SDK version 4.12.0 using Xcode 16 in order to support this scenario. That, unfortunately, breaks folks using older version of Xcode.

As such, if you are using SDK version 4.12.x and targeting iOS or Mac Catalyst, you will need to install and use Xcode 16 and workload iOS SDK 18.0.8303

Note that .NET 9 will also support Xcode 16, when it is released next month (Nov 2024).

## The event is dropped by Sentry because it's too large

> Sentry: (Error) Sentry rejected the envelope 5bfe4129cb2446c08768b16479865035. Status code: RequestEntityTooLarge. Error detail: failed to read request body. Error causes: A payload reached size limit..

You can have the [Sentry .NET SDK write these envelopes to a path](https://github.com/getsentry/sentry-dotnet/blob/e62013ca63436d2a786fb229570e96f42c7c4044/src/Sentry/Http/HttpTransportBase.cs#L341-L363) in order to troubleshoot why they are too large.
Set the environment variable `SENTRY_KEEP_LARGE_ENVELOPE_PATH` to the directory you want these to be written to.
Make sure the process the SDK is running in has write access to it.

## User IP address in Sentry shows up as the server IP

If you're using a proxy server that relies on `X-Forwarded-For`, you might need to [configure ASP.NET Core
so that it's aware of it](https://docs.microsoft.com/aspnet/core/host-and-deploy/proxy-load-balancer).

See [this GitHub issue](https://github.com/getsentry/sentry-dotnet/issues/258) for more context.

## Unhandled exceptions are not captured when using an async `Main` method

Starting with C# 7.1, a program's [`Main` method](https://docs.microsoft.com/dotnet/csharp/fundamentals/program-structure/main-command-line) can be declared either synchronously or asynchronously.
This is further enhanced in C# 9 by the use of [top-level statements](https://learn.microsoft.com/dotnet/csharp/fundamentals/program-structure/top-level-statements), which can also be declared synchronously or asynchronously.

While using either of these features with previous versions of the Sentry .NET SDK, when `SentrySdk.Init` is called within a `using` statement unhandled exceptions might not get captured.
Additionally, if you were using an async main, associated transactions might not get marked as failed and sent to Sentry.

These issues have been fully resolved as of version 3.31.0 of the Sentry .NET SDK. To safely use an async main, update your version to the newest release.
It's no longer required to dispose of the result of calling `SentrySdk.Init`.

## Obfuscated Code and Stack Traces


It's important to define what obfuscation means. If you're getting illegible stack traces because of missing [debug files](/platforms/dotnet/data-management/debug-files/), all you need to do is enabling debug file upload, which is done automatically by the [Sentry SDK via MSBuild](/platforms/dotnet/guides/aspnet/configuration/msbuild/).

Some custom tools obfuscate .NET Intermediate Language (IL) in order to make apps harder to reverse-engineer; Sentry does not currently support these tools. This is because each obfuscator uses its own custom logic when dealing with deobfuscation, making it impractical to implement universal support.

If you're working with obfuscated code, you have several options:

1. **Use a proxy service**: You can route exceptions through your own web service proxy where you can deobfuscate the stack traces before sending them to Sentry. This gives you full control over the deobfuscation process.

2. **Preserve method names**: Many obfuscation tools allow you to disable method name obfuscation while still obfuscating the code inside methods. This approach results in more readable stack traces while maintaining code protection. Configure your obfuscator to preserve method names if this balance of readability and security meets your needs.

3. **Contribute to Symbolic**: [Our symbolication library is open source](https://github.com/getsentry/symbolic). You could create a ticket to discuss adding support to it with the maintainers.

<PlatformContent includePath="troubleshooting" />
