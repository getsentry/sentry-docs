---
title: Troubleshooting
sidebar_order: 9000
description: "Read the legacy documentation for the .NET SDK. "
---

<Alert level="warning" title="Deprecation Warning">

For .NET Framework 4.6.1, .NET Core 2.0, Mono 5.4, or higher we recommend using our [.NET SDK](/platforms/dotnet/). Raven is still recommended for .NET Framework 3.5 to 4.6.0.

</Alert>

Raven is a legacy client for Sentry written in C#, used in older versions of .NET Framework.

## Installation

A [NuGet Package](https://www.nuget.org/packages/SharpRaven) is available for SharpRaven if you donâ€™t want to compile it yourself.

Instantiate the client with your DSN:

<SignInNote />

```csharp
var ravenClient = new RavenClient("___PUBLIC_DSN___");
```

## Capturing Exceptions

Call out to the client in your catch block:

```csharp
try
{
    int i2 = 0;
    int i = 10 / i2;
}
catch (Exception exception)
{
    ravenClient.Capture(new SentryEvent(exception));
}
```

## Logging Non-Exceptions

You can capture a message without being bound by an exception:

```csharp
ravenClient.Capture(new SentryEvent("Hello World!"));
```

## Additional Data

You can add additional data to the [Exception.Data](https://msdn.microsoft.com/en-us/library/system.exception.data.aspx) property on exceptions thrown about in your solution:

```csharp
try
{
    // ...
}
catch (Exception exception)
{
    exception.Data.Add("SomeKey", "SomeValue");
    throw;
}
```

The data `SomeKey` and `SomeValue` will be captured and presented in the `extra` property on Sentry.

Additionally, the `SentryEvent` class allow you to provide extra data to be sent with your request, such as `ErrorLevel`, `Fingerprint`, a custom `Message` and _Tags_.

## Async Support

In the .NET 4.5 build of SharpRaven, there are `async` versions of the above methods as well:

```csharp
async Task<string> CaptureAsync(SentryEvent @event);
```

## Nancy Support

You can install the [SharpRaven.Nancy](https://www.nuget.org/packages/SharpRaven.Nancy) package to capture the HTTP context in [Nancy](https://nancyfx.org/) applications. It will auto-register on the `IPipelines.OnError` event, so all unhandled exceptions will be sent to Sentry.

The only thing you have to do is provide a DSN, either by registering an instance of the `Dsn` class in your container:

<SignInNote />

```csharp
protected override void ApplicationStartup(TinyIoCContainer container, IPipelines pipelines)
{
    container.Register(new Dsn("___PUBLIC_DSN___"));
}
```

or through configuration:

```xml
<configuration>
  <configSections>
    <section name="sharpRaven" type="SharpRaven.Nancy.NancyConfiguration, SharpRaven.Nancy" />
  </configSections>
  <sharpRaven>
    <dsn value="___PUBLIC_DSN___" />
  </sharpRaven>
</configuration>
```

The DSN will be picked up by the auto-registered `IRavenClient` instance, so if you want to send events to Sentry, all you have to do is add a requirement on `IRavenClient` in your classes:

```csharp
public class LoggingModule : NancyModule
{
    private readonly IRavenClient ravenClient;

    public LoggingModule(IRavenClient ravenClient)
    {
        this.ravenClient = ravenClient;
    }
}
```
