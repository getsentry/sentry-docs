---
title: Hono
description: "Learn about using Sentry with Hono."
categories:
  - server
---

<PlatformContent includePath="getting-started-primer" />

This guide explains how to set up Sentry in your Hono application.

If you don't already have an account and a Sentry project established, sign up for [Sentry](https://sentry.io/signup/) for free, then return to this page.

## Features

In addition to capturing errors, you can monitor interactions between multiple services or applications by [enabling tracing](/concepts/key-terms/tracing/). You can also collect and analyze performance profiles from real users with [profiling](/product/explore/profiling/). Note that profiling currently only works in the Node.js runtime.

Select which Sentry features you'd like to install in addition to Error Monitoring to get the corresponding installation and configuration instructions below.

<OnboardingOptionButtons
  options={["error-monitoring", "performance", "profiling"]}
/>

## Setup

Since Hono is a framework designed to run in all kinds of JavaScript runtimes, different setups for different platforms are outlined below.

### Setup On Cloudflare Workers

```bash {tabTitle:npm}
npm install @sentry/cloudflare --save
```

```bash {tabTitle:yarn}
yarn add @sentry/cloudflare
```

```bash {tabTitle:pnpm}
pnpm add @sentry/cloudflare
```

To use the SDK, you'll need to set either the `nodejs_compat` or `nodejs_als` compatibility flags in your `wrangler.toml`/`wrangler.json`.
This is because the SDK needs access to the `AsyncLocalStorage` API to work correctly.

```toml {tabTitle:Toml} {filename:wrangler.toml}
compatibility_flags = ["nodejs_compat"]
# compatibility_flags = ["nodejs_als"]
```

```json {tabTitle:JSON} {filename:wrangler.json}
{
  "compatibility_flags": [
    "nodejs_compat"
    // "nodejs_als"
  ]
}
```

Next, wrap your handler with the `withSentry` function. This will initialize the SDK and hook into the
environment. Note that you can turn off almost all side effects using the respective options.

```typescript {filename:index.ts} {"onboardingOptions": {"performance": "14-18"}}
import { Hono } from "hono";
import * as Sentry from "@sentry/cloudflare";

const app = new Hono();

// Your routes...
app.get("/", () => {
  // ...
});

export default Sentry.withSentry(
  (env) => ({
    dsn: "___PUBLIC_DSN___",

    // Set tracesSampleRate to 1.0 to capture 100% of spans for tracing.
    // Learn more at
    // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
    tracesSampleRate: 1.0,
  }),
  app
);
```

### Setup On Cloudflare Pages

```bash {tabTitle:npm}
npm install @sentry/cloudflare --save
```

```bash {tabTitle:yarn}
yarn add @sentry/cloudflare
```

```bash {tabTitle:pnpm}
pnpm add @sentry/cloudflare
```

To use the SDK, you'll need to set either the `nodejs_compat` or `nodejs_als` compatibility flags in your `wrangler.toml`/`wrangler.json`.
This is because the SDK needs access to the `AsyncLocalStorage` API to work correctly.

```toml {tabTitle:Toml} {filename:wrangler.toml}
compatibility_flags = ["nodejs_compat"]
# compatibility_flags = ["nodejs_als"]
```

```json {tabTitle:JSON} {filename:wrangler.json}
{
  "compatibility_flags": [
    "nodejs_compat"
    // "nodejs_als"
  ]
}
```

Next, add the `sentryPagesPlugin` as
[middleware to your Cloudflare Pages application](https://developers.cloudflare.com/pages/functions/middleware/).

We recommend adding a `functions/_middleware.js` for the middleware setup so that Sentry is initialized for your entire
app.

```javascript {filename:functions/_middleware.js} {"onboardingOptions": {"performance": "7-11"}}
import * as Sentry from "@sentry/cloudflare";

export const onRequest = [
  // Make sure Sentry is the first middleware
  Sentry.sentryPagesPlugin((context) => ({
    dsn: "___PUBLIC_DSN___",

    // Set tracesSampleRate to 1.0 to capture 100% of spans for tracing.
    // Learn more at
    // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
    tracesSampleRate: 1.0,
  })),
  // Add more middlewares here
];
```

### Setup On Other Runtimes

We currently limit support for Hono to Cloudflare.
If you need support for other runtimes [reach out on GitHub with a feature request](https://github.com/getsentry/sentry-javascript/issues/new/choose).
