---
title: Electron
description: "Learn how to manually set up Sentry in your Electron app and capture your first errors."
sdk: sentry.javascript.electron
categories:
  - javascript
  - desktop
---

<PlatformContent includePath="getting-started-prerequisites" />

## Step 1: Install

Choose the features you want to configure, and this guide will show you how:

<OnboardingOptionButtons
  options={[
    "error-monitoring",
    "performance",
    "session-replay",
    "user-feedback",
    "logs",
  ]}
/>

<PlatformContent includePath="getting-started-features-expandable" />

### Install the Sentry SDK

Run the command for your preferred package manager to add the Sentry SDK to your application:

```bash {tabTitle:npm}
npm install @sentry/electron --save
```

```bash {tabTitle:yarn}
yarn add @sentry/electron
```

```bash {tabTitle:pnpm}
pnpm add @sentry/electron
```

## Step 2: Configure

You should initialize the SDK in both the `main` process and every `renderer` process you spawn.

### Configure the Main Process

Initialize the SDK in your Electron `main` process as early as possible:

```javascript {filename:main.(js|ts)}
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  // ___PRODUCT_OPTION_START___ logs
  // Enable logs to be sent to Sentry
  _experiments: { enableLogs: true },
  // ___PRODUCT_OPTION_END___ logs
});
```

### Configure the Renderer Process

Initialize the SDK in your Electron renderer process. You can do this in either a preload script (`preload.(js|ts)`) or directly in your renderer script (`renderer.(js|ts)`):

<Expandable title="Should you use a preload script or renderer script?">

Choose based on your app's setup:

- **Renderer script**: Requires `contextIsolation: false`.
- **Preload script**: Recommended for production apps with `contextIsolation: true` (Electron's default security setting).
- **Both**: Initialize in both places, for example, if you need different configurations for the preload and renderer contexts.

</Expandable>

```javascript {filename:preload.(js|ts)}
import * as Sentry from "@sentry/electron/renderer";

Sentry.init({
  // Adds request headers and IP for users, for more info visit:
  // https://docs.sentry.io/platforms/javascript/guides/electron/configuration/options/#sendDefaultPii
  sendDefaultPii: true,
  integrations: [
    // ___PRODUCT_OPTION_START___ performance
    Sentry.browserTracingIntegration(),
    // ___PRODUCT_OPTION_END___ performance
    // ___PRODUCT_OPTION_START___ session-replay
    Sentry.replayIntegration(),
    // ___PRODUCT_OPTION_END___ session-replay
    // ___PRODUCT_OPTION_START___ user-feedback
    Sentry.feedbackIntegration({
      // Additional SDK configuration goes in here, for example:
      colorScheme: "system",
    }),
    // ___PRODUCT_OPTION_END___ user-feedback
  ],
  // ___PRODUCT_OPTION_START___ performance

  // Set tracesSampleRate to 1.0 to capture 100%
  // of transactions for performance monitoring.
  // We recommend adjusting this value in production
  // Learn more at
  // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
  // ___PRODUCT_OPTION_START___ session-replay

  // Capture Replay for 10% of all sessions,
  // plus for 100% of sessions with an error
  // Learn more at
  // https://docs.sentry.io/platforms/javascript/session-replay/configuration/#general-integration-configuration
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ session-replay
  // ___PRODUCT_OPTION_START___ logs

  // Enable logs to be sent to Sentry
  _experiments: { enableLogs: true },
  // ___PRODUCT_OPTION_END___ logs
});
```

<Expandable title="Did you change the userData directory?" level="warning">
If you change the `userData` directory used by your app, ensure this change is made before you configure the SDK as this path is used to cache scope and events between application restarts.

```javascript
import { app } from "electron";
import * as Sentry from "@sentry/electron/main";

app.setPath("userData", "~/.config/my-app");
Sentry.init({ dsn: "___PUBLIC_DSN___" });
```

</Expandable>

### Using Framework-Specific SDKs

If you're using a framework in your renderers, you can combine the Electron SDK with the framework SDK:

```javascript
import { init } from "@sentry/electron/renderer";
import { init as reactInit } from "@sentry/react";

init(
  {
    dsn: "___PUBLIC_DSN___",
    integrations: [
      /* integrations */
    ],
    /* Other Electron and React SDK config */
  },
  reactInit
);
```

## Step 3: Offline Support (Optional)

The default transport automatically handles offline events caching from both the
main and renderer processes. Here are several options that allow you to customize queueing behavior:

```javascript
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  transportOptions: {
    /* The maximum number of days to keep an envelope in the queue. */
    maxAgeDays: 30,
    /* The maximum number of envelopes to keep in the queue. */
    maxQueueSize: 30,
    /**
     * Called before we attempt to send an envelope to Sentry.
     *
     * If this function returns false, `shouldStore` will be called to determine if the envelope should be stored.
     *
     * Default: () => true
     *
     * @param envelope The envelope that will be sent.
     * @returns Whether we should attempt to send the envelope
     */
    shouldSend: (envelope: Envelope) => boolean | Promise<boolean>;
    /**
     * Called before an event is stored.
     *
     * Return false to drop the envelope rather than store it.
     *
     * Default: () => true
     *
     * @param envelope The envelope that failed to send.
     * @param error The error that occurred.
     * @param retryDelay The current retry delay in milliseconds.
     * @returns Whether we should store the envelope in the queue
     */
    shouldStore: (envelope: Envelope, error: Error, retryDelay: number) => boolean | Promise<boolean>;
    /**
     * Should the offline store flush shortly after startup.
     *
     * Defaults: false
     */
    flushAtStartup: false;
  },
});
```

## Step 4: Inter-Process Communication (Optional)

To provide the most detailed context for all events, including native crashes, the SDK merges context, scope, and breadcrumbs from all processes into the Electron `main` process.

By default, the SDK attempts to establish communication from `renderer` to `main` via Electron IPC APIs, and if that fails, falls back to using a custom HTTP protocol. You can change this default via the `ipcMode` option, which can be one of `Classic`, `Protocol`, or `Both`.

```javascript
const { init, IPCMode } = require("@sentry/electron/main");

init({
  dsn: "___PUBLIC_DSN___",
  debug: true,
  ipcMode: IPCMode.Protocol,
});
```

### Custom IPC Namespace

If your Electron application uses multiple IPC channels and you want to prevent potential conflicts between them, you can specify a custom namespace for the IPC channels used by Sentry with the `ipcNamespace` option.

To use a custom namespace, you need to configure it in all three contexts: main process, renderer processes, and preload scripts.

**In the main process:**

```javascript
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  ipcNamespace: "some-app",
});
```

**In renderer processes:**

```javascript
import * as Sentry from "@sentry/electron/renderer";

Sentry.init({
  ipcNamespace: "some-app",
});
```

**In preload scripts:**

```javascript
import { hookupIpc } from "@sentry/electron/preload-namespaced";

hookupIpc("some-app");
```

When set, the IPC channels used by Sentry will be prefixed with the specified namespace (e.g., `some-app`), helping to avoid conflicts with other IPC channels in your application. Make sure to use the same namespace value across all processes for proper communication.

For more configuration options, see the <PlatformLink to="/configuration/options/#ipcNamespace">configuration options documentation</PlatformLink>.

### Preload Injection

The SDK attempts to inject a preload script via [`session.setPreloads(preloads)`](https://www.electronjs.org/docs/latest/api/session#sessetpreloadspreloads) and by default only does this for the `defaultSession`. If you are using other sessions, you can pass custom sessions via the `getSessions` option in the `main` process:

```javascript
import { session } from "electron";
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  getSessions: () => [
    session.defaultSession,
    session.fromPartition("persist:my-session"),
  ],
});
```

If your app bundles the `main` process JavaScript, the SDK cannot automatically inject preload scripts because the script will be missing from the packaged app. In this case, the SDK will send events and scope updates via a custom HTTP protocol and `window.fetch`.

### Manual Preload

If you would like to manually bundle and configure the preload script, you should import the SDK preload code into your own preload script:

```javascript
import "@sentry/electron/preload";
```

This script exposes IPC to the isolated renderer via Electron's `contextBridge` API.

Check out the [example apps](https://github.com/getsentry/sentry-electron/tree/master/examples) for how to do this.

## Step 5: Debug Information (Optional)

To get symbolicated stack traces for native crashes, you should enable fetching
debug symbols from the Electron symbol server. Go to **Project Settings > Debug
Files** and add Electron to the list of built-in repositories.

If your app uses a custom Electron fork, contains modules with native extensions,
or spawns subprocesses, you should upload those symbols manually using the
Sentry CLI. For more information, see [_Native Usage_](/platforms/javascript/guides/electron/#native).

<Alert level="warning" title="Known Issue">

It is currently not possible to send events from native code (such as a C++ extension). However, crashes will still be reported to Sentry if they happen in a process where the SDK has been configured. Additionally, crash reports from sub-processes will not be reported automatically on all platforms. This feature will be added in a future SDK update.

</Alert>

## Step 6: Add Readable Stack Traces With Source Maps (Optional)

<PlatformContent includePath="getting-started-sourcemaps-short-version" />

## Step 7: Native (Optional)

Sentry can process Minidumps created when any of the Electron processes crash. To do so, the SDK needs to upload those files once the application restarts (or immediately for renderer crashes). All event metadata, including user information and breadcrumbs, is included in these uploads.

Due to [restrictions of macOS app sandboxing](https://electronjs.org/docs/tutorial/mac-app-store-submission-guide#limitations-of-mas-build), native crashes cannot be collected in Mac App Store builds. In this case, native crash handling will be disabled.

<Alert level="warning" title="A Word on Data Privacy">

Minidumps are memory dumps of the process at the moment it crashes. As such, they might contain sensitive information on the target system, such as environment variables, local path names, or maybe even in-memory representations of input fields including passwords. **Sentry does not store these memory dumps**. Once processed, they are removed immediately, and all sensitive information is stripped from the resulting issues.

</Alert>

### Providing Debug Information

To allow Sentry to fully process native crashes and provide you with
symbolicated stack traces, you need to upload _Debug Information Files_
(sometimes also referred to as _Debug Symbols_ or just _Symbols_).

First, make sure that the _Electron Symbol Server_ is enabled for your project.
Go to _Project Settings > Debug Files_ and choose `Electron` from the list of
_Builtin Repositories_. You can add more symbol servers for the platforms you
are deploying to, depending on your needs.

If your application contains custom native extensions or you wish to symbolicate
crashes from a spawned child process, upload their debug information manually
during your build or release process. See [_Debug Information Files_](/platforms/javascript/guides/electron/data-management/debug-files/) for a detailed description of how to
set up Sentry for native development. Additionally, see [_Uploading Debug
Information_](/cli/dif/) for details on the upload process.

### Child Processes

The SDK relies on the [Electron crashReporter](https://electronjs.org/docs/api/crash-reporter) to capture crash dumps. To receive crash reports for child processes, ensure the crash reporter is activated by either the SDK or manually (see [below](/platforms/javascript/guides/electron/#manual-crash-reporting)).

Once the crash reporter is active, the SDK will automatically capture native
crashes for the following processes:

|                             | `event.process` tag | macOS | Windows | Linux          |
| --------------------------- | ------------------- | ----- | ------- | -------------- |
| Electron `main` process     | `browser`           | ✓     | ✓       | ✓              |
| Electron `renderer` process | `renderer`          | ✓     | ✓       | ✓              |
| Electron `utilityProcess`   | `utility`           | ✓     | ✓       | ✓ <sup>1</sup> |
| `child_process.fork`        | `node`              | ✓     | ✓       |                |
| `child_process.exec/spawn`  | `unknown`           | ✓     |         |                |

<sup>1</sup> Not working with Electron v29.4.6.

### Manual Crash Reporting

You can also capture native crashes by starting the [Electron CrashReporter](https://electronjs.org/docs/api/crash-reporter) manually. Sentry can provide symbolicated stack traces and show system information, but no Electron-specific metadata, breadcrumbs, or context information will be present. This is useful in cases where you cannot use the full Electron SDK:

```javascript
const { crashReporter } = require("electron");
crashReporter.start({
  companyName: "YourCompany",
  productName: "YourApp",
  ignoreSystemCrashHandler: true,
  submitURL: "___MINIDUMP_URL___",
});
```

## Step 8: Verify Your Setup

Let's test your setup and confirm that Sentry is working correctly.

### Issues

**Main process error**

Add an event listener that throws an error in your `main.(js|ts)` file:

```javascript {filename: main(js|ts)}
// In main process
import { app } from "electron";
import * as Sentry from "@sentry/electron/main";

app.on("ready", () => {
  throw new Error("Sentry test error in main process");
});
```

**Renderer process error**

Add a test button in one of your HTML pages:

```html {filename: index.html}
<button id="testError">Break the world</button>

<script src="renderer.js"></script>
```

Then, in your renderer, add the following:

```javascript {filename: renderer.(js|ts)}
document.getElementById("testError").addEventListener("click", () => {
  throw new Error("Sentry test error in renderer process");
});
```

<OnboardingOption optionId="performance" hideForThisOption>
  Start your app and trigger two errors that Sentry will capture: one from the
  main process and one from the renderer.
</OnboardingOption>

<OnboardingOption optionId="performance">
### Tracing
To test tracing in your renderer, start a trace to measure the time it takes to execute your code:

```javascript {filename: renderer.(js|ts)}
document.getElementById("testError").addEventListener("click", () => {
  Sentry.startSpan({ op: "test", name: "Renderer test span" }, () => {
    throw new Error("Sentry test error in renderer process");
  });
});
```

Start your app and trigger two errors that Sentry will capture: one from the main process and one from the renderer. It will also start a trace with the defined name.

</OnboardingOption>

### View Captured Data in Sentry

Now, head over to your project on [Sentry.io](https://sentry.io/) to view the collected data (it takes a couple of moments for the data to appear).

<PlatformContent includePath="getting-started-verify-locate-data" />

## Next Steps

At this point, you should have integrated Sentry into your Electron application and should already be sending data to your Sentry project.

Now's a good time to customize your setup and look into more advanced topics. Our next recommended steps for you are:

- Continue to <PlatformLink to="/configuration">customize your configuration</PlatformLink>
- Learn how to <PlatformLink to="/usage">manually capture errors</PlatformLink>
- Get familiar with [Sentry's product features](/product/) like tracing, insights, and alerts

<Expandable permalink={false} title="Are you having problems setting up the SDK?">

- Find various topics in <PlatformLink to="/troubleshooting">Troubleshooting</PlatformLink>
- [Get support](https://sentry.zendesk.com/hc/en-us/)

</Expandable>
