---
title: "Getting Started with Sentry in Next.js"
description: Get started with monitoring errors, sending structure logs, replays, and sending traces and spans with span attributes within your in your Next.js application.
sidebar_title: "Getting Started"
sidebar_order: 0
sdk: sentry.javascript.nextjs
categories:
  - javascript
  - browser
  - server
  - server-node
---

<PlatformContent includePath="llm-rules-platform" />

Unlike the [Quick Start](/platforms/javascript/guides/nextjs/) which focuses on the fastest path to getting started with Sentry, this guide focuses on getting you up and running with the core of Sentry's capabilities.

## Install and Configure

<StepConnector selector="h3" showNumbers={false}>
<SplitLayout>

<SplitSection>
<SplitSectionText>

### Use the Installation Wizard (Recommended)

The wizard will guide you through the setup process, asking you to enable additional (optional) Sentry features for your application beyond error monitoring.

During this setup process, you'll be prompted to either create your project or select an existing project within Sentry.

</SplitSectionText>
<SplitSectionCode>

```bash
npx @sentry/wizard@latest -i nextjs
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>
</StepConnector>

## Modify your Sentry configuration

If you want to expand on your Sentry configuration by adding additional functionality, or manually instrument your application, here are the configuration files the wizard would create. This configuration assumes you enabled all of the functionality the wizard proposed including replays, logs, and tracing.

<StepConnector selector="h3" showNumbers={false}>
<SplitLayout>

<SplitSection>
<SplitSectionText>

### Client-Side Configuration

Configure Sentry for client-side error monitoring, performance tracking, and session replay. This configuration is loaded in the browser and includes integrations specific to the client environment.

Key features:

- **Browser Tracing**: Automatically tracks page loads and navigation
- **Session Replay**: Records user sessions for debugging
- **Structured Logs**: Sends client-side logs to Sentry
- **Performance Monitoring**: Captures 100% of transactions (adjust in production)

</SplitSectionText>
<SplitSectionCode>

```javascript {tabTitle:Client} {filename:instrumentation-client.(js|ts)}
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: "___PUBLIC_DSN___",

  sendDefaultPii: true,

  integrations: [
    // ___PRODUCT_OPTION_START___ performance
    Sentry.browserTracingIntegration(),
    // ___PRODUCT_OPTION_END___ performance
    // ___PRODUCT_OPTION_START___ session-replay
    Sentry.replayIntegration(),
    // ___PRODUCT_OPTION_END___ session-replay
  ],
  // ___PRODUCT_OPTION_START___ logs

  // Enable logs to be sent to Sentry
  enableLogs: true,
  // ___PRODUCT_OPTION_END___ logs

  // ___PRODUCT_OPTION_START___ performance

  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
  // ___PRODUCT_OPTION_START___ session-replay

  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ session-replay
});
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

### Server-Side Configuration

Configure Sentry for server-side error monitoring and performance tracking. This runs in Node.js and handles API routes, server components, and server actions.

Key features:

- **Error Monitoring**: Captures server-side exceptions automatically
- **Structured Logs**: Sends server logs to Sentry
- **Performance Monitoring**: Tracks server-side operations and database queries

For detailed manual setup instructions, see our [manual setup guide](/platforms/javascript/guides/nextjs/manual-setup/).

</SplitSectionText>
<SplitSectionCode>

```javascript {tabTitle:Server} {filename:sentry.server.config.(js|ts)}
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: "___PUBLIC_DSN___",

  // Adds request headers and IP for users, for more info visit:
  // https://docs.sentry.io/platforms/javascript/guides/nextjs/configuration/options/#sendDefaultPii
  sendDefaultPii: true,
  // ___PRODUCT_OPTION_START___ logs

  enableLogs: true,
  // ___PRODUCT_OPTION_END___ logs

  // ___PRODUCT_OPTION_START___ performance
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
});
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>
</StepConnector>

## Manually Capture Exceptions

By default, Sentry captures errors and exceptions automatically within your application. For times where you want to manually capture, use `Sentry.captureException()`. This can be used anywhere you catch errors — on the server or in client components — to send exceptions to Sentry with full context.

<StepConnector selector="h3" showNumbers={false}>
<SplitLayout>

<SplitSection>
<SplitSectionText>

### App Router - Server Side

Use `Sentry.captureException()` in API routes and Server Actions to manually capture exceptions that occur during server-side operations.

**API Routes**: Capture errors in route handlers when fetching data or processing requests.

**Server Actions**: Capture errors in form submissions or other server-side mutations.

Both examples show how to capture the error while preserving your application's normal error handling flow.

</SplitSectionText>
<SplitSectionCode>

```ts {filename:app/api/example/route.(ts|js)}
import * as Sentry from "@sentry/nextjs";

export async function GET() {
  try {
    // Your code that might throw
    throw new Error("Failed to fetch data");
  } catch (err) {
    Sentry.captureException(err);
    // Optionally keep propagating the error
    throw err;
  }
}
```

```ts {filename:app/actions.ts}
"use server";
import * as Sentry from "@sentry/nextjs";

export async function submitOrder(formData: FormData) {
  try {
    // ...perform work that might throw
  } catch (err) {
    Sentry.captureException(err);
    throw err; // preserve default error behavior
  }
}
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

### App Router - Client Side

In client components, use `Sentry.captureException()` to capture errors from user interactions, async operations, or any client-side logic.

The example shows capturing errors from a button click handler. You can optionally rethrow the error to trigger React error boundaries for user feedback.

</SplitSectionText>
<SplitSectionCode>

```tsx {filename:app/example-client-component.(tsx|jsx)}
"use client";
import * as Sentry from "@sentry/nextjs";

export function DangerousButton() {
  const onClick = async () => {
    try {
      // Code that might throw (sync or async)
      throw new Error("User action failed");
    } catch (err) {
      Sentry.captureException(err);
      // Optional: rethrow if you rely on React error boundaries
      throw err;
    }
  };

  return <button onClick={onClick}>Do risky thing</button>;
}
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

### Pages Router - Server Side

For applications using the Pages Router, capture exceptions in API routes to send server-side errors to Sentry.

This example shows how to handle errors gracefully while still sending them to Sentry for monitoring.

</SplitSectionText>
<SplitSectionCode>

```ts {filename:pages/api/example.(ts|js)}
import * as Sentry from "@sentry/nextjs";
import type { NextApiRequest, NextApiResponse } from "next";

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  try {
    // ...might throw
    res.status(200).json({ ok: true });
  } catch (err) {
    Sentry.captureException(err);
    // Respond or rethrow based on your needs
    res.status(500).json({ error: "Internal Server Error" });
  }
}
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

### Pages Router - Client Side

In Pages Router client components, capture exceptions from event handlers and other client-side operations.

Same pattern as App Router: catch the error, send it to Sentry, and optionally rethrow to trigger error boundaries.

</SplitSectionText>
<SplitSectionCode>

```tsx {filename:components/DangerousButton.(tsx|jsx)}
import * as Sentry from "@sentry/nextjs";

export function DangerousButton() {
  const onClick = () => {
    try {
      throw new Error("Something went wrong");
    } catch (err) {
      Sentry.captureException(err);
      // Optional: rethrow to trigger error boundaries
      throw err;
    }
  };
  return <button onClick={onClick}>Click me</button>;
}
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>
</StepConnector>

## Send Structured Logs

{/* <OnboardingOption optionId="logs"> */}

<StepConnector selector="h3" showNumbers={false}>
<SplitLayout>

<SplitSection>
<SplitSectionText>

### Structured Logging

[Structured logging](/platforms/javascript/guides/nextjs/logs/) lets users send text-based log information from their applications to Sentry. Once in Sentry, these logs can be viewed alongside relevant errors, searched by text-string, or searched using their individual attributes.

Use Sentry's logger to capture structured logs with meaningful attributes that help you debug issues and understand user behavior.

</SplitSectionText>
<SplitSectionCode>

```javascript
import * as Sentry from "@sentry/nextjs";

const { logger } = Sentry;

logger.info("User completed checkout", {
  userId: 123,
  orderId: "order_456",
  amount: 99.99,
});

logger.error("Payment processing failed", {
  errorCode: "CARD_DECLINED",
  userId: 123,
  attemptCount: 3,
});

logger.warn(logger.fmt`Rate limit exceeded for user: ${123}`);
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>
</StepConnector>

{/* </OnboardingOption> */}

## Customize Session Replay

{/* <OnboardingOption optionId="session-replay"> */}

<StepConnector selector="h3" showNumbers={false}>
<SplitLayout>

<SplitSection>
<SplitSectionText>

### Session Replay Configuration

[Replays](/product/explore/session-replay/web/getting-started/) allow you to see video-like reproductions of user sessions.

By default, Session Replay masks sensitive data to protect privacy and PII data. If needed, you can modify the replay configurations in your client-side Sentry initialization to show (unmask) specific content that's safe to display.

<Alert level="warning">
  Use caution when choosing what content to unmask within your application. This
  content displays in Replays may contain sensitive information or PII data.
</Alert>

</SplitSectionText>
<SplitSectionCode>

```javascript {filename:instrumentation-client.(js|ts)}
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  integrations: [
    Sentry.replayIntegration({
      // This will show the content of the div with the class "reveal-content" and the span with the data-safe-to-show attribute
      unmask: [".reveal-content", "[data-safe-to-show]"],
      // This will show all text content in replays. Use with caution.
      maskAllText: false,
      // This will show all media content in replays. Use with caution.
      blockAllMedia: false,
    }),
  ],
  // Only capture replays for 10% of sessions
  replaysSessionSampleRate: 0.1,
  // Capture replays for 100% of sessions with an error
  replaysOnErrorSampleRate: 1.0,
});
```

```jsx
<div className="reveal-content">This content will be visible in replays</div>
<span data-safe-to-show>Safe user data</span>
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>
</StepConnector>

{/* </OnboardingOption> */}

## Add Custom Instrumentation

<StepConnector selector="h3" showNumbers={false}>
<SplitLayout>

<SplitSection>
<SplitSectionText>

### Custom Tracing

[Tracing](/platforms/javascript/guides/nextjs/tracing/) allows you to monitor interactions between multiple services or applications. Create custom spans to measure specific operations and add meaningful attributes. This helps you understand performance bottlenecks and debug issues with detailed context.

</SplitSectionText>
<SplitSectionCode>

```javascript
import * as Sentry from "@sentry/nextjs";

async function processUserData(userId) {
  return await Sentry.startSpan(
    {
      name: "Process User Data",
      op: "function",
      attributes: {
        userId: userId,
        operation: "data_processing",
        version: "2.1",
      },
    },
    async () => {
      const userData = await fetch(`/api/user?id=${userId}`).then((r) =>
        r.json()
      );

      return await Sentry.startSpan(
        {
          name: "Transform Data",
          op: "transform",
          attributes: {
            recordCount: userData.length,
            transformType: "normalize",
          },
        },
        () => transformUserData(userData)
      );
    }
  );
}

const span = Sentry.getActiveSpan();
if (span) {
  span.setAttributes({
    cacheHit: true,
    region: "us-west-2",
    performanceScore: 0.95,
  });
}
```

</SplitSectionCode>
</SplitSection>

</SplitLayout>
</StepConnector>

## Test Your Setup

<Include name="nextjs-turbopack-warning-expandable.mdx" />

If you haven't tested your Sentry configuration yet, let's do it now. You can confirm that Sentry is working properly and sending data to your Sentry project by using the example page and route created by the installation wizard:

1. Open the example page `/sentry-example-page` in your browser. For most Next.js applications, this will be at localhost.
2. Click the "Throw error" button. This triggers two errors:

- a frontend error
- an error within the API route

Sentry captures both of these errors for you. Additionally, the button click starts a performance trace to measure the time it takes for the API request to complete.

### View Captured Data in Sentry

Now, head over to your project on [Sentry.io](https://sentry.io) to view the collected data (it takes a couple of moments for the data to appear).

<PlatformContent includePath="getting-started-browser-sandbox-warning" />

<PlatformContent includePath="getting-started-verify-locate-data" />

## Next Steps

At this point, you should have integrated Sentry into your Next.js application and should already be sending error and performance data to your Sentry project.

Now's a good time to customize your setup and look into more advanced topics.
Our next recommended steps for you are:

- Learn more about [enriching the data (events) you send to Sentry](/platforms/javascript/guides/nextjs/enriching-events/)
- Explore more about configuring [Structured Logs](/platforms/javascript/guides/nextjs/logs/) in your application
- See advanced configurations for [Replays](/platforms/javascript/guides/nextjs/session-replay)
- Setup and configure [Distributed Tracing](/platforms/javascript/guides/nextjs/tracing/) between the different tiers and services for your application
- Learn how to use the [insights](/product/insights/) views in Sentry to explore performance related information about your application (including the Next.js specific view)

<Expandable permalink={false} title="Are you having problems setting up the SDK?">

- If you encountered issues with our installation wizard, try [setting up Sentry manually](/platforms/javascript/guides/nextjs/manual-setup/)
- [Get support](https://sentry.zendesk.com/hc/en-us/)

</Expandable>
