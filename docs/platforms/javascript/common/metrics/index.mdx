---
title: Set Up Metrics
sidebar_title: Metrics
description: "Track custom counters, gauges, and distributions from your application."
sidebar_order: 7
sidebar_section: features
beta: true
notSupported:
  - javascript.deno
  - javascript.cordova
  - javascript.capacitor
---

[Sentry Metrics](/product/explore/metrics/) let you track custom application data beyond errors and traces. Track business metrics like orders processed, API response times, or cache hit rates.

<Alert>
Metrics is in open beta. [Share feedback on GitHub](https://github.com/getsentry/sentry-javascript/discussions/18055).
</Alert>

## Prerequisites

<PlatformContent includePath="metrics/requirements" />

## Usage

<SplitLayout>
<SplitSection>
<SplitSectionText>

### Metric Types

| Type | Use For |
|------|---------|
| `count` | Events (orders, clicks, API calls) |
| `gauge` | Current values (queue depth, connections) |
| `distribution` | Value ranges (response times, payload sizes) |

No setup required beyond SDK initialization.

</SplitSectionText>
<SplitSectionCode>

```javascript
import * as Sentry from "@sentry/browser";

// Count occurrences
Sentry.metrics.count("orders_created", 1);

// Track current values
Sentry.metrics.gauge("active_connections", 42);

// Track distributions
Sentry.metrics.distribution("api_latency", 187, {
  unit: "millisecond",
});
```

</SplitSectionCode>
</SplitSection>
</SplitLayout>

## Attributes

<SplitLayout>
<SplitSection>
<SplitSectionText>

### Filtering and Grouping

Attributes let you filter and group metrics in Sentry. Use them for:
- Environment segmentation
- Feature flag tracking
- User tier analysis

Each metric has a **2KB size limit**. If you exceed this, the metric will be dropped.

</SplitSectionText>
<SplitSectionCode>

```javascript
Sentry.metrics.count("api_calls", 1, {
  attributes: {
    endpoint: "/api/orders",
    user_tier: "pro",
    region: "us-west",
    user_id: user.id,
    order_id: order.id,
  },
});
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

### Units

For `gauge` and `distribution` metrics, specify a unit to help Sentry display values in a human-readable format.

Common units: `millisecond`, `second`, `byte`, `kilobyte`, `megabyte`

</SplitSectionText>
<SplitSectionCode>

```javascript
Sentry.metrics.distribution("response_time", 187.5, {
  unit: "millisecond",
});

Sentry.metrics.gauge("memory_usage", 1024, {
  unit: "byte",
});
```

</SplitSectionCode>
</SplitSection>
</SplitLayout>

<PlatformContent includePath="metrics/patterns" />

## Options

<SplitLayout>
<SplitSection>
<SplitSectionText>

### beforeSendMetric

Filter or modify metrics before sending. Return `null` to drop a metric.

</SplitSectionText>
<SplitSectionCode>

```javascript
Sentry.init({
  dsn: "___PUBLIC_DSN___",
  beforeSendMetric: (metric) => {
    // Drop specific metrics
    if (metric.name === "debug_metric") {
      return null;
    }

    // Add attributes
    metric.attributes = {
      ...metric.attributes,
      processed: true,
    };

    return metric;
  },
});
```

</SplitSectionCode>
</SplitSection>

<SplitSection>
<SplitSectionText>

### Disable Metrics

Set `enableMetrics: false` to disable metrics collection entirely.

### Flush Metrics

Metrics are buffered and sent periodically. Use this snippet to flush immediately:

</SplitSectionText>
<SplitSectionCode>

```javascript
// Disable metrics
Sentry.init({
  dsn: "___PUBLIC_DSN___",
  enableMetrics: false,
});

// Flush all pending metrics
await Sentry.flush();
```

</SplitSectionCode>
</SplitSection>
</SplitLayout>

## Default Attributes

Sentry automatically attaches these attributes to every metric:

| Attribute | Description | Context |
|-----------|-------------|---------|
| `sentry.environment` | Environment from SDK config | Always |
| `sentry.release` | Release version from SDK config | Always |
| `sentry.sdk.name` | SDK name | Always |
| `sentry.sdk.version` | SDK version | Always |
| `user.id`, `user.name`, `user.email` | User identifiers | If user set |
| `browser.name`, `browser.version` | Browser info | Client-side |
| `sentry.replay_id` | Session replay ID | Client-side |
| `server.address` | Server hostname | Server-side |

## Quick Reference

| Metric Type | Method | Example Use Case |
|-------------|--------|------------------|
| Counter | `Sentry.metrics.count()` | Orders, signups, errors |
| Gauge | `Sentry.metrics.gauge()` | Queue depth, active users |
| Distribution | `Sentry.metrics.distribution()` | Response times, payload sizes |

| Option | Description |
|--------|-------------|
| `attributes` | Key-value pairs for filtering |
| `unit` | Display unit (`millisecond`, `byte`, etc.) |

## Viewing Metrics

Once you're sending metrics, view them in Sentry at [**Explore â†’ Metrics**](https://sentry.io/orgredirect/organizations/:orgslug/explore/metrics/).
