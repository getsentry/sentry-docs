---
title: OpenAI
description: "Adds instrumentation for OpenAI API."
supported:
  - javascript.node
  - javascript.aws-lambda
  - javascript.azure-functions
  - javascript.connect
  - javascript.express
  - javascript.fastify
  - javascript.gcp-functions
  - javascript.hapi
  - javascript.hono
  - javascript.koa
  - javascript.nestjs
  - javascript.electron
  - javascript.nextjs
  - javascript.nuxt
  - javascript.solidstart
  - javascript.sveltekit
  - javascript.react-router
  - javascript.remix
  - javascript.astro
  - javascript.bun
  - javascript.tanstackstart-react
  - javascript.cloudflare
  - javascript
  - javascript.react
  - javascript.angular
  - javascript.vue
  - javascript.svelte
  - javascript.solid
  - javascript.ember
  - javascript.gatsby
---

<PlatformSection notSupported={["javascript", "javascript.react", "javascript.angular", "javascript.vue", "javascript.svelte", "javascript.solid", "javascript.ember", "javascript.gatsby", "javascript.cloudflare"]}>

## Server-Side Usage

_Import name: `Sentry.openAIIntegration`_

<Alert>

This integration works in Node.js-based server runtimes. It requires SDK version `10.2.0` or higher.

</Alert>

The `openAIIntegration` adds instrumentation for the `openai` API to capture spans by wrapping OpenAI client calls and recording LLM interactions with configurable input/output recording.

<PlatformSection notSupported={["javascript.cloudflare"]}>

This integration is **enabled by default for Node.js-based platforms** and automatically captures spans for OpenAI API method calls. You don't need to add it to your `integrations` array in `Sentry.init` unless you want to configure input and output recording with the `recordInputs` and `recordOutputs` options:

```javascript
Sentry.init({
  dsn: "____PUBLIC_DSN____",
  tracesSampleRate: 1.0,
  integrations: [
    // This integration is enabled by default.
    // Only add this if you want to configure options.
    Sentry.openAIIntegration({
      recordInputs: true,
      recordOutputs: true,
    }),
  ],
});
```

### Options

#### `recordInputs`

_Type: `boolean`_

Records inputs to OpenAI API method calls (such as prompts and messages).

Defaults to `true` if `sendDefaultPii` is `true`.

```javascript
Sentry.init({
  integrations: [Sentry.openAIIntegration({ recordInputs: true })],
});
```

#### `recordOutputs`

_Type: `boolean`_

Records outputs from OpenAI API method calls (such as generated text and responses).

Defaults to `true` if `sendDefaultPii` is `true`.

```javascript
Sentry.init({
  integrations: [Sentry.openAIIntegration({ recordOutputs: true })],
});
```

</PlatformSection>

</PlatformSection>

<PlatformSection supported={["javascript", "javascript.react", "javascript.angular", "javascript.vue", "javascript.svelte", "javascript.solid", "javascript.ember", "javascript.gatsby", "javascript.nextjs", "javascript.nuxt", "javascript.solidstart", "javascript.sveltekit", "javascript.react-router", "javascript.remix", "javascript.astro", "javascript.tanstackstart-react", "javascript.electron", "javascript.cloudflare"]}>

## Browser-Side Usage

_Import name: `Sentry.instrumentOpenAiClient`_

<PlatformSection supported={["javascript.cloudflare"]}>

<Alert>

For Cloudflare Workers edge runtime, manual instrumentation is required using `instrumentOpenAiClient`.

</Alert>

</PlatformSection>

The `instrumentOpenAiClient` helper adds instrumentation for the `openai` API to capture spans by wrapping OpenAI client calls and recording LLM interactions with configurable input/output recording. You need to manually wrap your OpenAI client instance with this helper. See example below:

```javascript
const openai = new OpenAI({
  apiKey: "your-api-key", // Warning: API key will be exposed in browser!
  dangerouslyAllowBrowser: true,
});

const client = Sentry.instrumentOpenAiClient(openai, {
  recordInputs: true,
  recordOutputs: true,
});

// Use the wrapped client instead of the original openai instance
const response = await client.chat.completions.create({
  model: "gpt-4o",
  messages: [{ role: "user", content: "Hello!" }],
});
```

</PlatformSection>

## Configuration

By default, tracing support is added to the following OpenAI API method calls:

- `chat.completions.create()` - Chat completion requests
- `responses.create()` - Response API requests

Streaming and non-streaming requests are automatically detected and handled appropriately.

## Supported Versions

- `openai`: `>=4.0.0 <7`
