---
title: Uploading Debug Symbols
sidebar_order: 50
description: "Learn more about how to upload debug symbols for iOS."
---

<PlatformContent includePath="debug-symbols-apple" />

## Migration Guide

### Migrating from Sentry Fastlane Plugin 1.x to 2.0.0

Version 2.0.0 of the Sentry Fastlane plugin includes breaking changes due to the sentry-cli 3.0.0 upgrade. Follow this guide to migrate your Fastfiles.

#### Removed Actions

The following actions have been removed and must be replaced:

**`sentry_upload_dsym`** → Use `sentry_debug_files_upload` instead:

```ruby
# Before (removed)
sentry_upload_dsym(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  dsym_path: '/path/to/dSYMs'
)

# After
sentry_debug_files_upload(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  path: '/path/to/dSYMs'
)
```

**`sentry_upload_dif`** → Use `sentry_debug_files_upload` instead:

```ruby
# Before (removed)
sentry_upload_dif(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  path: '/path/to/files'
)

# After
sentry_debug_files_upload(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  path: '/path/to/files'
)
```

**`sentry_upload_file`** → Use specialized upload actions instead:

```ruby
# Before (removed)
sentry_upload_file(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  version: '1.0.0',
  file: '/path/to/file.map'
)

# After - For source maps, use:
sentry_upload_sourcemap(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  version: '1.0.0',
  sourcemap: '/path/to/file.map'
)
```

#### Removed Parameters

**`api_key`** → Use `auth_token` instead:

```ruby
# Before (removed)
sentry_debug_files_upload(
  api_key: '...',  # ❌ Removed
  org_slug: '...',
  project_slug: '...'
)

# After
sentry_debug_files_upload(
  auth_token: '...',  # ✅ Use auth_token
  org_slug: '...',
  project_slug: '...'
)
```

**`android_manifest_path`** in `sentry_upload_proguard` → Remove this parameter:

```ruby
# Before (removed)
sentry_upload_proguard(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  android_manifest_path: '/path/to/AndroidManifest.xml'  # ❌ Removed
)

# After
sentry_upload_proguard(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...'
  # android_manifest_path parameter removed - no longer needed
)
```

**`force_foreground`** in `sentry_debug_files_upload` → Remove this parameter:

```ruby
# Before (removed)
sentry_debug_files_upload(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  force_foreground: true  # ❌ Removed (was deprecated since v1.26.0)
)

# After
sentry_debug_files_upload(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...'
  # force_foreground parameter removed
)
```

#### Changed Default Behavior

**`path` parameter in `sentry_debug_files_upload`** → Default behavior changed:

The `path` parameter now defaults to `DSYM_OUTPUT_PATH` from fastlane's lane context if available (set by actions like `build_app` or `ipa`), otherwise falls back to `'.'` (current directory).

```ruby
# If you were relying on the previous behavior of always searching from current directory:
sentry_debug_files_upload(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...'
  # path defaults to DSYM_OUTPUT_PATH if available, otherwise '.'
)

# To maintain previous behavior (always search from current directory):
sentry_debug_files_upload(
  auth_token: '...',
  org_slug: '...',
  project_slug: '...',
  path: '.'  # Explicitly specify current directory
)
```

#### Internal Changes

**`sentry_upload_sourcemap`** → Internal command changed (no user action required):

The action now uses `sourcemaps upload --release <version>` instead of `releases files <version> upload-sourcemaps`. This is an internal change and should not affect users unless they are mocking or testing the CLI commands.

#### Summary Checklist

- [ ] Replace `sentry_upload_dsym` with `sentry_debug_files_upload`
- [ ] Replace `sentry_upload_dif` with `sentry_debug_files_upload`
- [ ] Replace `sentry_upload_file` with `sentry_upload_sourcemap` or appropriate specialized action
- [ ] Replace all `api_key` parameters with `auth_token`
- [ ] Remove `android_manifest_path` from `sentry_upload_proguard` calls
- [ ] Remove `force_foreground` from `sentry_debug_files_upload` calls
- [ ] Review `path` parameter usage in `sentry_debug_files_upload` if relying on default behavior

For more details, see the [sentry-cli 3.0.0 release notes](https://github.com/getsentry/sentry-cli/releases/tag/3.0.0) and the [plugin changelog](https://github.com/getsentry/sentry-fastlane-plugin/blob/master/CHANGELOG.md).
