---
title: Custom Instrumentation
description: "Learn how to capture performance data on any action in your app."
sidebar_order: 20
notSupported:
  - native.breakpad
  - native.crashpad
  - native.minidumps
  - native.wasm
---

<Alert>

To capture transactions and spans customized to your organization's needs, you must first <PlatformLink to="/tracing/">set up tracing.</PlatformLink>

</Alert>

<PlatformContent includePath="performance/enable-manual-instrumentation" />

<PlatformContent includePath="performance/add-spans-example" />

## Custom Timestamps
Sometimes you want to measure timings in code that cannot call Native SDK functions directly (like GPU shaders). For these cases, the following explicitly timed functions can be used.
- `sentry_transaction_start_ts`
- `sentry_transaction_finish_ts`
- `sentry_transaction_start_child_ts`
- `sentry_transaction_start_child_ts_n`
- `sentry_span_start_child_ts`
- `sentry_span_start_child_ts_n`
- `sentry_span_finish_ts`

They only differ from their non-timestamped counterparts by taking an additional timestamp parameter, which is the unix epoch offset in microseconds.

When using these functions, you should ensure that the provided timestamps are consistent. It is recommended to use the normal interface with automatic timestamping, and to only use the explicitly timed interface when absolutely necessary.


<PlatformContent includePath="performance/concurrency" />

<PlatformContent includePath="performance/connect-errors-spans" />

<PlatformContent includePath="performance/improving-data" />

## Distributed Tracing

In order to use distributed tracing with the Native SDK, follow the <PlatformLink to="/tracing/trace-propagation/custom-instrumentation/">custom instrumentation</PlatformLink> steps.
