---
title: "What to Track"
sidebar_order: 15
description: "Practical guidance on what metrics to track, how to explore them, and when to set alerts."
---

You've set up [Sentry Metrics](/product/explore/metrics/). Now what? This guide covers the high-value metric patterns that give you visibility into application health and how to drill into traces when something looks off.

## The Pattern

Sentry supports three metric types:

| Type | Method | Use For |
|------|--------|---------|
| **Counter** | `Sentry.metrics.count()` | Events that happen (orders, clicks, errors) |
| **Gauge** | `Sentry.metrics.gauge()` | Current state (queue depth, connections) |
| **Distribution** | `Sentry.metrics.distribution()` | Values that vary (latency, sizes, amounts) |

Every metric is trace-connected. When a metric spikes, click into samples to see the exact trace that produced it.

```javascript
Sentry.metrics.count("checkout.failed", 1, {
  attributes: {
    user_tier: "premium",
    failure_reason: "payment_declined"
  }
});
```

## Where to Track Metrics

Start with these five metrics and you'll spot issues before they become problems.

### 1. Business Events

Track discrete events that matter to the business. These become your KPIs.

```javascript
Sentry.metrics.count("checkout.completed", 1, {
  attributes: { user_tier: "premium", payment_method: "card" }
});

Sentry.metrics.count("checkout.failed", 1, {
  attributes: { user_tier: "premium", failure_reason: "payment_declined" }
});
```

**Explore in Sentry:**
1. Go to **Explore > Metrics**
2. Select `checkout.failed`, set **Aggregate** to `sum`
3. **Group by** `failure_reason`
4. Click **Samples** to see individual events and their traces

### 2. Application Health

Track success and failure of critical operations.

```javascript
Sentry.metrics.count("email.sent", 1, {
  attributes: { email_type: "welcome", provider: "sendgrid" }
});

Sentry.metrics.count("email.failed", 1, {
  attributes: { email_type: "welcome", error: "rate_limited" }
});

Sentry.metrics.count("job.processed", 1, {
  attributes: { job_type: "invoice-generation", queue: "billing" }
});
```

**Explore in Sentry:** Add both `email.sent` and `email.failed`, group by `email_type`, compare the ratio.

### 3. Resource Utilization

Track the current state of pools, queues, and connections. Call these periodically (e.g., every 30 seconds).

```javascript
Sentry.metrics.gauge("queue.depth", await queue.size(), {
  attributes: { queue_name: "notifications" }
});

Sentry.metrics.gauge("pool.connections_active", pool.activeConnections, {
  attributes: { pool_name: "postgres-primary" }
});
```

**Explore in Sentry:** View `max(queue.depth)` over time to spot backlogs.

### 4. Latency and Performance

Track values that vary and need percentile analysis. **Tip:** averages can hide outliers, use p90/p95/p99 instead.

```javascript
Sentry.metrics.distribution("api.latency", responseTimeMs, {
  unit: "millisecond",
  attributes: { endpoint: "/api/orders", method: "POST" }
});

Sentry.metrics.distribution("db.query_time", queryDurationMs, {
  unit: "millisecond",
  attributes: { table: "orders", operation: "select" }
});
```

**Explore in Sentry:** View `p95(api.latency)` grouped by `endpoint` to find slow routes.

### 5. Business Values

Track amounts, sizes, and quantities for analysis.

```javascript
Sentry.metrics.distribution("order.amount", order.totalUsd, {
  unit: "usd",
  attributes: { user_tier: "premium", region: "us-west" }
});

Sentry.metrics.distribution("upload.size", fileSizeBytes, {
  unit: "byte",
  attributes: { file_type: "image", source: "profile-update" }
});
```

**Explore in Sentry:** View `avg(order.amount)` grouped by `region` to compare regional performance.

{/*
## Creating Alerts From Metrics

1. Go to **Explore > Metrics**
2. Build your query (e.g., `checkout.failed` grouped by `failure_reason`)
3. Click **Save As** - **Alert**
4. Choose a threshold type:
   - **Static:** Alert when count exceeds a value
   - **Percent Change:** Alert when count changes relative to a previous period
   - **Anomaly:** Let Sentry detect unusual patterns
5. Configure notification channels and save

Learn about [creating alerts](/product/new-monitors-and-alerts/alerts/) and best practices for [reducing noise and routing notifications](/product/new-monitors-and-alerts/alerts/best-practices/).
*/}

## Alerts and Dashboard Widgets

<Alert level="info">
  Alerts and dashboard widgets for Metrics are coming soon.
</Alert>

You'll soon be able to:
- Create alert rules based on metric queries
- Add metric visualizations to dashboards
- Set up notifications when metrics cross thresholds
- Save common queries for quick access

## Quick Reference

| Category | Type | Method | Example Attributes |
|----------|------|--------|----------------|
| Business events | Counter | `count()` | user_tier, payment_method, failure_reason |
| Application health | Counter | `count()` | email_type, provider, job_type, queue |
| Resource utilization | Gauge | `gauge()` | queue_name, pool_name |
| Latency/performance | Distribution | `distribution()` | endpoint, method, table, operation |
| Business values | Distribution | `distribution()` | user_tier, region, file_type |

## When to Use Metrics vs Traces vs Logs

| Signal | Best For | Example Question |
|--------|----------|------------------|
| **Metrics** | Aggregated counts, rates, percentiles | "How many checkouts failed this hour?" |
| **Traces** | Request flow, latency breakdown | "Why was this specific request slow?" |
| **Logs** | Detailed context, debugging | "What happened right before this error?" |

All three are trace-connected. Start wherever makes sense and navigate to the others.
