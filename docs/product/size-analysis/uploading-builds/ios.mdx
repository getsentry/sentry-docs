---
title: iOS Setup
sidebar_order: 10
description: Configure Size Analysis for iOS apps using Fastlane and GitHub Actions.
---

This guide walks you through setting up Size Analysis for iOS applications using the Sentry Fastlane plugin. This assumes you already have a working integration with the Sentry Fastlane plugin and are using GitHub Actions.

<Alert level="info">
  If you don't already have Sentry set up with Fastlane, see the [Fastlane
  integration
  guide](https://docs.sentry.io/platforms/apple/guides/ios/upload-debug-symbols/fastlane/)
  first.
</Alert>

## Install the Fastlane Plugin

Ensure you have version 1.34.0 or higher of the `fastlane-plugin-sentry`. Install or update it using:

```ruby
bundle exec fastlane add_plugin fastlane-plugin-sentry
```

## Update Your Fastfile

Add a lane (or update an existing one) with the `sentry_upload_build` action:

```ruby
lane :upload_to_sentry do
  sentry_upload_build(
    org_slug: 'your-org',
    project_slug: 'your-project',
    build_configuration: 'Release' # Adjust to your Xcode configuration
  )
end
```

### Configuration Options

| Parameter             | Description                                                     | Required |
| --------------------- | --------------------------------------------------------------- | -------- |
| `org_slug`            | Your Sentry organization slug                                   | Yes      |
| `project_slug`        | Your Sentry project slug                                        | Yes      |
| `build_configuration` | Xcode build configuration (e.g., `Debug`, `Release`, `Staging`) | Yes      |
| `auth_token`          | Sentry auth token (defaults to `SENTRY_AUTH_TOKEN` env var)     | No       |

## Set Up GitHub Actions

In your GitHub Actions workflow, ensure the `SENTRY_AUTH_TOKEN` environment variable is set:

```yaml
jobs:
  build:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v4

      - name: Build and upload to Sentry
        env:
          SENTRY_AUTH_TOKEN: ${{ secrets.SENTRY_AUTH_TOKEN }}
        run: bundle exec fastlane upload_to_sentry
```

Add your Sentry auth token as a [GitHub secret](https://docs.github.com/en/actions/security-guides/encrypted-secrets) named `SENTRY_AUTH_TOKEN`.

## Build Configuration

The `build_configuration` parameter should match your Xcode build configuration. This ensures builds with different configurations (e.g., Debug vs. Release) are not compared against each other.

Common build configurations:

- `Debug`
- `Release`
- `Staging`
- Custom configurations defined in your Xcode project

## Example Workflow

Here's a complete example of a GitHub Actions workflow that builds an iOS app and uploads it to Sentry:

```yaml
name: iOS Build and Size Analysis

on:
  pull_request:
  push:
    branches: [main]

jobs:
  build:
    runs-on: macos-latest

    steps:
      - uses: actions/checkout@v4

      - name: Set up Ruby
        uses: ruby/setup-ruby@v1
        with:
          bundler-cache: true

      - name: Build app
        run: bundle exec fastlane build

      - name: Upload to Sentry
        env:
          SENTRY_AUTH_TOKEN: ${{ secrets.SENTRY_AUTH_TOKEN }}
        run: bundle exec fastlane upload_to_sentry
```

## Next Steps

- [Set up the GitHub integration](/product/size-analysis/github-integration/) to receive size change notifications in your pull requests
- [View build details](/product/size-analysis/build-details/) to explore your app's size breakdown
