---
title: Integrating into CI
sidebar_order: 40
description: Set up the integration in CI to receive automated size change notifications
---

<Include name="size-analysis/github-only" />

## Github

The GitHub integration brings Size Analysis directly into your pull request workflow by adding status checks for size analysis. This alerts developers to the size impact their code changes have on the app build, and can optionally block the pull request from being merged on large size increases.

### Installation

1. Install the Sentry Github App by following the installation instructions in the [GitHub integration documentation](https://docs.sentry.io/organization/integrations/source-code-mgmt/github/).

2. Set up Size Analysis by following the guide for [iOS](/platforms/apple/guides/ios/size-analysis/) or [Android](/platforms/android/size-analysis/).

3. Create a workflow to upload base branch builds.

Size Analysis works by comparing a head vs a base build, similar to code review. First, we need to upload base builds:

```yml {filename:sentry_size_analysis_main.yml}
name: Sentry Size Analysis Upload

on:
  push:
    branches: [main] // or whatever is used

jobs:
  build_and_upload:
    // ...
```

Confirm that builds uploaded from this workflow have the correct `sha` metadata value, as well as no `base_sha` being set.

4. Create a workflow to upload pull request builds.

Next, we need the head build uploads:

```yml {filename:sentry_size_analysis_pull_request.yml}
name: Sentry Size Analysis Upload

on:
  pull_request:
    branches: [main] // or whatever is used

jobs:
  build_and_upload:
    // ...
```

Confirm that builds uploaded from this workflow have the correct `sha` and `base_sha` metadata values.

5. Confirm the status check appears

After configuring both workflows and sending the correct metadata, the status check should appear on every commit:

![Example Status Check =400x](./images/status-check-inline.png)

### How It Works

Once the integration is set up and you're uploading builds from your CI:

### On Pull Requests

1. **You open a PR**: Your CI builds the app and uploads it to Sentry
2. **Base branch build**: Sentry finds the corresponding build from your base branch
3. **Comparison**: Sentry compares the two builds
4. **Status check**: A Github status check gives you information about the size of the build and whether or not the build increased in size.

TODO: this is a real pic, but it says 0s, is that sketch? maybe find better
![Example Status Check](./images/status-check.png)

## Troubleshooting

### Not Seeing status checks ?

Check that:

- The Sentry GitHub App is installed and has access to your repository
- You're correctly uploading builds for size analysis from all base branch builds
- You're correctly uploading builds for size analysis from the PR branch.
- Your builds that you want to compare have the same build configuration (for example, both are `Release` builds)
- You're builds contain all the required metadata. TODO link to required metadat

### Missing Base Build?

The first time you set up Size Analysis, your main branch may not have any builds yet:

1. Merge a PR or push to your main branch to trigger a build
2. Future PRs will be able to compare against this base build

## Next Steps

- [Upload your first build](/product/size-analysis/uploading-builds/) to start seeing size analysis
