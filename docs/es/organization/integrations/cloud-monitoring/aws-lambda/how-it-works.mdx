---
title: Modificaciones de la capa de Lambda
description: Entiende cómo funciona la integración de Sentry con AWS Lambda tras bambalinas.
og_image: >-
  /og-images/organization-integrations-cloud-monitoring-aws-lambda-how-it-works.png
---

<div id="node">
  ## Node
</div>

Cuando agregas Sentry a una función Lambda, se aplican las siguientes modificaciones a tus funciones Lambda:

* Se añade la capa de Sentry a tus Lambdas. Se respetan las capas existentes y la capa de Sentry se agrega al final.

  ![](./img/layer.png)

* Sentry añade las siguientes variables de entorno:

  * `NODE_OPTIONS`: Para precargar el módulo `awslambda-auto`, que inicializará Sentry automáticamente.
  * `SENTRY_DSN`: Se establece con el [DSN](/es/product/sentry-basics/dsn-explainer/) de tu proyecto.
  * `SENTRY_TRACES_SAMPLE_RATE`: Define la [tasa de muestreo](/es/platforms/javascript/guides/node/configuration/sampling/#sampling-transaction-events) para transacciones. Puedes editar manualmente tus variables de entorno si deseas una tasa de muestreo diferente.

  ![](./img/env_variables.png)

<div id="python">
  ## Python
</div>

Cuando agregas Sentry a una función Lambda, se realizan las siguientes modificaciones en tus funciones Lambda:

* Se añade la capa de Sentry a tus Lambdas. Se respetan las capas existentes y la capa de Sentry se agrega al final.

  ![](./img/layer_python.png)

  Tu controlador de runtime apuntará al controlador de Sentry, que inicializará el SDK por ti y luego llamará a tu controlador de runtime para invocar tu función.

  ![](./img/handler_python.png)

* Sentry agrega las siguientes variables de entorno:

  * `SENTRY_INITIAL_HANDLER`: Almacena el valor de tu controlador de runtime. Si decides deshabilitar la capa de Sentry, este valor se usará para configurar el controlador de runtime.
  * `SENTRY_DSN`: Se establece en el [DSN](/es/product/sentry-basics/dsn-explainer/) de tu proyecto.
  * `SENTRY_TRACES_SAMPLE_RATE`: Define la [tasa de muestreo](/es/platforms/python/configuration/sampling/#sampling-transaction-events) para las transacciones. Puedes editar manualmente tus variables de entorno si prefieres una tasa de muestreo diferente.

  ![](./img/env_variables_python.png)