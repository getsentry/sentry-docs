---
title: Reglas de propiedad
sidebar_order: 40
description: >-
  Aprende a configurar reglas de propiedad para asignar automáticamente los
  issues a los propietarios adecuados.
og_image: /og-images/product-issues-ownership-rules.png
---

<Include name="only-error-issues-note.mdx" />

Sentry ofrece varias formas de definir la &quot;propiedad&quot; de un issue. Con la propiedad definida, podemos asignar issues automáticamente y enviar alertas al propietario. Sentry define la propiedad con *reglas de propiedad* y *code owners*. Las reglas de propiedad pueden asignar issues según las rutas de archivos en el stack trace del evento, la URL de la solicitud o las etiquetas del evento, y también permiten anular reglas en code owners. La funcionalidad de code owners te permite importar tu archivo CODEOWNERS de [GitHub](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners) o [GitLab](https://docs.gitlab.com/ee/user/project/code_owners.html) y asignar issues según las rutas de archivos en el stack trace del evento.

Una vez que se haya asignado un issue, ya sea manualmente por un usuario o automáticamente por Sentry, la autoasignación futura se desactivará para ese issue.

<div id="ownership-rules">
  ### Reglas de propiedad
</div>

Puedes establecer la propiedad definiendo reglas de propiedad por proyecto. Para configurarlas, ve a **[Project] &gt; Settings &gt; Ownership Rules**, o haz clic en el Button &quot;Create Ownership Rule&quot; en una página de **Issue Details**.

Tipos de coincidencias disponibles:

1. Path: coincide con todas las rutas de archivo en el stack trace del evento
2. Module: coincide con el módulo en el stack trace del evento
3. URL: coincide con la `url` del evento
4. Tag: coincide con etiquetas del evento

El formato general de una regla es: `type:pattern owners`

* **`type`** - Puede ser `path`, `module`, `url` o `tags.TAG_NAME`, que coincide con la etiqueta especificada.
* **`pattern`** - El patrón que quieres hacer coincidir, que admite la [sintaxis glob](https://en.wikipedia.org/wiki/Glob_\(programming\)) al estilo Unix. Por ejemplo, usa `*` para coincidir con cualquier cosa y `?` para coincidir con un solo carácter. *Esto no es una expresión regular (regex).* Por ejemplo:
  * `src/javascript/*.[tj]sx` para un tipo `path`
  * `com.example.app` para un tipo `module`
  * `https://www.example.io/v/[0-9]/checkout` para un tipo `url`
  * `Chrome 81.0.?` para un tipo `tags.browser`
* **`owners`** - El propietario o una lista de propietarios, separados por un espacio. Los propietarios pueden identificarse por el correo electrónico del usuario de Sentry o por el nombre del equipo, con el prefijo `#`. Por ejemplo:
  * `example@company.com`
  * `example1@company.com example2@company.com`
  * `#backend-team`

Los equipos *deben* tener acceso al proyecto para convertirse en propietarios. Para otorgar a un equipo acceso a un proyecto, ve a **[Project] &gt; Settings &gt; Project Teams** y haz clic en &quot;Add Team&quot;.

Para otorgar a un usuario acceso a un proyecto, el usuario debe ser miembro de un equipo con acceso al proyecto. Para agregar un usuario a un equipo, ve a **Settings &gt; Teams**, selecciona un equipo y haz clic en &quot;Add Member&quot;.

Puedes agregar una regla de propiedad desde **[Project] &gt; Settings &gt; Ownership Rules** y hacer clic en &quot;Edit Rules&quot;:

![Opciones de configuración para definir reglas de propiedad en la configuración del proyecto.](./img/project_settings_edit_ownership_rules.png)

También puedes agregar una regla de propiedad desde la página de **Issue Details** haciendo clic en el ícono de engranaje en la sección &quot;Assigned To&quot; de la barra lateral:

![Assigned to with cog](./img/assigned_to_cog.png)

![Opciones de configuración para definir reglas de propiedad desde una página de issue.](./img/issue_details_edit_ownership_rules.png)

Cuando creas una regla desde la página de **Issue Details**, verás algunas rutas y URL sugeridas según los eventos del issue. Ten en cuenta que [sentry.io](https://sentry.io) no sugiere etiquetas.

<div id="code-owners">
  ### Propietarios de código
</div>

<Include name="feature-available-for-plan-business.mdx" />

![Propietarios de código en la interfaz](./img/codeowners.png)

Importa tu archivo CODEOWNERS y úsalo junto con tus reglas de propiedad para asignar incidencias en Sentry. Un requisito previo para esta función son los **Code Mappings** de [stack trace linking](/es/organization/integrations/source-code-mgmt/github/#stack-trace-linking).

Para configurar rápidamente un code mapping para un proyecto:

1. Ve a una incidencia en tu proyecto. Deberías ver la siguiente opción para vincular tu código fuente en el stack trace:
   ![Vincular stack trace](./img/link_stack_trace.png)
2. Al hacer clic en el enlace, se abrirá un modal. Ingresa la URL del código fuente de GitHub/GitLab correspondiente al nombre de archivo del stack trace y crearemos automáticamente el code mapping y configuraremos el stack trace linking para el proyecto.

Ahora que tenemos code mappings, podemos transformar las rutas de tu archivo CODEOWNERS a la salida de compilación esperada. Por ejemplo, puedes compilar tu programa en una carpeta `dist/`, pero eso no estará en tu CODEOWNERS. Sin embargo, el prefijo `dist/` se captura en las rutas de archivo del stack trace. Los code mappings permiten que Sentry determine cómo normalizar las rutas de archivo entre tu salida de compilación y las rutas de CODEOWNERS.

Puedes importar y añadir de forma incremental las asignaciones entre tus «equipos/usuarios del control de código fuente» y «Equipos/usuarios de Sentry», usando [external team/user mappings](/es/product/issues/ownership-rules/#external-teamuser-mappings). Sentry usa los «external team/user mappings» para convertir a los propietarios de tu archivo CODEOWNERS en sus equivalentes en Sentry. Sentry ignorará automáticamente las reglas que no tengan asignaciones de equipo/usuario.

Admitimos la sintaxis del archivo CODEOWNERS de GitHub, con una excepción: no admitimos exclusiones (líneas sin propietarios). Puedes encontrar más detalles sobre la sintaxis [en la documentación de GitHub](https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-code-owners), incluidos [detalles sobre la sintaxis no admitida](https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-code-owners#syntax-exceptions).

Ten en cuenta que tampoco admitimos la [sintaxis de CODEOWNERS de GitLab](https://docs.gitlab.com/user/project/codeowners/reference) que no esté también soportada por GitHub. Por ejemplo, no admitimos secciones, negaciones con `!`, etc.

<Alert>
  Las reglas de propiedad tienen prioridad sobre la información proporcionada por tu archivo CODEOWNERS cuando Sentry asigna incidencias.
</Alert>

<div id="limitations">
  #### Limitaciones
</div>

Admitimos archivos CODEOWNERS de hasta 3 MB. Si tu archivo supera ese tamaño, te sugerimos usar reglas con comodines para consolidar varias entradas en una sola.

<div id="external-teamuser-mappings">
  #### Asignaciones de equipos/usuarios externos
</div>

![Asignaciones de equipos externos para GitHub/GitLab](./img/external_team_mappings.png)

![Asignaciones de usuarios externos para GitHub/GitLab](./img/external_user_mappings.png)

Crea asignaciones de equipos/usuarios externos para tus equipos y usuarios de GitHub/GitLab yendo a **Settings &gt; Integrations &gt; GitHub/GitLab &gt; [Configuration] &gt; Team Mappings/User Mappings**. Las sugerencias se tomarán de cualquier archivo CODEOWNERS en los proyectos de la organización.

<div id="evaluation-flow">
  ## Flujo de evaluación
</div>

Las reglas de ownership y los code owners se comparan con eventos individuales en un issue. Sentry evalúa un evento comprobando si *alguno* de sus frames del stack trace in-app coincide con una regla de:

1. Code owners, de arriba hacia abajo
2. Reglas de ownership, de arriba hacia abajo

La *última* regla que coincida para un evento se utiliza para la asignación del issue. Si hay varios owners en una regla, se toma el owner más a la izquierda. El orden de los frames del stack trace in-app en un evento no se utiliza para determinar la asignación de la regla.

<div id="example">
  ### Ejemplo
</div>

Sentry recibe un evento con el siguiente rastro de pila:

* `models/UserModel.py` (frame 1)
* `backend/endpoints/auth/user.py` (frame 2)
* `backend/api/base.py` (frame 3)

**Responsables del código:**

```bash
# Frontend
*.js                               @frontend-team
*.tsx                              @frontend-team

# Backend
backend/                           @engineering-team
models/                            @models-team
backend/api/                       @api-team
```

**Reglas de titularidad:**

```text
path:backend/endpoints/*           #api-team
path:backend/endpoints/auth/*      #auth-team #enterprise-team
```

Para este evento:

1. Evaluamos a los code owners de arriba abajo; obtenemos tres coincidencias.
2. Evaluamos las reglas de propiedad de arriba abajo; obtenemos dos coincidencias.

Las coincidencias, en este orden, son:

```
[
  "codeowners:backend/                #engineering-team",           # coincide en frame 2 y 3
  "codeowners:models/                 #models-team",                # coincide en frame 1
  "codeowners:backend/api/            #api-team",                   # coincide en frame 3
  "path:backend/endpoints/*           #api-team",                   # coincide en frame 2
  "path:backend/endpoints/auth/*      #auth-team #enterprise-team", # coincide en frame 2
]
```

Sentry devolverá la última regla que coincida, que en este caso es `path:backend/endpoints/auth/* #auth-team #enterprise-team`. Aunque hay dos owners en la última regla coincidente, Sentry asignará el issue al primer owner, `#auth-team`.

<div id="where-its-applied">
  ## Dónde se aplica
</div>

Una vez que se configuran las reglas de propiedad, se aplican de las siguientes maneras:

<div id="suggested-assignees">
  ### Asignados sugeridos
</div>

En la página de **Detalles del issue**, verás asignados sugeridos basados en reglas de propiedad que coinciden con el evento y en [commits sospechosos](/es/product/releases/suspect-commits/). Puedes asignar manualmente el issue a un asignado sugerido seleccionándolo en el menú desplegable. Un evento puede tener varios asignados sugeridos si coincide con varias reglas de propiedad.

![Íconos de avatar de asignados sugeridos y posibilidad de hacer clic en ellos para asignar.](./img/suggested_assignees.png)

<div id="auto-assignment">
  ### Asignación automática
</div>

Puedes asignar automáticamente los issues a sus propietarios habilitando la opción &quot;Asignar automáticamente al propietario del issue&quot; en **[Project] &gt; Settings &gt; Ownership Rules**.

![Selecciona en el menú desplegable para asignar automáticamente los issues a sus propietarios.](./img/auto-assign-issue-owner.png)

Si un issue se ha asignado en el pasado, manual o automáticamente, los eventos nuevos no cambiarán la persona asignada actualmente. Si un issue no se ha asignado y un evento nuevo tiene varios propietarios, Sentry lo asigna al/los propietario(s) de la última regla coincidente (independientemente del `type` de la regla).

Ten en cuenta que la asignación automática puede omitirse si un proyecto está creando demasiados issues nuevos en un momento dado debido a límites de velocidad. Intentaremos asignarlo automáticamente la próxima vez que llegue un evento para esos issues omitidos. Si te estás encontrando con este límite con issues no recurrentes, quizá quieras echar un vistazo a las estrategias de [agrupación de issues](/es/concepts/data-management/event-grouping/).

<div id="troubleshooting">
  ## Solución de problemas
</div>

Asegúrate de que todos los equipos y usuarios tengan el acceso correcto al proyecto. Si no, no se podrán guardar las Reglas de propiedad. Para otorgar acceso a un equipo en un proyecto, ve a **[Project] &gt; Settings &gt; Project Teams** y haz clic en &quot;Add Team&quot;. Los usuarios deben tener al menos acceso de nivel miembro al equipo asociado con el proyecto. Para otorgar acceso a un usuario al equipo asociado con el proyecto, ve a **Settings &gt; Teams**, selecciona un equipo y haz clic en &quot;Add Member&quot;.