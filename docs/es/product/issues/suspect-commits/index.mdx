---
title: Commits sospechosos
sidebar_order: 32
description: >-
  Con los commits sospechosos, puedes ver el commit más reciente de tu código
  en la traza de pila. Obtén más información sobre cómo las integraciones
  habilitan los commits sospechosos aquí.
og_image: /og-images/product-issues-suspect-commits.png
---

<Include name="only-error-issues-note.mdx" />

Los commits sospechosos te muestran el commit más reciente del código en tu [traza de pila](https://sentry.io/features/stacktrace/). En la información del commit sospechoso, incluimos el autor del commit y el pull request en el que se realizó.

Cuando habilitas los commits sospechosos, podemos vincular los issues con los commits realizados en tu repositorio de código, incluida la siguiente información:

* Archivos observados en la traza de pila
* Archivos tocados por esos commits
* Autores de esos archivos

Luego, los commits sospechosos y los asignatarios sugeridos se muestran en la página **Issue Details** en [sentry.io](https://sentry.io), como se muestra a continuación.

<Arcade src="https://demo.arcade.software/XIrI8grPiEtHHSfCpCOt?embed" />

<div id="enable-suspect-commits">
  ## Habilitar commits sospechosos
</div>

Para ver commits sospechosos, primero debes subir los source maps (o los archivos específicos de tu plataforma para mapear el código fuente transformado al original). Consulta la documentación de tu [plataforma específica](/es/platforms/) para obtener más información. Ten en cuenta que Sentry no mostrará commits sospechosos para los issues creados antes de configurar tu integración.

<div id="connect-a-repository-using-integrations">
  ### Conectar un repositorio mediante integraciones
</div>

Los commits sospechosos se pueden habilitar con las siguientes integraciones:

* [GitHub](/es/organization/integrations/source-code-mgmt/github/)
* [GitLab](/es/organization/integrations/source-code-mgmt/gitlab/)

En [sentry.io](https://sentry.io):

1. Ve a **Settings &gt; Integrations**.
2. Haz clic en la integración que quieras usar.
3. Configura la integración si aún no lo has hecho.
4. Añade el repositorio que quieras usar.

<div id="set-up-code-mappings">
  ### Configurar asignaciones de código
</div>

<Alert>
  Sentry intentará configurar automáticamente asignaciones de código en proyectos de C#, Go, JavaScript, Node.js, PHP, Python y Ruby para organizaciones con la integración de GitHub instalada. Sin embargo, todavía puedes agregar asignaciones de código manualmente si lo prefieres. Está previsto añadir compatibilidad con otros lenguajes y otras integraciones de código fuente.
</Alert>

1. Ve a **Settings &gt; Integrations &gt; [Integration] &gt; Configurations**.
2. Haz clic en el botón &quot;Configure&quot;.
3. Haz clic en la pestaña &quot;Code Mappings&quot;.
4. Configura una asignación de código para cada proyecto en el que quieras habilitar commits sospechosos. Para crear una nueva asignación de código, haz clic en **Add Mapping**.
5. Completa el formulario y luego haz clic en **Save Changes**. Cada campo del formulario se describe a continuación.

<div id="code-mapping-form-fields">
  #### Campos del formulario de asignación de código
</div>

* **Project** (obligatorio): el proyecto de Sentry.
* **Repo** (obligatorio): el repositorio de GitHub o GitLab asociado con el proyecto de Sentry mencionado arriba. Si usas más de un repositorio por proyecto de Sentry, necesitarás varias asignaciones de código.
* **Branch** (obligatorio): la rama predeterminada de tu código a la que recurriremos si no tienes configurado el seguimiento de commits.
* **Stack Trace Root** y **Source Code Root** (opcional): consulta a continuación información sobre cómo determinar estos valores.

<div id="stack-trace-root-and-source-code-root">
  #### Raíz del stack trace y raíz del código fuente
</div>

<Alert>
  La siguiente información solo es válida para plataformas que usan rutas de archivos tradicionales. Las plataformas con nombres de paquetes requieren pasos adicionales. Para **Java**, lee más en la [página sobre el contexto del código fuente](/es/platforms/java/source-context#setting-up-code-mappings).
</Alert>

Primero, navega hasta un stack trace que quieras mapear. Encuentra un frame **In App**, que se indica con un globo en el lado derecho del frame. El nombre del archivo se mostrará como la primera pieza de texto en el lado izquierdo del encabezado del frame. En este ejemplo, es `src/main.py`.

<Include name="common-imgs/code-mappings-stacktrace" />

Para ciertas plataformas nativas, el stack trace se verá diferente. En casos como estos, puedes encontrar la ruta absoluta pasando el cursor sobre el nombre del archivo.

![Highlighting where in the UI to find the file path for native stack traces](./img/code-mappings-stacktrace-native.png)

Si no estás seguro, puedes consultar el JSON del evento haciendo clic en el botón `{}` en el encabezado del evento. Busca el texto en el `filename` o `abs_path` del frame.

<Include name="common-imgs/code-mappings-event-json" />

A continuación, localiza el archivo que aparece en el stack trace con tu proveedor de código fuente (por ejemplo, GitHub). En este ejemplo, la ruta es `flask/src/main.py` (`empower` se ignora ya que es el nombre del repositorio).

<Include name="common-imgs/code-mappings-source-file" />

Compara la ruta del archivo del stack trace con la ruta encontrada en tu repositorio de código fuente. En este ejemplo, la carpeta `src/` del stack trace coincide con la carpeta `flask/src/` en el código fuente. Con esa información, establece **Stack Trace Root** en `src/` y **Source Code Root** en `flask/src/`. Esto le indica a Sentry que reemplace todas las rutas de archivo que comiencen con `src/` por `flask/src/` al buscar el código fuente.

Para mejores resultados, recomendamos proporcionar siempre un valor no vacío para **Stack Trace Root** cuando sea posible.

<Include name="common-imgs/code-mappings-configure-modal" />

El primer frame en el stack trace se considera sospechoso al revisarlo de arriba hacia abajo. Si el primer frame no es in-app, el siguiente frame se considera sospechoso.

<div id="ui-walkthrough">
  ### Recorrido por la interfaz
</div>

Sigue la demostración interactiva a continuación para ver cómo integrar tu cuenta y tu repositorio de GitHub.

<Arcade src="https://demo.arcade.software/OlEYtzImezSBwsV8SVc8?embed" />

<div id="how-it-works">
  ## Cómo funciona
</div>

Cuando tienes una integración con GitHub/GitLab y [code mappings](https://blog.sentry.io/code-mappings-and-why-they-matter/) válidos, Sentry analiza el stack trace de un issue y recopila todos los frames in‑app. Para cada frame in‑app, Sentry comprueba la información de blame para el archivo y el número de línea exactos. Si el commit más reciente tiene menos de 1 año, lo consideramos un commit sospechoso.

<div id="suspect-commits-without-integrations">
  ## Commits sospechosos sin integraciones
</div>

Puedes enviarnos los datos de tus commits [manualmente](/es/product/releases/associate-commits/) si:

* No quieres que Sentry se conecte a tu repositorio.
* Tu organización no tiene una integración con GitHub o GitLab.
* Tu integración se desconectó.

De forma predeterminada, Sentry intentará encontrar commits sospechosos mediante tu integración con GitHub o GitLab. Si esto falla y has configurado el proceso manual, Sentry recurrirá a usar los datos de commits de la versión para encontrar commits sospechosos.

<div id="missing-suspect-commits">
  ## Commits sospechosos faltantes
</div>

Hay algunas razones por las que un issue podría no tener commits sospechosos:

* El issue no tiene un stack trace o no tiene frames in-app.
* El stack trace no tiene ningún frame in-app que coincida con los code mappings.
* El stack trace no tiene ningún frame in-app con commits recientes (de menos de 1 año).
* Los code mappings del proyecto son incorrectos.
* El issue se creó antes de configurar la integración.

<div id="where-its-applied">
  ## Dónde se aplica
</div>

Una vez identificados los autores de commits sospechosos, se aplican de las siguientes maneras:

<div id="suggested-assignees">
  ### Asignados sugeridos
</div>

En la página de **Detalles de la incidencia**, verás asignados sugeridos basados en las [reglas de propiedad](/es/product/issues/ownership-rules/) que coincidan con el evento y en commits sospechosos. Puedes asignar manualmente la incidencia a una de las personas sugeridas seleccionándola en el menú desplegable.

![Iconos de avatar de asignados sugeridos y posibilidad de hacer clic en ellos para asignar.](./img/suggested_assignees.png)

<div id="auto-assignment">
  ### Asignación automática
</div>

Puedes asignar automáticamente los issues a los autores de los commits sospechosos habilitando la opción &quot;Auto-assign to suspect commits&quot; en **[Project] &gt; Settings &gt; Ownership Rules**.

![Selecciona en el menú desplegable para asignar automáticamente los issues a los autores de los commits sospechosos.](./img/auto-assign-suspect-commits.png)

Si un issue ya se asignó manualmente, los nuevos eventos no cambiarán a la persona asignada actual. Si un issue no se ha asignado y se encuentra un commit sospechoso, Sentry lo asignará al autor del commit.

<div id="limitations">
  ## Limitaciones
</div>

* Si la asignación automática está habilitada pero el autor del commit sospechoso no pertenece a tu organización de Sentry, no podremos asignarle el issue automáticamente.

* Es posible que se omita la asignación automática si un proyecto está creando demasiados issues nuevos en un momento dado debido a límites de velocidad. Intentaremos asignarlo automáticamente la próxima vez que llegue un evento para esos issues omitidos. Si te encuentras con este límite en issues no recurrentes, quizá quieras revisar las estrategias de [agrupación de issues](/es/concepts/data-management/event-grouping/).