---
title: Administra tu cuota de errores
keywords:
  - mejores prácticas
sidebar_order: 30
description: >-
  Aprende a usar las herramientas que Sentry ofrece para controlar el tipo y la
  cantidad de errores por los que pagas.
og_image: /og-images/pricing-quotas-manage-event-stream-guide.png
---

Enviar todos los errores de tu aplicación a Sentry garantiza que recibirás notificaciones en tiempo real cuando se produzcan errores en tu código. Sin embargo, con una configuración básica, podrías consumir tu cuota de errores demasiado rápido y generar más notificaciones de las que realmente necesitas. Sentry proporciona herramientas para controlar el *tipo* y la *cantidad* de errores que se supervisan. Estas herramientas te permiten:

1. Recibir eventos de error más útiles y relevantes.
2. Reservar las notificaciones en tiempo real para los errores que realmente rompen tu código.
3. Administrar tu cuota de errores.

Aplicar los filtros adecuados, configurar el SDK y establecer límites de velocidad es un proceso iterativo y continuo, pero estos consejos te ayudarán a sacar el máximo partido de tus eventos de error. Estos consejos están ordenados de lo más fácil o menos demandante de tiempo a lo más desafiante o potencialmente demandante de tiempo. Las opciones 1-5 son cosas que puedes hacer en [sentry.io](https://sentry.io), mientras que las restantes son cosas que harás en el SDK.

<div id="before-you-begin-check-your-quota-usage">
  ## Antes de comenzar: revisa el uso de tu cuota
</div>

Puedes ver tus eventos de forma agregada en la pestaña &quot;Usage Stats&quot; de **Stats**. Esta información te ayudará a responder preguntas clave sobre la distribución de tus eventos entrantes o qué proyectos están consumiendo tu cuota. Las respuestas a estas preguntas pueden ayudarte a determinar dónde necesitas afinar más los filtros y la configuración de tu SDK.

Esta página es accesible para todos los miembros de tu organización, por lo que los propietarios de tu organización de Sentry pueden compartirla con los desarrolladores directamente responsables de un proyecto determinado. Además, puedes volver a esta página para comprobar si los cambios que has realizado están teniendo el efecto deseado.

<div id="how-can-i-see-a-breakdown-of-incoming-events">
  ### ¿Cómo puedo ver un desglose de los eventos entrantes?
</div>

La pestaña [Estadísticas de uso](/es/product/stats/#usage-stats) muestra detalles sobre la cantidad total de datos que Sentry ha recibido en toda tu organización durante un máximo de 90 días. La página desglosa los eventos (por proyecto) en tres categorías: *accepted*, *dropped* o *filtered*. Solo los eventos aceptados afectan tu cuota:

![Página de Estadísticas de uso mostrando errores](./img/usage-stats-errors.png)

<div id="what-are-my-busiest-projects">
  ### ¿Cuáles son mis proyectos con más actividad?
</div>

La tabla &quot;Project&quot; en la pestaña &quot;Usage Stats&quot; de **Stats** desglosa tus datos por proyecto para que puedas ver cuáles están consumiendo tu cuota. Al hacer clic en el icono de configuración junto al nombre de un proyecto en la tabla, se abrirá la página de configuración del proyecto, donde puedes gestionar sus [filtros de entrada](#3-inbound-data-filters) y [límites de tasa](#6-rate-limiting).

<div id="which-issues-are-consuming-my-quota">
  ### ¿Qué incidencias están consumiendo mi cuota?
</div>

<Alert>
  Solo puedes actualizar las columnas de la tabla de Resultados en **Discover** si tu organización tiene un plan Business.
</Alert>

Puedes configurar [una consulta](https://sentry.io/orgredirect/organizations/:orgslug/discover/results/?field=title\&field=project\&field=count%28%29\&name=All+Events\&query=event.type%3Aerror\&sort=-count\&statsPeriod=14d\&yAxis=count%28%29) en **Discover** para adoptar un enfoque más proactivo y resolver tus incidencias con más actividad. Al crear la consulta, busca `event.type:error` y luego establece las columnas `issue`, `title`, `project` y `count()`, como se muestra a continuación:

![Proyectos con más actividad](./img/manage-event-stream-02.png)

Una vez aplicados los cambios, ordena la tabla &quot;Results&quot; por la columna &quot;COUNT()&quot; para mostrar tus incidencias con más actividad:

![Incidencias con más actividad](./img/manage-event-stream-10.png)

Una vez que sepas dónde se está utilizando tu cuota, puedes empezar a tomar los siguientes pasos para controlarla.

<div id="grace-period">
  ## Período de gracia
</div>

Todas las cuentas tienen acceso a un período de gracia por única vez. Esto significa que, si una cuenta agota su volumen de eventos de error y nunca antes ha activado un período de gracia, seguiremos aceptando eventos durante los próximos tres días a una tasa máxima de 10.000 eventos por hora. Si decides no aumentar tu volumen de errores, Sentry dejará de aceptar eventos durante el resto del mes de facturación actual. Sin embargo, si aumentas tu volumen, los eventos de error aceptados durante el período de gracia se contarán como volumen consumido.

Aunque este período de gracia no depende de la [función Spike Protection](#7-spike-protection), probablemente recibirás una notificación de que has entrado en un período de gracia junto con una notificación de un pico.

<div id="spike-protection">
  ## Protección contra picos
</div>

La protección contra picos evita que los usuarios se vean afectados por aumentos repentinos en el volumen de eventos. Por lo general, estos picos se deben a anomalías y pueden agotar rápidamente tu volumen de eventos disponible. Tu consumo base se usa para calcular un umbral, y la protección contra picos se activa si el volumen de eventos supera ese umbral. Cuando se activa, los eventos comienzan a descartarse para que no se te cobre por el volumen excedente.

<div id="adjusting-quotas">
  ## Ajuste de cuotas
</div>

<Alert>
  Solo un miembro con rol de Facturación o Propietario en tu organización de Sentry puede actualizar las cuotas.
</Alert>

Cuando el volumen de eventos se acerque a la cuota o la supere, los integrantes con el permiso de organización &quot;Owner&quot; recibirán correos electrónicos de [notificación](/es/product/alerts/notifications/#quota-notifications). Luego puedes optar por [aumentar](#increasing-quotas) o [disminuir](#decreasing-quotas) tu cuota.

Si es la primera vez que superas tu cuota de errores y tienes un plan de pago, se activará un período de gracia único. Obtén más información en este [artículo de ayuda](https://sentry.zendesk.com/hc/en-us/articles/23983502355099-What-happens-when-I-run-out-of-event-capacity-and-a-grace-period-is-triggered).

<div id="increasing-quotas">
  ### Aumento de cuotas
</div>

Si estás descartando eventos que deseas conservar porque superaste tu cuota, puedes aumentarla en cualquier momento durante tu período de facturación incrementando tu cuota [reservada](#reserved-volume) o la cuota de [pago por uso](/es/pricing/#pricing-how-it-works).

Cuando superas el umbral de tu cuota, el servidor responde con el código de estado HTTP 429, que indica a los SDK y a los clientes que dejen de enviar eventos. Este código incluye un encabezado `Retry-After` que señala el tiempo durante el cual el límite de envío está activo. Sin embargo, los clientes no deben reintentar enviar eventos, sino descartarlos hasta que el límite expire para evitar acumulaciones en la cola. Ten en cuenta que, dado que la ingesta de eventos y la limitación de tasa ocurren de forma asíncrona, el código 429 siempre llega con un ligero retraso.

Para aumentar tu cuota, ve a **Settings &gt; Subscription** y haz clic en el botón &quot;Manage Subscription&quot; para acceder a las opciones de suscripción. Cuando aumentes tu cuota, el cambio entrará en vigor de inmediato.

Si estás en el plan Developer y quieres aumentar tu cuota, tendrás que actualizar a un plan Team o Business. En estos planes puedes prepagar más volumen de eventos y comprar volumen de pago por uso, según sea necesario. Conoce los planes de Sentry en nuestra [página de precios](https://sentry.io/pricing/).

<Alert>
  Si actualizas de Team a Business a mitad del período de facturación, tu precio de pago por uso cambia retroactivamente.
</Alert>

<div id="reserved-volume">
  ### Volumen reservado
</div>

Si la cantidad de eventos que necesitas aumenta de forma constante, quizá quieras incrementar tu capacidad o volumen reservado. El volumen reservado es más económico que el de pago por uso, ya que lo pagas por adelantado. También te permite elegir de antemano la cantidad de eventos que quieres tener disponibles, en lugar de simplemente establecer un presupuesto arbitrario de pago por uso. Obtén más información sobre el [volumen reservado](/es/pricing/#prepaid-reserved-capacity) en nuestra documentación de precios.

No deberías aumentar tu volumen reservado si crees que tu necesidad de más eventos es temporal, ya que [reducir tu volumen reservado está sujeto a tu período de facturación](#decreasing-quotas).

<div id="pay-as-you-go-budget">
  ### Presupuesto de pago por uso
</div>

Si necesitas aumentar temporalmente tu cuota de eventos, te recomendamos añadir o incrementar el presupuesto de pago por uso. Es ideal para situaciones como el lanzamiento de una nueva versión de tu aplicación, en las que prevés más eventos durante el mes. Obtén más información sobre el [presupuesto de pago por uso](/es/pricing/#pricing-how-it-works) en nuestra documentación de precios.

<div id="decreasing-quotas">
  ### Reducción de cuotas
</div>

Las degradaciones de plan y las reducciones del volumen reservado se procesan al final de tu período de facturación, y el volumen restante no es reembolsable. Por ejemplo, si tu período de facturación mensual empieza el día 5 de cada mes y reduces tu volumen reservado el 20 de junio, este cambio se procesará el 4 de julio. El período de facturación que comienza el 5 de julio reflejará tu nuevo volumen reservado.

<Alert level="warning">
  Si tienes un período de facturación anual, las degradaciones de plan y las reducciones del volumen reservado entran en vigor al inicio de tu **próximo año de facturación.**
</Alert>

Los cambios en el volumen de pago por uso normalmente entran en vigor de inmediato y se garantiza que entren en vigor en un plazo de 24 horas. Sin embargo, no puedes reducir tu presupuesto de pago por uso por debajo de lo que has consumido en el período actual.

Para reducir tu cuota, ve a **Settings &gt; Subscription** y haz clic en &quot;Manage Subscriptions&quot;. Cuando llegues al paso &quot;Review &amp; Confirm&quot;, se mostrará la fecha en que estos cambios entrarán en vigor.

<Alert>
  Te recomendamos encarecidamente realizar cambios en la suscripción **antes** del último día de tu período de facturación. Dependiendo de tu zona horaria, en algunos casos, los cambios hechos el último día del período de facturación no entrarán en vigor hasta el siguiente período de facturación.
</Alert>

<div id="rate-limiting">
  ## Limitación de tasa
</div>

<Include name="feature-available-for-plan-business.mdx" />

La limitación de tasa te permite definir el volumen máximo de eventos de error que aceptará una clave de proyecto durante un periodo de tiempo. Por ejemplo, si tienes un proyecto en producción que genera mucho ruido, un límite de tasa te permite fijar la cantidad máxima de datos, como “500 eventos por minuto”. Además, puedes crear una segunda clave para el mismo proyecto para tu entorno de staging, sin límite, garantizando que tu proceso de QA siga intacto.

En **[Settings &gt; Projects &gt; [Project] &gt; SDK Setup &gt; Client Keys (DSN)]**, haz clic en “Configure” y podrás crear varias claves DSN por proyecto y asignar distintos límites de tasa (o ninguno) a cada una. Esto te permitirá asignar claves de forma dinámica (con umbrales diferentes) según la versión, el entorno, etc.

![Límites por clave DSN](./img/manage-event-stream-11.png)

Una vez que hayas establecido el límite, los eventos descartados por limitación de tasa generan un código de error 429.

Aunque la limitación de tasa es muy útil para gestionar tu cuota mensual de eventos, ten en cuenta que, una vez que se supera un umbral definido, los eventos posteriores se descartarán. Por lo tanto, no deberías estar alcanzando constantemente tu límite; más bien, debería actuar como un tope destinado a protegerte de picos inesperados.

<div id="setting-useful-rate-limits">
  ### Cómo establecer límites de tasa útiles
</div>

Una buena manera de definir un límite de tasa para un proyecto es estimar el volumen de eventos esperado según tu tráfico promedio. Así es como hacerlo:

1. Ve a **Settings &gt; Projects &gt; [Project] &gt; SDK Setup &gt; Client Keys (DSN)** y abre la configuración de la clave DSN del proyecto haciendo clic en &quot;Configure&quot;.
2. En el gráfico &quot;KEY USAGE IN THE LAST 30 DAYS&quot;, busca el punto más alto, o la tasa diaria máxima. En el ejemplo siguiente, la tasa diaria máxima del último mes es inferior a 34K:
   ![Calculando límites de tasa](./img/manage-event-stream-14-new.png)
   {/*<!-- image notes: Sentry, airflow, Santry, app-frontend -->*/}
3. Con base en esa tasa, elige un valor máximo o tope **diario**. En este ejemplo, calculamos un máximo diario de aproximadamente 35K, que equivale a unos 1458 eventos por **hora**, o cerca de 24 eventos por **minuto**.
4. Establece un límite de tasa diario, por hora o por minuto. Recomendamos usar un límite por minuto para evitar situaciones en las que un pico aleatorio de eventos agote tu cuota diaria u horaria y te deje sin datos de eventos durante un período prolongado.

Vuelve periódicamente y revisa el gráfico para ver la cantidad de eventos descartados por limitación de tasa y, si es necesario, ajusta tu configuración.

![Revisar límites de tasa](./img/manage-event-stream-15-new.png)

<div id="review-event-repetition">
  ## Revisión de la repetición de eventos
</div>

Se aplican las siguientes reglas para la repetición de eventos de error y tu cuota:

* Si ya resolviste un problema, un nuevo evento de error cuenta para tu cuota porque podría indicar una regresión en tu código.
* Si decidiste ignorar las alertas sobre eventos de error con la misma huella, un nuevo evento cuenta para tu cuota porque el evento sigue ocurriendo.
* Si [&quot;Eliminar y descartar&quot;](#delete--discard) un problema, los **futuros** eventos de error con la misma huella no contarán para tu cuota.

<div id="delete-discard">
  ### Eliminar y descartar
</div>

<Include name="feature-available-for-plan-business.mdx" />

Si hay un problema irrelevante y recurrente que no puedes o no quieres resolver, puedes archivarlo desde la página **Issue Details** (temporal o permanentemente) haciendo clic en “Archive”. Esto filtrará los eventos futuros que coincidan.

![Archive Issues](./img/manage-event-stream-06-new.png)

Puedes encontrar una lista de issues eliminados y descartados en la pestaña “Discarded Issues” en **Settings &gt; Projects &gt; [Project] &gt; Processing &gt; Inbound Filters**. Desde aquí, puedes revertir el descarte de cualquiera de estos issues para recibir eventos futuros.

Siempre puedes ver tus issues archivados agregando `is:archived` en la barra de búsqueda de la página **Issues**, y desarchivarlos desde allí.

![List of Archived Issues](./img/manage-event-stream-07-new.png)

Una vez que hayas identificado un conjunto de issues descartados, puede tener sentido volver a la configuración de tu SDK y agregar los errores relacionados al filtrado del lado del cliente con `beforeSend`.

<div id="inbound-data-filters">
  ## Filtros de datos entrantes
</div>

Si bien la configuración del SDK requiere cambios en tu código fuente y depende de tu próximo despliegue, los filtros del lado del servidor pueden configurarse fácilmente por proyecto en la sección &quot;Data Filters&quot; de **Settings &gt; Projects &gt; [Project] &gt; Processing &gt; Inbound Filters**.

Una vez aplicados, puedes seguir los eventos filtrados (cantidad y causa) con el gráfico que aparece en la parte superior de la página &quot;Inbound Data Filters&quot;.

![Built-in Inbound Filters](./img/manage-event-stream-03.png)

Sentry ofrece varios métodos para filtrar todos los eventos y adjuntos en el servidor, que se aplican antes de comprobar posibles límites de velocidad. Los filtros de entrada incluyen:

* Errores comunes de extensiones del navegador
* Eventos provenientes de `localhost`
* Errores conocidos de navegadores antiguos
* Rastreadoras web conocidas
* Mensajes de error
* Versiones específicas de lanzamiento de tu código
* Ciertas direcciones IP

Las primeras cuatro opciones anteriores son configuraciones que simplemente puedes activar o desactivar. La configuración de las otras se explica más abajo.

Después de que se procesen estas comprobaciones, los eventos y adjuntos que no se descarten según estos filtros cuentan para tu cuota. Se aceptan en Sentry, donde se conservan y almacenan.

<div id="ip-filters">
  ### Filtros de IP
</div>

Si tienes un cliente problemático, Sentry permite bloquear una IP para que no envíe datos. Ve a **[Project] &gt; Settings &gt; Projects &gt; [Project] &gt; Inbound Filters** para agregar las direcciones IP (o subredes) en el campo “IP Addresses”.

<div id="filter-by-release">
  ### Filtrar por versión
</div>

<Include name="feature-available-for-plan-business.mdx" />

Si detectas una versión problemática que genera demasiado ruido, Sentry permite ignorar todos los eventos y archivos adjuntos de esa versión. Ve a **Settings &gt; Projects &gt; [Project] &gt; Inbound Filters** y agrega la versión en el campo &quot;Releases&quot;.

<div id="filter-by-error-message">
  ### Filtrar por mensaje de error
</div>

<Include name="feature-available-for-plan-business.mdx" />

Sentry también permite filtrar un error específico o un tipo de error. Ve a **Settings &gt; Projects &gt; [Project] &gt; Inbound Filters** y agrega el mensaje de error en el campo &quot;Error Message&quot;.

Para asegurarte de que agregas el mensaje correcto en la configuración del filtro de entrada, revisa el JSON de un evento en la incidencia. La opción de filtrar por mensaje de error compara los datos del campo `title` hacia el final del archivo.

<div id="sdk-sample-rate">
  ## Tasa de muestreo del SDK
</div>

Si se define una tasa de muestreo para el SDK, este evalúa si un evento debe enviarse como una fracción representativa del total. La configuración de la tasa de muestreo está [documentada para cada SDK](/es/platform-redirect/?next=/configuration/sampling/).

La tasa de muestreo del SDK no es dinámica; cambiarla requiere volver a desplegar. Además, ten en cuenta que establecer una tasa de muestreo en el SDK limita la visibilidad del origen de los eventos. Definir un límite de tasa para tu proyecto podría ajustarse mejor a tus necesidades.

<div id="sdk-filtering-beforesend">
  ## Filtrado del SDK: beforeSend
</div>

Todos los SDK de Sentry son compatibles con el método de callback `beforeSend`. Una vez implementado, el método se invoca cuando el SDK captura un evento de error, justo antes de enviarlo a tu cuenta de Sentry. Recibe el objeto del evento como parámetro, por lo que puedes usarlo para modificar los datos del evento o descartarlo por completo (al devolver `null`) según tu lógica y los datos disponibles en el evento, como *tags*, *environment*, *release version*, *error attributes*, etc. Ten en cuenta que solo los eventos de error y de mensaje pasan por `beforeSend`. Los eventos de transacción tienen un método aparte, `beforeSendTransaction`, aunque aún no está disponible en todos los SDK. Obtén más información sobre ambos métodos en [Filtering Events](/es/platform-redirect/?next=/configuration/filtering/).

<div id="sdk-configuration">
  ## Configuración del SDK
</div>

Los SDK de Sentry ofrecen varias opciones de configuración que puedes usar para filtrar errores no deseados y evitar que salgan del entorno de ejecución de tu aplicación. Muchas de estas opciones son específicas de cada plataforma, así que asegúrate de consultar la tuya en nuestra documentación de plataformas, en [Configuration](/es/platform-redirect/?next=/configuration/). A continuación se muestran algunos ejemplos de configuración para JavaScript y otros SDK.

<div id="javascript">
  ### JavaScript
</div>

El SDK de JavaScript incluye varias integraciones: complementos funcionales que puedes configurar, habilitar o deshabilitar. Obtén más información en [Integraciones del SDK de JavaScript](/es/platforms/javascript/configuration/integrations/). Varias integraciones te permiten definir los tipos de eventos que quieres que Sentry supervise; dos de ellas, InboundFilters y GlobalHandlers, se explican a continuación:

<div id="inboundfilters">
  #### InboundFilters
</div>

La integración está habilitada de forma predeterminada y añade las siguientes opciones de configuración al SDK:

* `allowUrls`: Dominios que podrían generar excepciones aceptables representados como patrones de regex.
* `denyUrls`: Lista de cadenas o patrones de regex que coinciden con URL de error que deben bloquearse para que no envíen eventos. Configurar tanto `allowUrls` como `denyUrls` en el SDK puede usarse para bloquear subdominios de los dominios incluidos en `allowUrls`.
* `ignoreErrors`: Indica al SDK que nunca envíe un error a Sentry si coincide con cualquiera de los mensajes de error o expresiones regulares listados. El SDK intentará comparar contra el mensaje o, si no hay mensaje, contra una cadena que contenga el tipo y el valor de la excepción con el siguiente formato: `ExceptionType: value`.
* `ignoreTransactions`: Indica al SDK que nunca envíe una transacción a Sentry si coincide con cualquiera de los nombres de transacción o expresiones regulares listados.

Para obtener más información y ver ejemplos de código, consulta:

* [Filtering](/es/platforms/javascript/configuration/filtering/)
* [Enriching Events: Add Context](/es/platforms/javascript/enriching-events/context/)

<div id="globalhandlers">
  #### GlobalHandlers
</div>

Esta integración agrega controladores globales para capturar excepciones no capturadas (`onerror`) y rechazos no gestionados (`onunhandledrejection`). Ambos controladores están habilitados de forma predeterminada, pero pueden deshabilitarse mediante la configuración. Obtén más información en [la integración GlobalHandlers](/es/platforms/javascript/configuration/integrations/globalhandlers/).

Consulta opciones de configuración adicionales con las integraciones [BrowserApiErrors](/es/platforms/javascript/configuration/integrations/browserapierrors/) y [ReportingObserver](/es/platforms/javascript/configuration/integrations/reportingobserver/).

<div id="other-sdks">
  ### Otros SDK
</div>

**Java** - El [SDK de Java](/es/platforms/java/) de Sentry ofrece integraciones con bibliotecas de registro comunes de Java. La configuración te permite establecer un umbral que determina el nivel mínimo para capturar un mensaje de registro como breadcrumb. También ofrece un ajuste para configurar el nivel mínimo de registro para capturar un evento.

**PHP** - La opción de configuración `error_types` te permite establecer los tipos de error que quieres que Sentry supervise. Obtén más información en las [Opciones básicas de PHP](/es/platforms/php/configuration/options/#common-options).

**Ruby** - La opción de configuración `excluded_exceptions` te permite establecer los tipos de excepciones que deseas suprimir. Obtén más información en la [documentación de configuración de Ruby](/es/platforms/ruby/configuration/options/#optional-settings)