---
title: Administra las horas de tu perfil de UI
keywords: ["mejores prácticas"]
sidebar_order: 51
description: Aprende a usar las herramientas de Sentry para administrar la cantidad de horas de perfil de UI por las que pagas.
---

Puedes controlar cuándo está activa la creación de perfiles de UI y usar el muestreo para gestionar la cantidad de horas de perfil de UI por las que se te factura. Consulta a continuación para aprender cómo hacerlo.

<div id="before-you-begin-check-your-usage">
  ## Antes de comenzar: revisa tu uso
</div>

Puedes consultar tus horas de Perfil de IU en conjunto en la pestaña &quot;Usage Stats&quot; de la página **Stats** para entender la distribución de tus perfiles entrantes y ver qué proyectos están consumiendo tu cuota. Esto puede ayudarte a identificar dónde necesitas afinar aún más tu configuración.

<div id="how-can-i-sample-profiles">
  ## ¿Cómo puedo muestrear perfiles?
</div>

UI Profiling solo admite muestreo del **lado del cliente**. Para controlar el comportamiento de muestreo del lado del cliente, puedes configurar el parámetro `profile_session_sample_rate` con un valor entre 0.0 y 1.0 para controlar cuántas sesiones de perfilado se muestrean (el valor predeterminado es 0.0).

En UI Profiling, la sesión inicial del usuario comienza cuando se inicializa el SDK, y el muestreo se evalúa por primera vez en ese momento. La sesión del usuario finalizará al terminar la aplicación **o**, según la plataforma, puede haber otros eventos que la finalicen (como enviar una app móvil a segundo plano). La tasa de muestreo se volverá a evaluar en cada nueva sesión de usuario.

Por ejemplo: en el navegador, la sesión del usuario comienza cuando se abre la pestaña y termina cuando se cierra. El muestreo se evaluará una vez al inicio de cada sesión, por lo que si `profile_session_sample_rate` está establecido en 0.5, entonces el 50% de las veces que se abra tu aplicación en una pestaña del navegador, el perfilado estará activo durante toda la vida de esa pestaña. En dispositivos móviles, la sesión del usuario comienza cuando se inicia la aplicación o se trae al primer plano, y termina cuando la aplicación se cierra o se envía a segundo plano. El muestreo se evaluará una vez al inicio de cada sesión, por lo que si `profile_session_sample_rate` está establecido en 0.5, entonces el 50% de las veces que un usuario abra tu aplicación móvil, el perfilado estará activo hasta que la envíe a segundo plano o cierre la app.

<div id="how-can-i-control-when-profiling-is-active">
  ## ¿Cómo controlar cuándo está activo el perfilado?
</div>

UI Profiling ofrece dos modos de “ciclo de vida” para controlar cuándo se ejecuta el profiler. Estos modos se configuran estableciendo la opción del SDK `profile_lifecycle` en uno de estos dos valores:

* `manual` (predeterminado): proporciona control totalmente manual sobre cuándo se ejecuta el profiler. Puedes usar las funciones `start_profile_session` y `stop_profile_session` para controlarlo con precisión. Ten en cuenta que una sesión de perfil debe ser muestreada según el valor de `profile_session_sample_rate` para que `start_profiler` tenga algún efecto. Llamar a `start_profile_session` no tendrá efecto en sesiones no muestreadas.

* `trace`: proporciona un comportamiento similar al producto anterior de perfilado basado en transacciones, donde el profiler se iniciará y detendrá automáticamente según el ciclo de vida del trace. En este modo, el profiler se iniciará automáticamente cuando haya al menos un span/transacción raíz activo y se detendrá automáticamente cuando no haya spans/transacciones raíz activos. Este modo de ciclo de vida solo funciona si se cumplen ambas condiciones:

  * La sesión de perfil está muestreada (mediante `profile_session_sample_rate`)
  * El trace está muestreado (mediante `traces_sample_rate` o `traces_sampler`)

<div id="how-can-i-estimate-usage-for-ui-profiling">
  ## ¿Cómo puedo estimar el uso para el perfilado de la UI?
</div>

<div id="on-mobile">
  ### En dispositivos móviles
</div>

Para estimar el uso mensual del perfilado de la UI en móviles, el cálculo es **duración promedio de la sesión de usuario en horas * número de sesiones de usuario muestreadas al mes.** Por ejemplo, si la duración promedio de la sesión es de 6 minutos y hay 10 000 sesiones muestreadas al mes, entonces el uso total es **0,1 horas * 10 000 sesiones = 1 000 horas al mes.** Puedes reducir la cantidad de horas de perfilado muestreando menos sesiones de usuario (reduciendo `profile_session_sample_rate`) o perfilando solo dispositivos o configuraciones especialmente sensibles al rendimiento (como móviles de gama baja).

<div id="in-the-browser">
  ### En el navegador
</div>

Para estimar el uso mensual de UI Profiling en el navegador, el cálculo es: **duración promedio de la sesión de usuario en horas × número de sesiones de usuario al mes**. Por ejemplo, si la duración promedio de la sesión es de 6 minutos y hay 10 000 sesiones de usuario muestreadas al mes, entonces el uso total es **0,1 horas × 10 000 sesiones = 1 000 horas al mes**. Puedes reducir la cantidad de horas de perfilado si perfilas un menor número de sesiones de usuario (reduciendo `profile_session_sample_rate`).

<div id="how-do-you-purchase-ui-profiling">
  ## ¿Cómo adquirir UI Profiling?
</div>

Define tu presupuesto de pago por uso (PAYG), que puedes destinar a UI Profiling y otros productos de Sentry. Consulta la [documentación de precios](/es/pricing/) para obtener más información.

<div id="what-if-im-already-using-transaction-based-profiling">
  ## ¿Qué pasa si ya estoy usando el perfilado basado en transacciones?
</div>

El perfilado de la UI y el anterior perfilado basado en transacciones son **excluyentes** dentro del mismo servicio, lo que significa que **no** puedes usar ambos al mismo tiempo. Si estás configurando `profiles_sample_rate` o `profiles_sampler` en las opciones de configuración del SDK de Sentry, estás usando el perfilado basado en transacciones. Si estás configurando `profile_session_sample_rate`, estás usando el perfilado de la UI.

<div id="what-if-i-try-to-activate-both-at-once">
  ### ¿Qué pasa si intento activar ambos a la vez?
</div>

Si estableces `profile_session_sample_rate` cuando `profiles_sample_rate` o `profiles_sampler` ya están configurados, `profile_session_sample_rate` no tendrá ningún efecto y el perfilado basado en transacciones tendrá prioridad.

<div id="can-i-use-both-transaction-based-profiling-and-ui-profiling-on-separate-services">
  ### ¿Puedo usar tanto el perfilado basado en transacciones como el perfilado de UI en servicios separados?
</div>

En aplicaciones o servicios **separados**, sí **puedes** optar por usar una combinación de APIs de perfilado basadas en transacciones y las nuevas APIs de UI Profiling. Recomendamos que todos los usuarios migren a las APIs de UI Profiling, ya que las APIs basadas en transacciones eventualmente se desaprobarán y se eliminarán en una versión principal del SDK. Seguiremos admitiendo la ingesta de perfiles basados en transacciones enviados por SDKs antiguos para mantener la compatibilidad con versiones anteriores.

<div id="how-do-i-migrate-from-transaction-based-profiling-to-ui-profiling">
  ## ¿Cómo migro del perfilado basado en transacciones al perfilado de UI?
</div>

* Sustituye el uso de `profiles_sample_rate` y `profiles_sampler` por `profile_session_sample_rate`
* Si usas el modo de ciclo de vida de perfilado `manual`, agrega llamadas a `start_profile_session` y `stop_profile_session`
* Si usas el modo de ciclo de vida de perfilado `trace`, asegúrate de que `traces_sample_rate` o `traces_sampler` estén configurados adecuadamente, además de `profile_session_sample_rate`

Consulta la [guía de migración](/es/product/explore/profiling/continuous-ui-profiling-migration-guide/) para más información.