---
title: Slog
description: "Slog es una biblioteca de registros estructurados para Go, introducida en Go 1.21. Esta guía muestra cómo integrar slog con Sentry para capturar y enviar registros a Sentry."
---

Como referencia rápida, hay un [ejemplo completo](https://github.com/getsentry/sentry-go/tree/master/_examples/slog) en el repositorio del código fuente del SDK de Go.

La documentación de la API de Go para el [paquete `sentryslog`](https://pkg.go.dev/github.com/getsentry/sentry-go/slog) también está disponible.

<div id="requirements">
  ## Requisitos
</div>

El registro estructurado con Slog es compatible en el SDK de Sentry para Go a partir de la versión `0.34.0`.

<div id="install">
  ## Instalación
</div>

```bash
go get github.com/getsentry/sentry-go
go get github.com/getsentry/sentry-go/slog
```

<div id="configure">
  ## Configuración
</div>

<div id="initialize-the-sentry-sdk">
  ### Inicializa el SDK de Sentry
</div>

<PlatformContent includePath="getting-started-include-logs-config" />

<div id="options">
  ### Opciones
</div>

`sentryslog` ofrece opciones para configurar la integración con Sentry. Acepta una estructura `sentryslog.Options` que te permite definir cómo se comportará el controlador. Las opciones son:

```go
type Option struct {
	// EventLevel especifica los niveles de log exactos que se capturarán y enviarán a Sentry como eventos.
	// Solo los logs de estos niveles específicos se procesarán como eventos.
	// El valor predeterminado es []slog.Level{slog.LevelError, LevelFatal}.
	EventLevel []slog.Level

	// LogLevel especifica los niveles de log exactos que se capturarán y enviarán a Sentry como entradas de log.
	// Solo los logs de estos niveles específicos se procesarán como entradas de log.
	// El valor predeterminado es []slog.Level{slog.LevelDebug, slog.LevelInfo, slog.LevelWarn, slog.LevelError, LevelFatal}.
	LogLevel []slog.Level

	// Hub especifica el Hub de Sentry que se utilizará para capturar eventos.
	// Si no se proporciona, se utiliza el Hub actual de forma predeterminada.
	Hub *sentry.Hub

	// Converter es una función opcional que personaliza la forma en que los registros de log
	// se convierten en eventos de Sentry. De forma predeterminada, se utiliza DefaultConverter.
	Converter Converter

	// AttrFromContext es un slice opcional de funciones que extraen atributos
	// del contexto. Estas funciones pueden agregar metadatos adicionales a la entrada de log.
	AttrFromContext []func(ctx context.Context) []slog.Attr

	// AddSource es un flag opcional que, cuando se establece en true, incluye información
	// de origen (como el archivo y número de línea) en el evento de Sentry.
	// Esto puede ser útil para fines de depuración.
	AddSource bool

	// ReplaceAttr es una función opcional que permite modificar o
	// reemplazar atributos en el registro de log. Puede utilizarse para filtrar
	// o transformar atributos antes de enviarlos a Sentry.
	ReplaceAttr func(groups []string, a slog.Attr) slog.Attr
}
```

<div id="verify">
  ## Verificar
</div>

```go
// Configura `slog` para usar Sentry como manejador
ctx := context.Background()
handler := sentryslog.Option{
    // Especifica explícitamente los niveles que deseas capturar.
	EventLevel: []slog.Level{slog.LevelError}, // Captura solo [slog.LevelError] como eventos de error.
	LogLevel:   []slog.Level{slog.LevelWarn, slog.LevelInfo}, // Captura solo [slog.LevelWarn] y [slog.LevelInfo] como entradas de registro.
}.NewSentryHandler(ctx)
logger := slog.New(handler)

// Envía un evento de error a Sentry para verificar la funcionalidad
logger.Error("¡Este error será enviado a Sentry!")

// También una entrada de registro
logger.With("key.string", "value").Info("Ocurrió un error")
```

<Include name="logs/go-ctx-usage-alert.mdx" />

<div id="logs">
  ## Registros
</div>

Para una configuración de logging completa con slog, incluidas opciones avanzadas y buenas prácticas, consulta la [documentación de logs de Go](/es/platforms/go/logs/). La integración de slog mostrada arriba se integra sin inconvenientes con las funciones de registro estructurado de Sentry.