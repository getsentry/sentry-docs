---
draft: true
categories: []
toc: true
title: Uso
sidebar_order: 2
noindex: true
tags: []
---

<Alert level="warning" title="Aviso de desaprobación">
  Un [nuevo SDK de Go](/es/platforms/go/) ha reemplazado esta versión en desuso. Sentry mantiene esta documentación para quienes aún usan el cliente antiguo `raven-go`. Obtén más información sobre el proyecto en [GitHub](https://github.com/getsentry/sentry-go) y consulta nuestra [guía de migración](/es/platforms/go/migration/).
</Alert>

<div id="capturing-errors">
  ## Captura de errores
</div>

En Go existen tanto errores como pánicos, y Raven puede manejar ambos. Para saber más sobre las diferencias, consulta [Manejo de errores y Go](https://blog.golang.org/error-handling-and-go).

Para manejar respuestas `error` normales, tenemos dos opciones: `CaptureErrorAndWait` y `CaptureError`. La primera es una llamada bloqueante, pensada para cuando quieras salir de la aplicación tras informar, y la segunda es no bloqueante.

```go
f, err := os.Open("nombre-de-archivo.ext")
if err != nil {
	raven.CaptureErrorAndWait(err, nil)
	log.Panic(err)
}
```

<div id="capturing-panics">
  ## Captura de pánicos
</div>

Capturar un pánico también es bastante sencillo. Solo necesitamos envolver nuestro código en `CapturePanic`. `CapturePanic` ejecutará la `func` y, si se produce un pánico, lo registraremos y continuaremos de forma correcta.

```go
raven.CapturePanic(func() {
	// haz todas las cosas arriesgadas aquí
	panic("¡Mi primer error en Sentry!")
}, nil)
```

Puedes verificar tu integración con Sentry usando el fragmento anterior para enviar un evento de prueba.

Además de los errores y pánicos habituales, también hay dos métodos adicionales que permiten enviar información a Sentry.

<div id="capturing-messages">
  ## Captura de mensajes
</div>

`CaptureMessage` y su equivalente `CaptureMessageAndWait` te permiten enviar mensajes arbitrarios que el SDK registrará en tu proyecto de Sentry.

```go
raven.CaptureMessageAndWait("Algo salió mal y me gustaría saberlo", map[string]string{"category": "logging"})
```

<div id="capturing-events">
  ## Captura de eventos
</div>

`Capture` es un método de bajo nivel que puede usarse para enviar eventos personalizados (de tipo Packet en el Sentry Go SDK). No tiene un equivalente `CaptureAndWait`, pero devuelve un canal por si quieres verificar el estado de la entrega.
Para formar un `Packet`, puedes usar directamente el tipo `Packet`, o los métodos auxiliares `NewPacket` y `NewPacketWithExtra`, que crean un evento vacío con un mensaje y datos adicionales opcionales.

```go
packet := &raven.Packet{
    Message: "Evento artesanal",
    Extra: &raven.Extra{
        "runtime.Version": runtime.Version(),
        "runtime.NumCPU": runtime.NumCPU(),
    },
}
raven.Capture(packet, nil)
```

<div id="additional-data">
  ## Datos adicionales
</div>

Todas las llamadas `Capture*` pueden aceptar argumentos adicionales que te ayudarán a interpretar mejor tus informes.
Para obtener más información, consulta la sección [Context](/es/platforms/go/legacy-sdk/context/).

<div id="event-sampling">
  ## Muestreo de eventos
</div>

Para configurar el muestreo en el cliente, puedes usar la función de cliente `SetSampleRate`. El SDK de Sentry no aplica muestreo de errores de forma predeterminada (sampleRate=1).

```go
raven.SetSampleRate(0.25)
```
