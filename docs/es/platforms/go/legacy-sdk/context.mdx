---
draft: true
categories: []
toc: true
title: Contexto
sidebar_order: 3
noindex: true
tags: []
---

<Alert level="warning" title="Aviso de deprecación">
  Un [nuevo SDK de Go](/es/platforms/go/) ha sustituido esta versión obsoleta. Sentry conserva esta documentación para clientes que usan el cliente antiguo `raven-go`. Obtén más información sobre el proyecto en [GitHub](https://github.com/getsentry/sentry-go) y consulta nuestra [guía de migración](/es/platforms/go/migration/).
</Alert>

Todas las funciones `Capture*` aceptan un argumento adicional: un `map` de etiquetas como segundo argumento y datos de contexto como los restantes.
Las etiquetas en Sentry ayudan a categorizar los datos y ofrecen más información sobre los errores que ocurrieron, mientras que otros datos de contexto son más específicos del entorno.
**La llamada directa de bajo nivel `Capture` solo acepta el segundo argumento —las etiquetas—, sin interfaces adicionales.**

Por ejemplo:

```go
raven.CaptureError(err, map[string]string{"browser": "Firefox"}, &raven.Http{
    Method: "GET",
    URL: "https://example.com/raven-go"
})
```

Estos datos pueden pasarse directamente a las llamadas `Capture*` o configurarse de forma global con las funciones indicadas abajo, si decides aplicarlos a todos los eventos futuros.

<div id="sethttpcontext">
  ### `SetHttpContext`
</div>

Proporciona información sobre la llamada HTTP que el SDK de Sentry estaba procesando cuando ocurrió el error.

```go
h := &raven.Http{
    Method: "GET",
    URL: "https://example.com/raven-go",
}
// o
h = raven.NewHttp(req) // donde req es una implementación de la interfaz `*http.Request`
raven.SetHttpContext(h)
```

<div id="settagscontext">
  ### `SetTagsContext`
</div>

Añade nuevas etiquetas al contexto y fusiónalas con las existentes.

```go
t := map[string]string{"day": "Friday", "sport": "Weightlifting"}
raven.SetTagsContext(t)
```

<div id="setusercontext">
  ### `SetUserContext`
</div>

Proporciona información sobre el usuario cuya sesión estaba activa cuando se produjo el error.

```go
u := &raven.User{
    ID: "1337",
    Username: "kamilogorek",
    Email: "kamil@sentry.io",
    IP: "127.0.0.1",
}
raven.SetUserContext(u)
```

<div id="clearcontext">
  ### `ClearContext`
</div>

Restablece `Http`, `Tags` y `User` al valor `Nil`.

```go
raven.ClearContext()
```

<div id="wrapwithextra">
  ### `WrapWithExtra`
</div>

Envuelve el objeto de error con un par clave-valor arbitrario que el SDK enviará a Sentry junto con el error original.

```go
path := "filename.ext"
f, err := os.Open(path)
if err != nil {
    err = raven.WrapWithExtra(err, map[string]string{"path": path, "cwd": os.Getwd()}
    raven.CaptureErrorAndWait(err, nil)
    log.Panic(err)
}
```
