---
title: Configuración
description: "Obtén más información sobre cómo configurar el SDK. Estas opciones se definen cuando se inicializa por primera vez, y se pasan al método init como un objeto."
sidebar_order: 5
---

<div id="setting-the-dsn-data-source-name">
  ## Configurar el DSN (Data Source Name)
</div>

El DSN es lo primero y lo más importante que debes configurar, porque le indica al SDK a dónde enviar los eventos. Puedes encontrar el DSN de tu proyecto en la sección “Client Keys” de “Project Settings” en Sentry. Puede configurarse de varias maneras. Las [explicaciones de los métodos de configuración se detallan a continuación](#configuration-methods).

En un archivo de propiedades en tu sistema de archivos o en el classpath (de forma predeterminada, `sentry.properties`):

```text {tabTitle:Properties File} {filename:sentry.properties}
dsn=___PUBLIC_DSN___
```

Mediante las propiedades del sistema de Java *(no disponible en Android)*:

```bash {tabTitle:Java System Properties}
java -Dsentry.dsn=___PUBLIC_DSN___ -jar app.jar
```

Mediante una variable de entorno del sistema *(no disponible en Android)*:

```bash {tabTitle:System Environment Variable}
SENTRY_DSN=___PUBLIC_DSN___ java -jar app.jar
```

En el código:

```java {tabTitle:Java}
import io.sentry.Sentry;

Sentry.init(options -> {
  options.setDsn("___PUBLIC_DSN___");
});
```

```kotlin {tabTitle:Kotlin}
import io.Sentry.Sentry

Sentry.init { options ->
  options.dsn = "___PUBLIC_DSN___"
}
```

Cuando se usan varias formas de configuración, las opciones se resuelven en el siguiente orden:

* propiedades del sistema
* variables de entorno
* archivo `sentry.properties` cuya ubicación se determina a partir de la propiedad del sistema `sentry.properties.file`
* archivo `sentry.properties` cuya ubicación se determina a partir de la variable de entorno `SENTRY_PROPERTIES_FILE`
* archivo `sentry.properties` ubicado en la raíz del classpath
* opciones definidas en código Java

<div id="configuration-methods">
  ## Métodos de configuración
</div>

Hay varias formas de configurar el SDK de Java, pero todas usan las mismas opciones. Consulta a continuación cómo utilizar cada método de configuración y cómo pueden variar los nombres de las opciones entre ellos.

Para habilitar la carga de la configuración desde el archivo de propiedades, las propiedades del sistema o las variables de entorno, se debe establecer `enableExternalConfiguration` en `true` en `SentryOptions`:

```java {tabTitle:Java}
import io.sentry.Sentry;

Sentry.init(options -> {
  options.setEnableExternalConfiguration(true);
});
```

```kotlin {tabTitle:Kotlin}
import io.sentry.Sentry

Sentry.init { options ->
  options.isEnableExternalConfiguration = true
}
```

<div id="configuration-via-properties-file">
  ### Configuración mediante archivo de propiedades
</div>

El SDK de Java puede configurarse mediante un [archivo .properties](https://en.wikipedia.org/wiki/.properties) ubicado en el sistema de archivos o en el classpath de tu aplicación. De forma predeterminada, el SDK buscará un archivo `sentry.properties` en el directorio de trabajo actual de la aplicación o en la raíz del classpath. En la mayoría de las aplicaciones del lado del servidor, el directorio predeterminado para agregar recursos al classpath es `src/main/resources/`, y en Android el predeterminado es `app/src/main/resources/`. Puedes cambiar la ubicación del archivo de propiedades usando la propiedad del sistema de Java `sentry.properties.file` o la variable de entorno del sistema `SENTRY_PROPERTIES_FILE`.

Dado que este archivo suele incluirse con tu aplicación, los valores no pueden cambiarse fácilmente una vez que la aplicación ha sido empaquetada. Por esta razón, el archivo de propiedades es útil para establecer valores predeterminados u opciones que no esperas cambiar con frecuencia. El archivo de propiedades es el último lugar donde se comprueba cada valor de opción, por lo que la configuración en tiempo de ejecución (descrita a continuación) lo sobrescribirá si está disponible.

Los nombres de las opciones en el archivo de propiedades coinciden exactamente con los ejemplos que se dan a continuación. Por ejemplo, para configurar el entorno, en tu archivo de propiedades:

```properties
environment=production
```

<div id="configuration-via-the-runtime-environment">
  ### Configuración mediante el entorno de ejecución
</div>

Este es el método más flexible para configurar el cliente de Sentry porque se puede cambiar fácilmente según el entorno en el que ejecutes tu aplicación. *Ni las propiedades del sistema de Java ni las variables de entorno del sistema están disponibles para aplicaciones de Android. Configura Sentry para Android mediante código o mediante el archivo de propiedades.*

Hay dos métodos disponibles para la configuración en tiempo de ejecución, comprobados en este orden: propiedades del sistema de Java y variables de entorno del sistema.

Los nombres de las opciones de propiedades del sistema de Java son exactamente como los ejemplos que se muestran a continuación, salvo que llevan el prefijo `sentry.`. Por ejemplo, para habilitar el muestreo:

```bash
java -Dsentry.environment=production -jar app.jar
```

Los nombres de las opciones de variables de entorno del sistema requieren que reemplaces el `.` por `_`, los pongas en mayúsculas y agregues el prefijo `SENTRY_`. Por ejemplo, para habilitar el muestreo:

```bash
SENTRY_ENVIRONMENT=production
```

<div id="options">
  ## Opciones
</div>

Las siguientes opciones pueden configurarse como se indicó arriba: mediante un archivo `sentry.properties`, mediante propiedades del sistema de Java o mediante variables de entorno del sistema.

<div id="release">
  ### Versión
</div>

Para establecer la versión de la aplicación que se enviará con cada evento, usa la opción `release`:

```properties {tabTitle:sentry.properties}
release=my-project-name@2.3.12
```

```properties {tabTitle:environment variable}
SENTRY_RELEASE='my-project-name@2.3.12'
```

```properties {tabTitle:system property}
sentry.release=my-project-name@2.3.12
```

<div id="distribution">
  ### Distribución
</div>

Para definir la distribución de la aplicación que se enviará con cada evento, usa la opción `dist`:

```properties {tabTitle:sentry.properties}
release=my-project-name@2.3.12
dist=x86
```

```properties {tabTitle:environment variable}
SENTRY_RELEASE='my-project-name@2.3.12'
SENTRY_DIST=x86
```

```properties {tabTitle:system property}
sentry.release=my-project-name@2.3.12
sentry.dist=x86
```

La distribución solo resulta útil (y se utiliza) si también se ha definido `release`.

<div id="environment">
  ### Entorno
</div>

Para configurar el entorno de la aplicación que se enviará con cada evento, usa la opción `environment`:

```properties {tabTitle:sentry.properties}
environment=staging
```

```properties {tabTitle:environment variable}
SENTRY_ENVIRONMENT=staging
```

```properties {tabTitle:system property}
sentry.environment=staging
```

<div id="server-name">
  ### Nombre del servidor
</div>

Para configurar el nombre del servidor que se enviará con cada evento, usa la opción `servername`:

```properties {tabTitle:sentry.properties}
servername=host1
```

```properties {tabTitle:environment variable}
SENTRY_SERVERNAME=host1
```

```properties {tabTitle:system property}
sentry.servername=host1
```

<div id="tags">
  ### Etiquetas
</div>

Para establecer las etiquetas comunes que se enviarán con cada evento, usa la opción `tags`:

```properties {tabTitle:sentry.properties}
tags.first_tag=valor-primera-etiqueta
tags.second_tag=valor-segunda-etiqueta
```

```properties {tabTitle:environment variable}
SENTRY_TAGS_FIRST_TAG=first-tag-value
SENTRY_TAGS_SECOND_TAG=second-tag-value
```

```properties {tabTitle:system property}
sentry.tags.first_tag=first-tag-value
sentry.tags.second_tag=second-tag-value
```

<div id="in-app-includes">
  ### Inclusiones en la app
</div>

Para configurar las inclusiones en la app que se enviarán con cada evento, utiliza la opción `in-app-includes`:

```properties {tabTitle:sentry.properties}
in-app-includes=com.mycompany,com.other.name
```

```properties {tabTitle:environment variable}
SENTRY_IN_APP_INCLUDES=com.mycompany,com.other.name
```

```properties {tabTitle:system property}
sentry.in-app-includes=com.mycompany,com.other.name
```

<div id="in-app-excludes">
  ### Exclusiones dentro de la app
</div>

Para configurar las exclusiones dentro de la app que se enviarán con cada evento, usa la opción `in-app-excludes`:

```properties {tabTitle:sentry.properties}
in-app-excludes=host1
```

```properties {tabTitle:environment variable}
SENTRY_IN_APP_EXCLUDES=host1
```

```properties {tabTitle:system property}
sentry.in-app-excludes=host1
```

<div id="ignored-exceptions-for-type">
  ### Excepciones ignoradas por tipo
</div>

Para definir excepciones que se filtrarán antes de enviarlas a Sentry, usa la opción `ignored-exceptions-for-type`:

```properties {tabTitle:sentry.properties}
ignored-exceptions-for-type=java.lang.RuntimeException,java.lang.IllegalStateException
```

```properties {tabTitle:environment variable}
SENTRY_IGNORED_EXCEPTIONS_FOR_TYPE=java.lang.RuntimeException,java.lang.IllegalStateException
```

```properties {tabTitle:system property}
sentry.ignored-exceptions-for-type=java.lang.RuntimeException,java.lang.IllegalStateException
```

<div id="traces-sample-rate">
  ### Tasa de muestreo de trazas
</div>

Para configurar la tasa de muestreo de trazas, usa la opción `traces-sample-rate`:

```properties {tabTitle:sentry.properties}
traces-sample-rate=0.2
```

```properties {tabTitle:environment variable}
SENTRY_TRACES_SAMPLE_RATE=0.2
```

```properties {tabTitle:system property}
sentry.traces-sample-rate=0.2
```

<div id="tracing-origins">
  ### Orígenes de trazas
</div>

Para establecer los orígenes de trazas, usa la opción `trace-propagation-targets`:

```properties {tabTitle:sentry.properties}
trace-propagation-targets=localhost,^(http|https)://api\\..*$
```

```properties {tabTitle:environment variable}
SENTRY_TRACE_PROPAGATION_TARGETS=localhost,^(http|https)://api\\..*$
```

```properties {tabTitle:system property}
sentry.trace-propagation-targets=localhost,^(http|https)://api\\..*$
```

<div id="debug">
  ### Depuración
</div>

Para activar el modo de depuración de Sentry, usa la opción `debug`:

```properties {tabTitle:sentry.properties}
debug=true
```

```properties {tabTitle:environment variable}
SENTRY_DEBUG=true
```

```properties {tabTitle:system property}
sentry.debug=true
```

<div id="disable-sentry">
  ### Desactivar Sentry
</div>

Para desactivar Sentry, usa la opción `enabled`:

```properties {tabTitle:sentry.properties}
enabled=false
```

```properties {tabTitle:environment variable}
SENTRY_ENABLED=false
```

```properties {tabTitle:system property}
sentry.enabled=false
```

<div id="configuring-timeouts">
  ## Configuración de tiempos de espera
</div>

Puedes establecer manualmente la duración de los tiempos de espera de conexión con `connectionTimeoutMillis` y `readTimeoutMillis`:

```java {tabTitle:Java}
import io.sentry.Sentry;

Sentry.init(options -> {
  options.setConnectionTimeoutMillis(10000);
  options.setReadTimeoutMillis(10000);
});
```

```kotlin {tabTitle:Kotlin}
import io.sentry.Sentry

Sentry.init { options ->
  options.connectionTimeoutMillis = 2000
  options.readTimeoutMillis = 1000
}
```

<div id="using-a-proxy">
  ## Uso de un proxy
</div>

Si tu aplicación necesita enviar solicitudes salientes a través de un proxy HTTP, puedes configurar la información del proxy mediante las propiedades de red de la JVM o como una opción de Sentry.

Por ejemplo, usando las propiedades de red de la JVM (afecta a todo el proceso de la JVM),

```bash
java \
  # si usas el protocolo HTTP \
  -Dhttp.proxyHost=proxy.example.com \
  -Dhttp.proxyPort=8080 \
  \
  # si usas el protocolo HTTPS \
  -Dhttps.proxyHost=proxy.example.com \
  -Dhttps.proxyPort=8080 \
  \
  # relevante para HTTP y HTTPS
  -Dhttp.nonProxyHosts="localhost|host.example.com" \
  \
  MyApp
```

Consulta [Java Networking and Proxies](http://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html) para obtener más información sobre las propiedades del proxy.

Como alternativa, usando las opciones de Sentry (solo afecta al cliente HTTP de Sentry; útil en contenedores de aplicaciones compartidas),

```properties {tabTitle:sentry.properties}
proxy.host=proxy.example.com
# opcional
proxy.port=8080 # por defecto 80
proxy.user=proxy-user
proxy.pass=proxy-password
```

```properties {tabTitle:environment variable}
SENTRY_PROXY_HOST=proxy.example.com
# opcional
SENTRY_PROXY_PORT=8080 # predeterminado 80
SENTRY_PROXY_USER=proxy-user
SENTRY_PROXY_PASS=proxy-password
```

```properties {tabTitle:system property}
sentry.proxy.host=proxy.example.com
# opcional
sentry.proxy.port=8080 # por defecto 80
sentry.proxy.user=proxy-user
sentry.proxy.pass=proxy-password
```

<div id="configuring-offline-caching">
  ## Configuración del almacenamiento en caché sin conexión
</div>

El SDK puede guardar eventos en el disco si se producen errores de red y enviarlos a Sentry en otra inicialización del SDK cuando el servidor de Sentry esté disponible.

Para activar el almacenamiento en caché sin conexión, establece `cacheDirPath` y añade `SendCachedEnvelopeFireAndForgetIntegration` a las opciones de Sentry:

```java
import io.sentry.SendCachedEnvelopeFireAndForgetIntegration;
import io.sentry.SendFireAndForgetEnvelopeSender;
import io.sentry.Sentry;

Sentry.init(options -> {
  ...
  options.setCacheDirPath("/ruta/del/disco");
  options.addIntegration(
    new SendCachedEnvelopeFireAndForgetIntegration(
      new SendFireAndForgetEnvelopeSender(options::getCacheDirPath)
    )
  );
})
```

```kotlin
import io.sentry.SendCachedEnvelopeFireAndForgetIntegration
import io.sentry.SendFireAndForgetEnvelopeSender
import io.sentry.Sentry

Sentry.init {
  it.cacheDirPath = "/disk/path"
  it.addIntegration(SendCachedEnvelopeFireAndForgetIntegration(SendFireAndForgetEnvelopeSender { it.cacheDirPath }))
}
```

<div id="client-reports">
  ## Informes del cliente
</div>

Para desactivar el envío de informes del cliente, utiliza la opción [`sendClientReports`](/es/platforms/java/configuration/options/#sendClientReports):

```properties {tabTitle:sentry.properties}
send-client-reports=false
```

```properties {tabTitle:environment variable}
SENTRY_SEND_CLIENT_REPORTS=false
```

```properties {tabTitle:system property}
sentry.send-client-reports=false
```

```java
import io.sentry.Sentry;

Sentry.init(options -> {
  ...
  options.setSendClientReports(false);
})
```

```kotlin
import io.sentry.Sentry

Sentry.init {
  it.isSendClientReports = false
}
```
