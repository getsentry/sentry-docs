---
title: Migrar de la versión 4.1 a la 4.2
sidebar_order: 999
description: "Aprende a migrar de la versión 4.1.0 a la 4.2.0"
---

<div id="migrating-from-iosentrysentry-410-to-iosentrysentry-420">
  ## Migración de `io.sentry:sentry` `4.1.0` a `io.sentry:sentry` `4.2.0`
</div>

`operation` ahora es una propiedad obligatoria de `SentryTransaction` y `SentrySpan`. Cada vez que se inicia una transacción o un span, se debe indicar el valor de `operation`:

```java
Sentry.startTransaction("nombre-de-transacción", "nombre-de-operación");
```


<div id="spring">
  ### Primavera
</div>

<div id="resttemplate-instrumentation">
  #### Instrumentación de RestTemplate
</div>

La instrumentación simplificada de `RestTemplate` ya no requiere configurar `UriTemplateHandler` mediante `SentrySpanClientHttpRequestInterceptor`.

El fragmento de código para agregar la instrumentación de `RestTemplate` de Sentry cambió de:

```java
@Bean
RestTemplate restTemplate(IHub hub) {
  RestTemplate restTemplate = new RestTemplate();
  SentrySpanClientHttpRequestInterceptor sentryRestTemplateInterceptor = new SentrySpanClientHttpRequestInterceptor(hub);
  UriTemplateHandler templateHandler = restTemplate.getUriTemplateHandler();
  restTemplate.setUriTemplateHandler(sentryRestTemplateInterceptor.createUriTemplateHandler(templateHandler));
  restTemplate.setInterceptors(Collections.singletonList(sentryRestTemplateInterceptor));
  return restTemplate;
}
```

en:

```java
@Bean
RestTemplate restTemplate(IHub hub) {
  RestTemplate restTemplate = new RestTemplate();
  SentrySpanClientHttpRequestInterceptor sentryRestTemplateInterceptor = new SentrySpanClientHttpRequestInterceptor(hub);
  restTemplate.setInterceptors(Collections.singletonList(sentryRestTemplateInterceptor));
  return restTemplate;
}
```


<div id="sentryexceptionresolver-does-not-send-handled-errors-by-default">
  #### SentryExceptionResolver no envía errores controlados de forma predeterminada
</div>

Para evitar que `SentryExceptionResolver` envíe errores que ya han sido capturados por `@ExceptionHandlers`, hemos cambiado el orden de `SentryExceptionResolver` a `1`.

Puedes restaurar el comportamiento anterior configurando la propiedad `exceptionResolverOrder` en `@EnableSentry`:

```java
@EnableSentry(exceptionResolverOrder = -2147483648)
class CustomConfiguration {
  ...
}
```


<div id="spring-boot">
  ### Spring Boot
</div>

#### SentryExceptionResolver no envía errores gestionados de forma predeterminada

Para evitar que `SentryExceptionResolver` envíe errores que ya hayan sido capturados por `@ExceptionHandlers`, hemos cambiado el orden de `SentryExceptionResolver` a `1`.

Puedes restaurar el comportamiento anterior configurando la propiedad `sentry.exception-resolver-order=-2147483648`

<div id="sentrytransaction-operation-is-now-required">
  #### `@SentryTransaction` ahora requiere `operation`
</div>

`@SentryTransaction` debe incluir la propiedad `operation`.

```java
class MyComponent {

  @SentryTransaction(name = "transaction-name", operation = "operation-name")
  @Scheduled(fixedRate = 3 * 1000L)
  void execute() {
      ...
    }
}
```
