---
title: Nombres de componentes de React
excerpt: ""
description: "Descubre cómo el SDK de React Native de Sentry te permite monitorear tus componentes."
sidebar_order: 57
---

Puedes configurar el SDK de React Native de Sentry para usar nombres de componentes de React en lugar de nombres de elementos. Así, en vez de ver nombres genéricos como estos:

```
View > Touchable > View > Text
```

Puedes ver exactamente qué componente de React se usó, como en el siguiente ejemplo:

```html
MyCard (View, MyCard.ts) > MyButton (Touchable, MyCard.ts) > View > Text
```

Una vez que habilites la captura, podrás ver el nombre específico del componente con el que se interactuó en los breadcrumbs y en los spans. Esto elimina la ambigüedad de tener que adivinar a partir de un nombre genérico, algo que se vuelve más difícil cuanto más grande es tu aplicación.

Estamos trabajando para lanzar más funciones que aprovechen la captura de nombres de componentes y te recomendamos encarecidamente configurar tu proyecto para usarla.

<div id="prerequisites">
  ## Requisitos previos
</div>

* [Instala](/es/platforms/react-native/) el SDK de React Native `5.25.0-alpha.3` o una versión más reciente.
* Asegúrate de que los componentes de React que deseas capturar estén en archivos `.jsx` o `.tsx`.

<div id="enable-component-name-capturing">
  ## Habilitar la captura de nombres de componentes
</div>

Añade el complemento `@sentry/react-native/metro` a tu configuración de Metro y habilita la opción `annotateReactComponents`:

```javascript {tabTitle:React Native} {filename:metro.config.js}
const { getDefaultConfig } = require("@react-native/metro-config");
const { withSentryConfig } = require('@sentry/react-native/metro');

const config = getDefaultConfig(__dirname);
module.exports = withSentryConfig(config, { annotateReactComponents: true });
```

```javascript {tabTitle:Expo} {filename:metro.config.js}
// const { getDefaultConfig } = require("expo/metro-config");
const { getSentryExpoConfig } = require("@sentry/react-native/metro");

// const config = getDefaultConfig(__dirname);
const config = getSentryExpoConfig(__dirname, { annotateReactComponents: true });
```

<div id="how-it-works">
  ## Cómo funciona
</div>

El plugin Sentry React Native Metro aplica [`@sentry/babel-plugin-component-annotate`](https://www.npmjs.com/package/@sentry/babel-plugin-component-annotate), que analiza el código fuente JSX de tu aplicación durante la compilación y añade atributos `data` adicionales. Estos atributos aparecen luego en los nodos del build de tu aplicación, indicando el nombre del componente de React y el archivo del que proviene cada nodo.

Aquí tienes un ejemplo de un componente llamado `MyAwesomeComponent` en el archivo `myAwesomeComponent.jsx`:

```javascript
function MyAwesomeComponent() {
  return <Text>¡Este es un componente realmente genial y fantástico!</Text>
}
```

Así se vería el nodo resultante si tu empaquetador hubiera aplicado el plugin y construido tu proyecto:

```html
<Text
  data-sentry-component="MyAwesomeComponent"
  data-sentry-source-file="myAwesomeComponent.jsx"
>
  ¡Este es un componente realmente genial e increíble!
</Text>
```

El SDK de Sentry para navegadores tomará el valor de estos atributos `data` y los recopilará cuando se interactúe con tus componentes.

<div id="options">
  ## Opciones
</div>

De forma predeterminada, solo se anotan los componentes ubicados en tu proyecto (fuera de `node_modules`). Para evitar anotar otros componentes, usa la opción `ignoredComponents`. A los componentes ignorados no se les añadirán anotaciones `data-sentry-*`.

```javascript {tabTitle:React Native} {filename:metro.config.js}
const { getDefaultConfig } = require("@react-native/metro-config");
const { withSentryConfig } = require('@sentry/react-native/metro');

const config = getDefaultConfig(__dirname);
module.exports = withSentryConfig(config, {
  annotateReactComponents: {
    ignoredComponents: ['MyCustomComponent']
  }
});
```

```javascript {tabTitle:Expo} {filename:metro.config.js}
// const { getDefaultConfig } = require("expo/metro-config");
const { getSentryExpoConfig } = require("@sentry/react-native/metro");

// const config = getDefaultConfig(__dirname);
const config = getSentryExpoConfig(__dirname, {
  annotateReactComponents: {
    ignoredComponents: ['MyCustomComponent']
  }
});
```

<div id="troubleshooting">
  ## Resolución de problemas
</div>

<div id="missing-component-names">
  ### Nombres de componentes faltantes
</div>

Si faltan nombres de componentes en los eventos informados, podría deberse a que las anotaciones no se añadieron al bundle de JS. Para solucionarlo:

1. Verifica si el bundle de JS generado por Metro tiene anotaciones buscando la clave `data-sentry-component` en el archivo.
2. Si faltan anotaciones y usas React Native sin frameworks, asegúrate de que `config.transformer.babelTransformerPath` esté configurado antes de pasarlo a `withSentryConfig(config)`. Si usas Expo con `const config = getSentryExpoConfig(__dirname)`, asegúrate de no sobrescribir el `config.transformer.babelTransformerPath` establecido por `getSentryExpoConfig`.
3. Usa `export SENTRY_LOG_LEVEL=debug` para habilitar los registros de depuración y verificar que Sentry detectó el transformador predeterminado y que el Sentry Babel Transformer se ejecutó.

<div id="next-steps">
  ## Próximos pasos:
</div>

* Obtén más información sobre el [plugin de Metro](/es/platforms/react-native/manual-setup/metro/) de React Native de Sentry.