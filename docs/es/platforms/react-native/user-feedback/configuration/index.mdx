---
title: Configuración
sidebar_order: 6100
description: Conoce las opciones de configuración del User Feedback Widget.
og_image: /og-images/platforms-react-native-user-feedback-configuration.png
---

El User Feedback Widget ofrece muchas opciones de personalización y, si las disponibles no son suficientes, puedes [usar tu propia UI](/es/platforms/react-native/user-feedback/#user-feedback-api).

![Imagen que muestra las principales opciones de personalización del User Feedback Widget](./img/mobile-user-feedback-widget-customization.png)
Para recopilar comentarios de los usuarios dentro de tu aplicación, usa `showFeedbackButton`/`hideFeedbackButton` para mostrar u ocultar un botón que activa el User Feedback Widget, o el método `showFeedbackWidget` para presentar el widget directamente.

```JavaScript {tabTitle:Widget}
import * as Sentry from "@sentry/react-native";

Sentry.wrap(RootComponent);

Sentry.showFeedbackWidget();
```

```JavaScript {tabTitle:Button}
import * as Sentry from "@sentry/react-native";

Sentry.wrap(RootComponent);

Sentry.showFeedbackButton();
Sentry.hideFeedbackButton();
```

Ten en cuenta que [el componente raíz de la aplicación debe estar envuelto con `Sentry.wrap`](/es/platforms/react-native/#wrap-your-app) para que esto funcione.

<div id="general">
  ## General
</div>

Las siguientes opciones se pueden configurar para la integración en `feedbackIntegration({})` o pasarse en las props del componente `FeedbackWidget`:

| Key                    | Type                     | Default                               | Description                                                                                                                |
| ---------------------- | ------------------------ | ------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| `showBranding`         | `boolean`                | `true`                                | Muestra el logotipo de Sentry.                                                                                             |
| `showName`             | `boolean`                | `true`                                | Muestra el campo de nombre en el widget de comentarios.                                                                    |
| `showEmail`            | `boolean`                | `true`                                | Muestra el campo de correo electrónico en el widget de comentarios.                                                        |
| `enableScreenshot`     | `boolean`                | `false`                               | Permite que el usuario envíe una captura de pantalla como adjunto junto con sus comentarios.                              |
| `enableTakeScreenshot` | `boolean`                | `false`                               | Determina si se muestra el Button &quot;Take Screenshot&quot;.                                                                       |
| `isNameRequired`       | `boolean`                | `false`                               | Requiere completar el campo de nombre en el widget de comentarios.                                                         |
| `isEmailRequired`      | `boolean`                | `false`                               | Requiere completar el campo de correo electrónico en el widget de comentarios.                                             |
| `shouldValidateEmail`  | `boolean`                | `true`                                | Si está activado, el correo electrónico se valida con la siguiente expresión regular `"/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/"` |
| `useSentryUser`        | `Record<string, string>` | `{ email: 'email', name: 'username'}` | Establece los valores predeterminados para los campos `email` y `name`.                                                    |

<div id="text-customization">
  ## Personalización del texto
</div>

Todo el texto que ves en el widget de Feedback se puede personalizar.

Las siguientes opciones se pueden configurar para la integración en `feedbackIntegration({})` o pasarse en las props del componente `FeedbackWidget`:

| Key                            | Default                                                 | Description                                                         |
| ------------------------------ | ------------------------------------------------------- | ------------------------------------------------------------------- |
| `formTitle`                    | `"Report a Bug"`                                        | El título en la parte superior del widget de feedback.              |
| `submitButtonLabel`            | `"Send Bug Report"`                                     | La etiqueta del botón de envío usado en el widget de feedback.      |
| `cancelButtonLabel`            | `"Cancel"`                                              | La etiqueta de los botones de cancelar usados en el widget de feedback. |
| `addScreenshotButtonLabel`     | `"Add a screenshot"`                                    | La etiqueta del botón para añadir una captura de pantalla al widget. |
| `removeScreenshotButtonLabel`  | `"Remove screenshot"`                                   | La etiqueta del botón para eliminar la captura de pantalla.         |
| `captureScreenshotButtonLabel` | `"Take a screenshot"`                                   | La etiqueta del botón que inicia el flujo de captura de pantalla.   |
| `nameLabel`                    | `"Name"`                                                | La etiqueta del campo de entrada de nombre.                         |
| `namePlaceholder`              | `"Your Name"`                                           | El placeholder del campo de entrada de nombre.                      |
| `emailLabel`                   | `"Email"`                                               | La etiqueta del campo de entrada de correo electrónico.             |
| `emailPlaceholder`             | `"your.email@example.org"`                              | El placeholder del campo de entrada de correo electrónico.          |
| `isRequiredLabel`              | `"(required)"`                                          | La etiqueta que se muestra junto a un campo de entrada obligatorio. |
| `messageLabel`                 | `"Description"`                                         | La etiqueta del campo de entrada para la descripción del feedback.  |
| `messagePlaceholder`           | `"What's the bug? What did you expect?"`                | El placeholder del campo de entrada para la descripción del feedback. |
| `successMessageText`           | `"Thank you for your report!"`                          | El mensaje que se muestra después de enviar el feedback con éxito.  |
| `errorTitle`                   | `"Error"`                                               | El título del cuadro de diálogo de error.                           |
| `formError`                    | `"Please fill out all required fields."`                | Mensaje de error de validación del formulario.                      |
| `emailError`                   | `"Please enter a valid email address."`                 | Mensaje de error de validación del correo electrónico.              |
| `genericError`                 | `"Unable to send feedback due to an unexpected error."` | Mensaje de error genérico.                                          |

Ejemplo de personalización:

```javascript
feedbackIntegration({
  nameLabel: "Nombre completo",
  submitButtonLabel: "Enviar",
  formTitle: "Enviar comentarios",
});
```

<div id="style-customization">
  ## Personalización del estilo
</div>

Puedes personalizar la posición de los componentes de comentarios en el widget, así como las tipografías y los colores.

El siguiente ejemplo muestra cómo personalizar el color de fondo del Button de envío y el radio de borde con `feedbackIntegration`.

```javascript
import * as Sentry from "@sentry/react-native";

Sentry.feedbackIntegration({
    styles:{
        submitButton: {
            backgroundColor: '#6a1b9a',
            borderRadius: 5,
        },
    },
});

Sentry.showFeedbackWidget();
```

Se puede lograr lo mismo pasando la prop `styles` al componente `FeedbackWidget`:

```javascript
import { FeedbackWidget } from "@sentry/react-native";

<FeedbackWidget
  styles={{
    submitButton: {
      backgroundColor: '#6a1b9a',
      borderRadius: 5,
    },
  }}
/>
```

Los siguientes estilos están disponibles para personalizar.

| Estilo                | Tipo         | Descripción                                     |
| --------------------- | ------------ | ----------------------------------------------- |
| `container`           | `ViewStyle`  | Estilo del contenedor del widget.               |
| `title`               | `TextStyle`  | Estilo del texto del título.                    |
| `label`               | `TextStyle`  | Estilo del texto de la etiqueta (nombre, correo). |
| `input`               | `TextStyle`  | Estilo del texto del campo de entrada (nombre, correo). |
| `textArea`            | `TextStyle`  | Estilo del texto del mensaje.                   |
| `submitButton`        | `ViewStyle`  | Estilo del botón de envío.                      |
| `submitText`          | `TextStyle`  | Estilo del texto del botón de envío.            |
| `cancelButton`        | `ViewStyle`  | Estilo del botón de cancelar.                   |
| `cancelText`          | `TextStyle`  | Estilo del texto del botón de cancelar.         |
| `screenshotButton`    | `ViewStyle`  | Estilo del botón de captura de pantalla.        |
| `screenshotText`      | `TextStyle`  | Estilo del texto del botón de captura de pantalla. |
| `screenshotContainer` | `TextStyle`  | Estilo del contenedor de la miniatura de la captura. |
| `screenshotThumbnail` | `ImageStyle` | Estilo de la imagen en miniatura de la captura. |
| `titleContainer`      | `ViewStyle`  | Estilo del contenedor del título.               |

<div id="feedback-button-customization">
  ## Personalización del botón de comentarios
</div>

Puedes personalizar la ubicación del botón de comentarios, así como las tipografías y los colores.

El siguiente ejemplo muestra cómo personalizar el margen inferior con `feedbackIntegration`.

```javascript
import * as Sentry from "@sentry/react-native";

Sentry.init({
  integrations: [
    Sentry.feedbackIntegration({
      buttonOptions: {
        styles: {
          triggerButton: {
            marginBottom: 75,
          },
        },
      },
    }),
  ],
});

Sentry.showFeedbackButton();
```

Puedes personalizar el texto del Button con las siguientes opciones.

| Clave              | Predeterminado   | Descripción                                                             |
| ------------------ | ---------------- | ----------------------------------------------------------------------- |
| `triggerLabel`     | `"Report a Bug"` | La etiqueta del Button del widget de comentarios que abre el cuadro de diálogo. |
| `triggerAriaLabel` | -                | La etiqueta aria del Button del widget de comentarios que abre el cuadro de diálogo. |

Los siguientes estilos están disponibles para personalizar.

| Estilo           | Tipo         | Descripción                                |
| --------------- | ------------ | ------------------------------------------ |
| `triggerButton` | `ViewStyle`  | El estilo del Button del widget de comentarios. |
| `triggerText`   | `TextStyle`  | El estilo del texto del widget de comentarios.  |
| `triggerIcon`   | `ImageStyle` | El estilo del ícono del widget de comentarios.  |

<div id="event-callbacks">
  ## Callbacks de eventos
</div>

Se pueden configurar los siguientes callbacks para la integración en `feedbackIntegration({})` o pasarlos en las props del componente `FeedbackWidget`:

| Callback          | Parameters                                                 | Default behavior        | Description                                                                                                   |
| ----------------- | ---------------------------------------------------------- | ----------------------- | ------------------------------------------------------------------------------------------------------------- |
| `onFormOpen`      |                                                            |                         | Callback cuando se abre el widget.                                                                            |
| `onFormClose`     |                                                            | The widget is unmounted.| Callback cuando se cierra el widget y no se envía.                                                            |
| `onSubmitSuccess` | `data: FeedbackFormData`                                   |                         | Callback cuando el feedback se envía correctamente.                                                           |
| `onSubmitError`   | `error: Error`                                             |                         | Callback cuando el feedback no se envía correctamente.                                                        |
| `onFormSubmitted` |                                                            | The widget is unmounted.| Callback cuando el widget de feedback se envía correctamente y el SuccessMessage se completa o se descarta.   |
| `onAddScreenshot` | `addScreenshot: (uri: string) => void`                     |                         | Callback cuando se añade una captura de pantalla.                                                             |

<div id="screenshots">
  ## Capturas de pantalla
</div>

La función de captura de pantalla está desactivada de manera predeterminada. Para activarla, pasa una biblioteca de integración `imagePicker` o establece la opción `enableScreenshot` en `true` e implementa el callback `onAddScreenshot`.

<div id="integrating-with-an-image-picker-library">
  ### Integración con una biblioteca para seleccionar imágenes
</div>

Actualmente, las bibliotecas compatibles son:

* [expo-image-picker](https://docs.expo.dev/versions/latest/sdk/imagepicker/) (probada con la versión `16.0`)
* [react-native-image-picker](https://github.com/react-native-image-picker/react-native-image-picker) (probada con las versiones `7.2` y `8.0`)

Solo necesitas importar la biblioteca y pasarla al método `feedbackIntegration`.

```javascript
import * as ImagePicker from 'expo-image-picker';
```

O `react-native-image-picker`:

```javascript
import * as ImagePicker from 'react-native-image-picker';
```

Luego pásalo a `feedbackIntegration`:

```javascript
Sentry.init({
  integrations: [
    Sentry.feedbackIntegration({
      imagePicker: ImagePicker,
    }),
  ],
});
```

La integración `imagePicker` se utiliza al abrir el widget de comentarios con `showFeedbackWidget` o con `FeedbackButton`. Para usarla con un componente `FeedbackWidget` personalizado, debes pasar la prop `imagePicker` al componente, como se muestra a continuación:

```javascript
<FeedbackWidget
  imagePicker={ImagePicker}
/>
```

<div id="implementing-the-onaddscreenshot-callback">
  ### Implementación del callback `onAddScreenshot`
</div>

Si las bibliotecas anteriores no cubren tu caso de uso, puedes integrar capturas de pantalla manualmente implementando el callback `onAddScreenshot`. Este callback recibe el `uri` de la imagen, como en el siguiente ejemplo.

```javascript
import * as Sentry from '@sentry/react-native';
import { getImage } from 'custom-image-picker';

const handleChooseImage = (addScreenshot: (uri: string) => void): void => {
  const { uri, error, canceled } = getImage();
  if (canceled) {
  	console.log('El usuario canceló la selección de imagen.');
  } else if (error) {
    console.log('Error al cargar la imagen', error);
  } else {
    addScreenshot(uri);
  }
};

Sentry.feedbackIntegration({
    onAddScreenshot={handleChooseImage}
});
```

<div id="screenshot-button">
  ### Botón de captura de pantalla
</div>

Puedes mostrar un botón que permite al usuario hacer una captura de pantalla en el Feedback Widget. El botón se muestra cuando `enableTakeScreenshot` está configurado en `true` en el método `feedbackIntegration`, como en el ejemplo a continuación.

```javascript
import * as Sentry from "@sentry/react-native";

Sentry.init({
  integrations: [
    Sentry.feedbackIntegration({
      buttonOptions: {
        styles: {
          triggerButton: {
            marginBottom: 75,
          },
        },
      },
    }),
  ],
});

Sentry.showFeedbackButton();
```

Puedes personalizar el texto del botón de captura de pantalla del widget de comentarios con las siguientes opciones.

| Clave             | Predeterminado      | Descripción                                 |
| ----------------- | ------------------- | ------------------------------------------- |
| `triggerLabel`     | `"Take Screenshot"` | La etiqueta del botón de captura de pantalla. |
| `triggerAriaLabel` | -                   | La etiqueta aria del botón de captura de pantalla. |

También se puede personalizar el botón de captura de pantalla. Están disponibles los siguientes estilos.

| Estilo          | Tipo         | Descripción                                 |
| --------------- | ------------ | ------------------------------------------- |
| `triggerButton` | `ViewStyle`  | Estilo del botón de captura de pantalla.    |
| `triggerText`   | `TextStyle`  | Estilo del texto del botón de captura.      |
| `triggerIcon`   | `ImageStyle` | Estilo del icono del botón de captura.      |

<Alert>
  Ten en cuenta que el botón de captura de pantalla actualmente no es compatible en la web.
</Alert>

<div id="theming">
  ## Temas
</div>

También puedes personalizar los colores del widget de comentarios para que coincidan con el tema de tu aplicación. El siguiente ejemplo muestra cómo personalizar el color de fondo y de texto del widget para los temas del sistema en modo claro y oscuro con `feedbackIntegration`.

```javascript
import * as Sentry from "@sentry/react-native";

Sentry.init({
  integrations: [
    Sentry.feedbackIntegration({
      colorScheme: 'system',
      themeLight: {
        foreground: '#ff0000',
        background: '#00ff00',
      },
      themeDark: {
        foreground: '#00ff00',
        background: '#ff0000',
      },
    }),
  ],
});
```

Las opciones de tema disponibles son:

| Key           | Type                        | Default    | Description                                                         |
| ------------- | ----------------------------| ---------- | ------------------------------------------------------------------- |
| `colorScheme` | `"system", "light", "dark"` | `"system"` | El tema de color. &quot;system&quot; usará el esquema de color de tu sistema operativo. |
| `themeLight`  | Feedback Widget Theme       | -          | El esquema de color claro.                                          |
| `themeDark`   | Feedback Widget Theme       | -          | El esquema de color oscuro.                                         |

Para cada tema puedes establecer los siguientes colores:

| Key                | Description                                          |
| ------------------ | ---------------------------------------------------- |
| `background`       | Color de fondo para superficies.                     |
| `foreground`       | Color de primer plano (p. ej., color del texto).    |
| `accentForeground` | Color de primer plano para elementos destacados.     |
| `accentBackground` | Color de fondo para elementos destacados.            |
| `border`           | Color del borde.                                     |
| `feedbackIcon`     | Color del ícono de comentarios.                      |
