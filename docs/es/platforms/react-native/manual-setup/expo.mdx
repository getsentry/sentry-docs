---
title: Expo
description: "Aprende a configurar un proyecto administrado por Expo con el SDK de Sentry para React Native."
---

Para configurar el SDK de Sentry para React Native en tu proyecto de Expo, sigue los pasos de esta página.

<div id="prerequisities">
  ## Requisitos previos
</div>

* [Expo SDK 50](https://docs.expo.dev/workflow/upgrading-expo-sdk-walkthrough/) o posterior.
  * [Expo SDK 49](https://docs.expo.dev/guides/using-sentry/) y anteriores son compatibles con el paquete `sentry-expo`.
* [Migra de `sentry-expo` a `@sentry/react-native`](/es/platforms/react-native/migration/sentry-expo/).
* [Regístrate para obtener una cuenta](https://sentry.io/signup/).

<div id="automatic-install">
  ## Instalación automática
</div>

Usa [Sentry Wizard](https://github.com/getsentry/sentry-wizard) para aplicar parches a tu proyecto automáticamente, como se muestra a continuación. También puedes seguir la [instalación manual](./#manual-install) si lo prefieres. Solo necesitas aplicar el parche al proyecto una vez. Luego puedes añadir los archivos modificados a tu sistema de control de versiones.

```bash {tabTitle:npm}
npx @sentry/wizard@latest -i reactNative
```

<Expandable title="El Sentry Wizard realizará las siguientes tareas">
  * Instalar el paquete `@sentry/react-native`.
  * Agregar `@sentry/react-native/metro` a la configuración de Metro en **metro.config.js**.
  * Agregar `@sentry/react-native/expo` a la configuración de Expo en **app.json**.
  * Habilitar el paso de compilación Gradle de Sentry React Native para Android para subir automáticamente los source maps y los símbolos de depuración generados.
  * Envolver el script de la fase de compilación del proyecto de Xcode *Bundle React Native code and images* para subir los source maps generados y recopilar los módulos de Node empaquetados.
  * Agregar la fase de compilación del proyecto de Xcode *Upload Debug Symbols to Sentry*.
  * Ejecutar `pod install`.
  * Guardar las credenciales de compilación en **ios/sentry.properties**, **android/sentry.properties** y **env.local**.
  * Configurar Sentry con el DSN proporcionado en tu archivo **layout.tsx**.
</Expandable>

<div id="manual-install">
  ## Instalación manual
</div>

Si no utilizas el asistente, instala el paquete `@sentry/react-native`:

```bash {tabTitle:Expo}
npx expo install @sentry/react-native
```

```bash {tabTitle:npm}
npm install @sentry/react-native --save
```

```bash {tabTitle:yarn}
yarn add @sentry/react-native
```

```bash {tabTitle:pnpm}
pnpm add @sentry/react-native
```

<div id="initialize-the-sdk">
  ### Inicializa el SDK
</div>

<OnboardingOptionButtons
  options={[
'error-monitoring',
'performance',
'profiling',
'session-replay',
"logs",
]}
/>

Importa el paquete `@sentry/react-native` y llama a `init` con tu DSN:

```javascript {tabTitle:App.js or app/_layout.js}
import { Stack } from "expo-router";
import * as Sentry from "@sentry/react-native";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  // Agrega más datos de contexto a los eventos (dirección IP, cookies, usuario, etc.)
  // Para más información, visita: https://docs.sentry.io/platforms/react-native/data-management/data-collected/
  sendDefaultPii: true,
  // ___PRODUCT_OPTION_START___ performance
  // Establece tracesSampleRate en 1.0 para capturar el 100% de las transacciones para el rastreo.
  // Recomendamos ajustar este valor en producción.
  // Obtén más información en
  // https://docs.sentry.io/platforms/react-native/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
  // ___PRODUCT_OPTION_START___ logs
  // Habilita el envío de logs a Sentry
  // Obtén más información en https://docs.sentry.io/platforms/react-native/logs/
  enableLogs: true,
  // ___PRODUCT_OPTION_END___ logs
  // ___PRODUCT_OPTION_START___ profiling
  // profilesSampleRate es relativo a tracesSampleRate.
  // Aquí capturaremos perfiles para el 100% de las transacciones.
  profilesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ profiling
  // ___PRODUCT_OPTION_START___ session-replay
  // Graba repeticiones de sesión para el 100% de los errores y el 10% de las sesiones
  replaysOnErrorSampleRate: 1.0,
  replaysSessionSampleRate: 0.1,
   integrations: [Sentry.mobileReplayIntegration()],
  // ___PRODUCT_OPTION_END___ session-replay
});

function RootLayout() {
  return <Stack />;
}

export default Sentry.wrap(RootLayout);
```

<div id="wrap-your-app">
  ### Envuelve tu app
</div>

Envuelve el componente raíz de tu aplicación con `Sentry.wrap`:

```javascript {tabTitle:App.js or app/_layout.js}
export default Sentry.wrap(RootLayout);
```

<div id="add-the-sentry-expo-plugin">
  ### Añade el plugin de Sentry para Expo
</div>

Para que los bundles y los source maps se carguen automáticamente durante las compilaciones de las apps nativas, añade `withSentry` a la configuración de la app de Expo:

<Include name="react-native-expo-plugin-code-snippet.mdx" />

<div id="add-sentry-metro-plugin">
  ### Agrega el plugin de Sentry para Metro
</div>

Para asegurarte de que se asignen Debug IDs únicos a los bundles y a los source maps generados, agrega Sentry Serializer a la configuración de Metro:

<Include name="react-native-expo-metro-plugin-code-snippet.mdx" />

<div id="add-privacy-manifest">
  ### Agrega el manifiesto de privacidad
</div>

El SDK necesita acceder a cierta información del dispositivo y de la aplicación para funcionar correctamente. Algunas de las API necesarias para ello se consideran relevantes desde el punto de vista de la privacidad. Agrega el manifiesto de privacidad a tu proyecto en Xcode para asegurarte de que tu app cumple con las directrices de Apple. Lee la guía [Apple Privacy Manifest](/es/platforms/react-native/data-management/apple-privacy-manifest/) para obtener más información sobre cómo añadir los registros necesarios para los SDK de Sentry.

<div id="verify-setup">
  ## Verificar la configuración
</div>

Para confirmar que todo funciona como se espera, compila la versión `Release` de tu aplicación y envía un evento de prueba a Sentry añadiendo:

```javascript
<Button
  title="¡Prueba!"
  onPress={() => {
    Sentry.captureException(new Error("First error"));
  }}
/>
```

<div id="next-steps">
  ## Próximos pasos
</div>

* [Aprende a cargar mapas de origen para compilaciones nativas y Expo Updates](/es/platforms/react-native/sourcemaps/uploading/expo/)
* [Añade trazado automático con Expo Router](/es/platforms/react-native/tracing/instrumentation/expo-router/)
* [Configura el complemento Gradle de Sentry para Android](/es/platforms/react-native/manual-setup/expo/gradle/)

<div id="notes">
  ## Notas
</div>

* No confirmes tu token de autenticación. En su lugar, usa una variable de entorno como `SENTRY_AUTH_TOKEN`.
* Los mapas de origen para la versión `Release` de tu aplicación se suben automáticamente durante la compilación de la aplicación nativa.
* Durante el desarrollo, el código fuente se resuelve mediante Metro Server y no se usan mapas de origen. Actualmente, esto no funciona en la web.