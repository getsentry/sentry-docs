---
title: Configurar Session Replay
sidebar_title: Session Replay
sidebar_order: 5500
notSupported:
description: "Aprende a habilitar Session Replay en tu app móvil."
---

[Session Replay](/es/product/explore/session-replay/) te ayuda a llegar más rápido a la causa raíz de un error o problema de latencia al ofrecerte una reproducción de lo que ocurría en el dispositivo del usuario antes, durante y después del incidente. Puedes retroceder y reproducir el estado de tu aplicación y ver interacciones clave del usuario, como toques, deslizamientos, solicitudes de red y registros de la consola, en una sola interfaz.

De forma predeterminada, nuestro SDK de Session Replay enmascara todo el contenido de texto, las imágenes y la entrada del usuario, lo que te da mayor tranquilidad de que no saldrá del dispositivo ningún dato sensible. Para obtener más información, consulta la [documentación del producto](/es/product/explore/session-replay/).

<div id="pre-requisites">
  ## Requisitos previos
</div>

Asegúrate de que tu versión del SDK de Sentry para React Native sea, como mínimo, la 6.5.0.

<div id="install">
  ## Instalación
</div>

Si ya tienes el SDK instalado, puedes actualizarlo a la versión más reciente con:

```bash {tabTitle:npm}
npm install @sentry/react-native --save
```

```bash {tabTitle:yarn}
yarn add @sentry/react-native
```

```bash {tabTitle:pnpm}
pnpm add @sentry/react-native
```

<div id="set-up">
  ## Configuración
</div>

Para configurar la integración, agrega lo siguiente a la inicialización de Sentry.

```javascript {tabTitle:Mobile}
import * as Sentry from "@sentry/react-native";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  integrations: [Sentry.mobileReplayIntegration()],
});
```

```javascript {tabTitle:Browser}
import * as Sentry from '@sentry/react-native';
import { Platform } from 'react-native';

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  integrations: (integrations) => {
    if (Platform.OS === 'web') {
      integrations.push(Sentry.browserReplayIntegration());
    }
    integrations.push(Sentry.mobileReplayIntegration());
    return integrations;
  },
});
```

<div id="verify">
  ## Verificar
</div>

Mientras haces pruebas, te recomendamos configurar <PlatformIdentifier name="replays-session-sample-rate" /> en `1.0`. Esto garantiza que todas las sesiones de usuario se envíen a Sentry.

Una vez que termines las pruebas, **te recomendamos reducir este valor en producción**. Aun así, recomendamos mantener <PlatformIdentifier name="replays-on-error-sample-rate" /> en `1.0`.

<div id="user-session">
  ## Sesión de usuario
</div>

Una sesión de usuario empieza cuando se inicializa el SDK de Sentry o cuando la aplicación pasa a primer plano. La sesión registrará transiciones de pantalla, navegaciones, toques y otros eventos hasta que la aplicación se envíe a segundo plano. Si la aplicación vuelve a primer plano dentro de 30 segundos (de forma predeterminada), se usará el mismo `replay_id` y la sesión continuará.

La sesión finalizará si la aplicación ha permanecido en segundo plano más de 30 segundos o cuando se alcance la duración máxima de 60 minutos. Puedes ajustar el [intervalo de seguimiento de sesiones](/es/platforms/react-native/configuration/releases/#sessions) para ampliar o acortar la duración de una sola repetición, según tus necesidades.

<div id="replay-captures-on-errors-only">
  ### Capturar reproducciones solo cuando haya errores
</div>

Si prefieres no grabar toda la sesión, puedes optar por capturar una reproducción únicamente si ocurre un error. En ese caso, la integración almacenará hasta un minuto de eventos anteriores a que se produzca el error. Seguirá grabando la sesión, respetando las reglas anteriores sobre la duración y la actividad de la sesión. Consulta la sección de [muestreo](#sampling) para ver las opciones de configuración.

<div id="sampling">
  ## Muestreo
</div>

El muestreo te permite controlar qué porcentaje del tráfico de tu sitio web generará una reproducción de sesión. Hay dos tasas de muestreo que puedes ajustar para obtener las reproducciones relevantes para ti:

1. <PlatformIdentifier name="replays-session-sample-rate" /> - La tasa de muestreo para
   reproducciones que comienzan a grabarse de inmediato y duran toda la sesión del usuario.
2. <PlatformIdentifier name="replays-on-error-sample-rate" /> - La tasa de muestreo para
   reproducciones que se registran cuando ocurre un error. Este tipo de reproducción registrará
   hasta un minuto de eventos previos al error y seguirá grabando hasta que la sesión
   termine.

El muestreo comienza en cuanto inicia una sesión. Primero se evalúa <PlatformIdentifier name="replays-session-sample-rate" />. Si se selecciona en el muestreo, empezará la grabación de la reproducción. De lo contrario, se evalúa <PlatformIdentifier name="replays-on-error-sample-rate" /> y, si se selecciona, la integración comenzará a almacenar en búfer la reproducción y solo la subirá a Sentry si ocurre un error. El resto de la reproducción se comportará de manera similar a una reproducción de sesión completa.

<div id="privacy">
  ## Privacidad
</div>

<Alert level="warning">
  <strong>Posibles problemas de enmascaramiento al usar el renderizado Liquid Glass de Apple en iOS 26.0</strong>

  Si usas Liquid Glass de Apple, te recomendamos desactivar Session Replay en iOS para evitar posibles filtraciones de PII. [Consulta nuestra documentación de iOS para más detalles sobre el problema](/es/platforms/apple/guides/ios/session-replay/) y sigue el progreso de la solución del enmascaramiento para iOS 26.0 (Liquid Glass) en <a href="https://github.com/getsentry/sentry-cocoa/issues/6390">GitHub issue #6390</a>
</Alert>

El SDK registra y enmascara de forma agresiva todo el texto, las imágenes y las webviews de manera predeterminada. Si tu app contiene datos sensibles, solo deberías desactivar el enmascaramiento predeterminado después de enmascarar explícitamente cualquier dato sensible utilizando las API descritas a continuación.
Sin embargo, si trabajas en una app móvil que no contiene PII ni datos privados, puedes optar por no usar la configuración predeterminada de enmascaramiento de texto e imágenes. Para obtener más información sobre la privacidad de Session Replay, [lee nuestra documentación](/es/platforms/react-native/session-replay/privacy/).

<Alert level="warning">
  Si inicializas manualmente SDK nativos antes que JS, usa Sentry React Native SDK versión [6.15.1](https://github.com/getsentry/sentry-react-native/releases/tag/6.15.1) o posterior (incluye Sentry Cocoa SDK versión [8.52.1](https://github.com/getsentry/sentry-cocoa/releases/tag/8.52.1)). Para más detalles, consulta [GH-4853](https://github.com/getsentry/sentry-react-native/issues/4853).
</Alert>

Para desactivar por completo el ocultamiento/redacción (no debe usarse en aplicaciones con datos sensibles):

```javascript {tabTitle:Mobile}
integrations: [
  // Puedes pasar opciones a la función mobileReplayIntegration durante la inicialización:
  Sentry.mobileReplayIntegration({
    maskAllText: false,
    maskAllImages: false,
    maskAllVectors: false,
  }),
]
```

```javascript {tabTitle:Browser}
integrations: (integrations) => {
  if (Platform.OS === 'web') {
    // Puedes pasar opciones a la función browserReplayIntegration durante la inicialización:
    integrations.push(Sentry.browserReplayIntegration({
      maskAllText: true,
      maskAllInputs: true,
    }));
  }
  // Puedes pasar opciones a la función mobileReplayIntegration durante la inicialización:
  integrations.push(Sentry.mobileReplayIntegration({
    maskAllText: false,
    maskAllImages: false,
    maskAllVectors: false,
  }));
  return integrations;
}
```

<Alert>
  Si notas que algún dato no se enmascara con la configuración predeterminada, avísanos mediante un [issue en GitHub](https://github.com/getsentry/sentry-react-native/issues/new?assignees=\&labels=Platform%3A+React-Native%2CType%3A+%F0%9F%AA%B2+Bug\&projects=\&template=BUG_REPORT.md).
</Alert>

<div id="react-component-names">
  ## Nombres de componentes de React
</div>

Sentry te ayuda a capturar tus componentes de React y a obtener información adicional sobre tu aplicación. Puedes configurarlo para usar los nombres de los componentes de React.

Así, en lugar de ver esto:

```html {tabTitle:Generic Components}
Vista > Tocable > Vista > Texto
```

También puedes ver exactamente qué componente de React se utilizó, por ejemplo:

```html {tabTitle:React Components}
MyCard (View, MyCard.ts) > Button (Touchable, MyCard.ts) > View > Text
```

Para añadir nombres de componentes de React, usa `annotateReactComponents` en `metro.config.js`.

```js {tabTitle: React Native}
const { getDefaultConfig } = require("@react-native/metro-config");
const { withSentryConfig } = require("@sentry/react-native/metro");
module.exports = withSentryConfig(getDefaultConfig(__dirname), {
  annotateReactComponents: true,
});
```

```js {tabTitle: Expo}
const { getSentryExpoConfig } = require("@sentry/react-native/metro");
const config = getSentryExpoConfig(__dirname, {
  annotateReactComponents: true,
});
```

<div id="error-linking">
  ## Vinculación de errores
</div>

Los errores que ocurren mientras se ejecuta una repetición se vincularán a esa misma repetición, lo que permite alternar entre incidencias y repeticiones relacionadas. Sin embargo, es **posible** que en algunos casos el recuento de errores que aparece en la página **Detalles de las repeticiones** no coincida con los errores reales que se capturaron. Esto se debe a que algunos errores pueden perderse y, aunque no es común, hay algunas razones por las que podría suceder:

* La repetición estuvo sujeta a limitación de tasa y no pudo aceptarse.
* Un miembro de tu organización eliminó la repetición.
* Hubo errores de red y la repetición no se guardó.