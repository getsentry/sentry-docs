---
title: Configurar el tracing
sidebar_title: Tracing
description: "Aprende a habilitar el tracing en tu app y descubre información valiosa sobre el rendimiento de tu aplicación."
sidebar_order: 4000
---

Con [tracing](/es/product/insights/overview/), Sentry supervisa el rendimiento de tu software, midiendo métricas como el rendimiento (throughput) y la latencia, y mostrando el impacto de los errores en múltiples sistemas. Sentry captura trazas distribuidas compuestas por transacciones y spans, que miden servicios individuales y operaciones individuales dentro de esos servicios. Obtén más información sobre nuestro modelo en [Distributed Tracing](/es/product/sentry-basics/tracing/distributed-tracing/).

<Alert>
  Si vas a adoptar el tracing en un entorno de alto tráfico, te recomendamos hacer pruebas antes del despliegue para asegurarte de que las características de rendimiento de tu servicio se mantengan dentro de lo esperado.
</Alert>

<div id="configure">
  ## Configurar
</div>

Primero, habilita el tracing y configura la tasa de muestreo de las transacciones. Establece la tasa de muestreo para tus transacciones de una de estas formas:

* Define una tasa de muestreo uniforme para todas las transacciones usando la opción <PlatformIdentifier name="traces-sample-rate" /> en la configuración de tu SDK con un número entre `0` y `1`. (Por ejemplo, para enviar el 20% de las transacciones, establece <PlatformIdentifier name="traces-sample-rate" /> en `0.2`.)
* Controla la tasa de muestreo en función de la propia transacción y del contexto en el que se captura, proporcionando una función a la opción de configuración <PlatformIdentifier name="traces-sampler" />.

Estas dos opciones están pensadas para ser mutuamente excluyentes. Si configuras ambas, <PlatformIdentifier name="traces-sampler" /> tendrá prioridad.

```csharp {diff}
+ // Agrega esto a la devolución de llamada de inicialización del SDK
+ // Ejemplo de tasa de muestreo uniforme: captura el 100 % de las transacciones
+ options.TracesSampleRate = 1.0;
```

Obtén más información sobre las <PlatformLink to="/configuration/options/#tracing-options">opciones</PlatformLink> de tracing, cómo usar la función <PlatformLink to="/configuration/sampling/#setting-a-sampling-function">TracesSampler</PlatformLink> o cómo <PlatformLink to="/configuration/sampling/#sampling-transaction-events">muestrear transacciones</PlatformLink>.

<PlatformSection supported={["dotnet.aspnetcore"]} notSupported={["dotnet"]}>
  ## Middleware

  La integración de Sentry para ASP.NET Core incluye middleware que captura automáticamente cada solicitud HTTP entrante y la convierte en una transacción.

  Por lo general, este middleware se agrega automáticamente inmediatamente después de `EndpointRoutingMiddleware` de ASP.NET Core. Sin embargo, si estás usando `WebApplicationBuilder` y llamas a `UseRouting` explícitamente, deberás agregar manualmente el middleware de tracing de Sentry llamando a `UseSentryTracing` justo después de `UseRouting`.

  ```csharp
  var builder = WebApplication.CreateBuilder(args);
  builder.WebHost.UseSentry(o =>
  {
      o.Dsn = "___PUBLIC_DSN___";
      o.TracesSampleRate = 1.0;
      // Agrega cualquier otra opción de configuración
  });
  var app = builder.Build();
  app.UseRouting();
  app.UseSentryTracing();
  // Agrega cualquier otro middleware
  app.Run();
  ```
</PlatformSection>

<div id="verify">
  ## Verificar
</div>

Prueba el rastreo iniciando y finalizando una transacción; *debes* hacerlo para que las transacciones se envíen a Sentry. Aprende cómo en nuestro contenido de <PlatformLink to="/tracing/instrumentation/custom-instrumentation/">Instrumentación personalizada</PlatformLink>.

Mientras haces pruebas, establece <PlatformIdentifier name="traces-sample-rate" /> en `1.0`, ya que eso garantiza que cada transacción se enviará a Sentry. Cuando termines de probar, quizá quieras configurar un valor más bajo para <PlatformIdentifier name="traces-sample-rate" />, o cambiar a <PlatformIdentifier name="traces-sampler" /> para muestrear y filtrar tus transacciones selectivamente según datos contextuales.

<div id="next-steps">
  ## Siguientes pasos
</div>

<PageGrid />