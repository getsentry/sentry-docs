---
title: .NET para Android
sdk: sentry.dotnet.android
description: "Conoce la integración de Sentry con .NET para Android"
---

Sentry es compatible con [.NET para Android](https://learn.microsoft.com/dotnet/android/getting-started/installation/) directamente mediante el [paquete NuGet de Sentry](https://www.nuget.org/packages/Sentry).

<div id="overview-of-the-features">
  ## Descripción general de las funcionalidades
</div>

* Todas las funcionalidades de nuestro [.NET SDK](/es/platforms/dotnet) para tu código administrado
* Adjunta registros de Logcat a los eventos
* Reporte de fallos de Java para Android, aprovechando nuestro [Android SDK](/es/platforms/android), que incluye:
  * [Captura de errores Application Not Responding (ANR)](/es/platforms/android/configuration/app-not-respond/) cuando la app no responde
  * [Adjunta automáticamente capturas de pantalla a excepciones de Java](/es/platforms/android/enriching-events/screenshots/)
  * Breadcrumbs automáticos para el ciclo de vida de Activity, el ciclo de vida de la app, eventos del sistema y de red, e interacciones del usuario
  * [Trazado automático del ciclo de vida de Activity](/es/platforms/android/tracing/instrumentation/automatic-instrumentation/#activity-instrumentation) y [trazado de interacciones del usuario](/es/platforms/android/performance/instrumentation/automatic-instrumentation/#user-interaction-instrumentation)
  * Comprobación de dispositivo con root
* Reporte de fallos nativos para Android, aprovechando nuestro [Android NDK](/es/platforms/android/configuration/using-ndk/)
* Seguimiento automático de sesiones y [estado de la versión](/es/product/releases/)
* *Session Replay para Android* (actualmente experimental)

<div id="install">
  ## Instalación
</div>

Añade la dependencia de Sentry a tu aplicación .NET para Android:

```shell {tabTitle:.NET Core CLI}
dotnet add package Sentry -v {{@inject packages.version('sentry.dotnet') }}
```

```powershell {tabTitle:Package Manager}
Install-Package Sentry -Version {{@inject packages.version('sentry.dotnet') }}
```

<div id="configure">
  ## Configurar
</div>

En el archivo `MainActivity.cs`, llama a `SentrySdk.Init` en el evento `OnCreate` e incluye las opciones que quieras configurar. `Dsn` es el único parámetro obligatorio.

```csharp
[Activity(Label = "@string/app_name", MainLauncher = true)]
public class MainActivity : Activity
{
    protected override void OnCreate(Bundle? savedInstanceState)
    {
        SentrySdk.Init(options =>
        {
            options.Dsn = "___PUBLIC_DSN___";
            options.SendDefaultPii = true; // agrega automáticamente la dirección IP del usuario
#if DEBUG
            // Registra información de depuración del SDK de Sentry
            options.Debug = true;
#endif

            // Las características específicas de .NET para Android están bajo las propiedades de Android:
            options.Android.LogCatIntegration = LogCatIntegrationType.Errors; // Obtiene logs de logcat para errores manejados y no manejados; por defecto solo no manejados
            options.Android.LogCatMaxLines = 1000; // El valor por defecto es 1000

            // Todas las opciones del SDK nativo de Android están disponibles abajo
            // https://docs.sentry.io/platforms/android/configuration/
            // Habilita la detección ANR del SDK nativo de Android
            options.Native.AnrEnabled = true;

            // Session Replay está disponible actualmente a través de ExperimentalOptions
            options.Native.ExperimentalOptions.SessionReplay.OnErrorSampleRate = 1.0;
            options.Native.ExperimentalOptions.SessionReplay.SessionSampleRate = 1.0;
            options.Native.ExperimentalOptions.SessionReplay.MaskAllImages = false;
            options.Native.ExperimentalOptions.SessionReplay.MaskAllText = false;

            options.SetBeforeSend(evt =>
            {
                if (evt.Exception?.Message.Contains("Something you don't care want logged?") ?? false)
                {
                    return null; // devuelve null para filtrar el evento
                }
                // o agrega datos adicionales
                evt.SetTag("dotnet-Android-Native-Before", "Hello World");
                return evt;
            });
        });

        base.OnCreate(savedInstanceState);
    }
}
```

<div id="options">
  ### Opciones
</div>

La integración de .NET para Android forma parte de [Sentry](/es/platforms/dotnet/). Consulta la documentación de ese paquete para obtener información sobre opciones independientes de la plataforma.

A continuación se describen las opciones específicas de Android.

<div id="logcatintegration">
  ### LogCatIntegration
</div>

Se puede configurar para controlar si los registros de LogCat se adjuntan a los eventos. Puede establecerse en uno de los siguientes valores:

* `None`: La integración de LogCat está deshabilitada.
* `Unhandled`: Los registros de LogCat se adjuntan a los eventos solo cuando el evento no está controlado.
* `Errors`: Los registros de LogCat se adjuntan a los eventos con una excepción.
* `All`: Los registros de LogCat se adjuntan a todos los eventos.

El valor predeterminado es `LogCatIntegrationType.None`.

<Alert level="warning">
  Ten cuidado al habilitar `LogCatIntegrationType.All`, ya que esto puede provocar el envío de muchos datos a Sentry y problemas de rendimiento si el SDK genera muchos eventos.
</Alert>

<div id="logcatmaxlines">
  ### LogCatMaxLines
</div>

El número máximo de líneas que se leerán de los registros de LogCat.

El valor por defecto es 1000.

<div id="verify">
  ## Verificar
</div>

Este fragmento incluye un error intencional para que puedas comprobar que todo funciona en cuanto lo configures.

<PlatformContent includePath="getting-started-verify" />