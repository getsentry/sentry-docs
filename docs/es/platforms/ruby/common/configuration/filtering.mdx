---
title: Filtrado
sidebar_order: 60
description: "Obtén más información sobre cómo configurar tu SDK para filtrar eventos enviados a Sentry."
---

Cuando integras Sentry en tu app, obtienes mucha información valiosa sobre errores y rendimiento. Y mucha información es buena, siempre que sea la adecuada y en un volumen razonable.

Los SDK de Sentry tienen varias opciones de configuración para ayudarte a filtrar eventos.

También ofrecemos [filtros de entrada](/es/concepts/data-management/filtering/) para filtrar eventos en sentry.io. Aun así, recomendamos filtrar en el cliente, porque evita la sobrecarga de enviar eventos que en realidad no quieres. Obtén más información sobre los [campos disponibles en un evento](https://develop.sentry.dev/sdk/data-model/event-payloads/).

<div id="filtering-error-events">
  ## Filtrado de eventos de error
</div>

Configura tu SDK para filtrar eventos de error usando el callback <PlatformIdentifier name="before-send" /> y activando, desactivando o configurando integraciones.

### Uso de <PlatformIdentifier name="before-send" />

Todos los SDK de Sentry son compatibles con el método de callback <PlatformIdentifier name="before-send" />. Como se ejecuta justo antes de que el evento se envíe al servidor, es tu última oportunidad para decidir no enviar los datos o editarlos. <PlatformIdentifier name="before-send" /> recibe el objeto de evento como parámetro, que puedes usar para modificar los datos del evento o descartarlo por completo devolviendo `nil`, según tu lógica personalizada y la información disponible en el evento.

<PlatformContent includePath="configuration/before-send/" />

Ten en cuenta también que las migas de pan (breadcrumbs) se pueden filtrar, como se explica en [nuestra documentación de Breadcrumbs](/es/product/error-monitoring/breadcrumbs/).

<div id="event-hints">
  #### Sugerencias de eventos
</div>

El callback <PlatformIdentifier name="before-send" /> recibe tanto el `event` como un segundo argumento, `hint`, que contiene una o más sugerencias.

Por lo general, un `hint` contiene la excepción original para poder extraer datos adicionales o afectar la agrupación. En este ejemplo, la huella (fingerprint) se fuerza a un valor común si se ha capturado una excepción de cierto tipo:

<PlatformContent includePath="configuration/before-send-hint" />

Cuando el SDK crea un evento o una miga (breadcrumb) para su envío, ese envío suele generarse a partir de algún tipo de objeto de origen. Por ejemplo, un evento de error suele crearse a partir de un registro de log o de una instancia de excepción. Para una mejor personalización, el SDK envía estos objetos a ciertos callbacks (<PlatformIdentifier name="before-send" />, <PlatformIdentifier name="before-breadcrumb" /> y procesadores de eventos).

<div id="using-hints">
  ### Uso de hints
</div>

Los hints están disponibles en dos lugares:

1. <PlatformIdentifier name="before-send" /> / <PlatformIdentifier name="before-breadcrumb" />
2. `eventProcessors`

Los `hints` de eventos y breadcrumbs son objetos que contienen diversa información usada para armar un evento o un breadcrumb. Por lo general, los `hints` incluyen la excepción original para poder extraer datos adicionales o afectar la agrupación.

Para los eventos, los hints contienen propiedades como `event_id`, `originalException`, `syntheticException` (usada internamente para generar un stack trace más limpio) y cualquier otro `data` arbitrario que adjuntes.

Para los breadcrumbs, el uso de los `hints` depende del tipo de breadcrumb.

<PlatformContent includePath="configuration/before-send-fingerprint">
  En este ejemplo, el fingerprint se fuerza a un valor común si se ha capturado una excepción de cierto tipo:
</PlatformContent>

<div id="hints-for-events">
  #### Sugerencias para eventos
</div>

`originalException`

La excepción original que hizo que el SDK de Sentry creara el evento. Esto es útil para cambiar cómo el SDK de Sentry agrupa los eventos o para extraer información adicional.

`syntheticException`

Cuando se lanza una cadena o un objeto que no es un error, Sentry crea una excepción sintética para que puedas obtener un rastreo de pila básico. Esta excepción se almacena aquí para una extracción adicional de datos.

<div id="hints-for-breadcrumbs">
  #### Sugerencias para breadcrumbs
</div>

<PlatformContent includePath="configuration/breadcrumb-hints" />

<div id="filtering-transaction-events">
  ## Filtrado de eventos de transacción
</div>

Para evitar que ciertas transacciones se envíen a Sentry, usa la opción de configuración <PlatformIdentifier name="traces-sampler" /> o <PlatformIdentifier name="before-send-transaction" />, que te permite proporcionar una función para evaluar la transacción actual y descartarla si no quieres incluirla.

### Uso de <PlatformIdentifier name="traces-sampler" />

**Nota:** Las opciones de configuración <PlatformIdentifier name="traces-sampler" /> y <PlatformIdentifier name="traces-sample-rate" /> son mutuamente excluyentes. Si defines un <PlatformIdentifier name="traces-sampler" /> para filtrar ciertas transacciones, también debes gestionar el caso de las transacciones no filtradas devolviendo la tasa a la que deseas muestrearlas.

En su forma más simple, usada solo para filtrar la transacción, se ve así:

<PlatformContent includePath="performance/traces-sampler-as-filter" />

También permite muestrear distintas transacciones a diferentes tasas.

Si la transacción que se está procesando tiene una transacción padre (de un servicio upstream que llama a este servicio), la decisión de muestreo del padre (upstream) siempre se incluirá en los datos del contexto de muestreo, para que tu <PlatformIdentifier name="traces-sampler" /> pueda decidir si y cuándo heredar esa decisión. En la mayoría de los casos, heredar es la opción correcta para evitar romper trazas distribuidas. Una traza rota no incluirá todos tus servicios. Consulta <PlatformLink to="/configuration/sampling/#inheritance">Heredar la decisión de muestreo del padre</PlatformLink> para obtener más información.

Obtén más información sobre <PlatformLink to="/configuration/sampling/">cómo configurar la tasa de muestreo</PlatformLink>.

### Uso de <PlatformIdentifier name="before-send-transaction" />

<PlatformContent includePath="configuration/before-send-transaction" />