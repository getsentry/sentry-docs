---
title: "Depuración de datos sensibles"
description: "Aprende a filtrar o depurar datos sensibles dentro del SDK para que no se envíen con el evento. También puedes configurar la depuración del lado del servidor para asegurarte de que los datos no se almacenen."
sidebar_order: 100
keywords:
  - pii
  - gdpr
  - "personally identifiable data"
  - compliance
---

Como con cualquier servicio de terceros, es importante entender qué datos se envían a Sentry y, cuando corresponda, asegurarte de que los datos sensibles nunca lleguen a los servidores de Sentry o, como mínimo, que no se almacenen.

Estos son algunos buenos ejemplos de depuración de datos que toda empresa debería considerar:

* PII (información de identificación personal), como el nombre o el correo electrónico de un usuario, que tras el GDPR debería estar presente en la mente de toda empresa.
* Credenciales de autenticación, como tu contraseña o clave de AWS.
* Propiedad intelectual confidencial, como tu color favorito o tus próximos planes para dominar el mundo.

Ofrecemos las siguientes opciones según tus necesidades legales y operativas:

* filtrar o depurar datos sensibles dentro del SDK, de modo que los datos *no se envíen a* Sentry. Los cambios de configuración requieren volver a implementar tu aplicación.
* [configurar la depuración del lado del servidor](/es/security-legal-pii/scrubbing/server-side-scrubbing/) para asegurarte de que Sentry *no almacene* datos. Los cambios de configuración se realizan en la interfaz de Sentry y se aplican de inmediato a los nuevos eventos.
* [ejecutar un Relay local](/es/product/relay/) en tu propio servidor entre el SDK y Sentry, para que los datos *no se envíen a* Sentry mientras la configuración aún puede aplicarse sin implementar.

<Alert>
  Asegúrate de que tu equipo conozca la política de tu empresa sobre qué se puede y qué no se puede enviar a Sentry. Recomendamos definir esta política al inicio de tu implementación y comunicarla, además de aplicarla mediante revisión de código.
</Alert>

Si *no* deseas usar el comportamiento predeterminado de PII, también puedes optar por identificar a los usuarios de una manera más controlada usando nuestro [contexto de identidad de usuario](../../enriching-events/identify-user/).

<div id="scrubbing-data">
  ## Limpieza de datos
</div>

### <PlatformIdentifier name="before-send" /> y <PlatformIdentifier name="before-send-transaction" />

El SDK proporciona un gancho <PlatformIdentifier name="before-send" />, que se invoca antes de enviar un evento de error o mensaje y puede usarse para modificar los datos del evento y eliminar información sensible. El SDK también proporciona un gancho <PlatformIdentifier name="before-send-transaction" /> que hace lo mismo para las transacciones. Recomendamos usar <PlatformIdentifier name="before-send" /> y <PlatformIdentifier name="before-send-transaction" /> en el SDK para **limpiar cualquier dato antes de enviarlo**, y así asegurarte de que los datos sensibles nunca salgan del entorno local.

<PlatformContent includePath="configuration/before-send/" />

<PlatformContent includePath="configuration/before-send-transaction/" />

Los datos sensibles pueden aparecer en las siguientes áreas:

* Variables locales de la pila → Algunos SDK (Python, PHP y Node) capturan valores de variables dentro del rastro de pila. Estos pueden limpiarse o puede deshabilitarse por completo este comportamiento si es necesario.
* Migas de pan (breadcrumbs) → Algunos SDK (por ejemplo, JavaScript y las integraciones de registro para Java) capturan sentencias de log ejecutadas previamente. **No registres PII** si usas esta función e incluyes sentencias de log como migas de pan en el evento. Algunos SDK de backend también registran consultas a bases de datos, que podrían necesitar limpieza. La mayoría de los SDK añadirán la cadena de consulta HTTP y el fragmento como un atributo de datos de la miga de pan, lo cual podría requerir limpieza.
* Contexto de usuario → El comportamiento automático se controla mediante <PlatformIdentifier name="send-default-pii" />.
* Contexto HTTP → Las cadenas de consulta pueden capturarse en algunos frameworks como parte del contexto de la solicitud HTTP.
* Nombres de transacción → En ciertas situaciones, los nombres de transacción podrían contener datos sensibles. Por ejemplo, una transacción de carga de página del navegador podría tener una URL sin procesar como `/users/1234/details` como nombre (donde `1234` es un id de usuario, que puede considerarse PII). En la mayoría de los casos, nuestros SDK pueden parametrizar URLs y rutas correctamente, es decir, convertir `/users/1234/details` en `/users/:userid/details`. Sin embargo, dependiendo del framework, de tu configuración de rutas, de condiciones de carrera y de algunos otros factores, es posible que los SDK no puedan parametrizar por completo todas tus URLs.
* Spans HTTP → La mayoría de los SDK incluirán la cadena de consulta HTTP y el fragmento como un atributo de datos, lo que significa que el span HTTP podría necesitar limpieza.

Para más detalles e instrucciones de filtrado de datos, consulta <PlatformLink to="/configuration/filtering/">Filtrado de eventos</PlatformLink>.

<div id="examples">
  ### Ejemplos
</div>

**Información contextual**

En lugar de enviar información confidencial en texto plano, considera aplicar un hash:

<PlatformContent includePath="sensitive-data/set-tag" />

Esto te permitirá correlacionarla en tus sistemas internos si es necesario, pero mantenerla confidencial para Sentry.

**Detalles del usuario**

Tu organización puede determinar que los correos electrónicos no sean confidenciales, pero si lo son, considera enviar en su lugar tu identificador interno:

<PlatformContent includePath="sensitive-data/set-user" />

Hacer esto garantizará que sigas aprovechando las funciones relacionadas con el impacto en el usuario.

**Integraciones de logging**

Como práctica recomendada, siempre debes evitar registrar información confidencial. Si tienes sistemas heredados con los que necesitas convivir, considera lo siguiente:

* Anonimiza la información confidencial dentro de las sentencias de log (por ejemplo, sustituir direcciones de correo electrónico por identificadores internos)
* Usa <PlatformIdentifier name="before-breadcrumb" /> para filtrarla de las breadcrumbs antes de que se adjunten
* Desactiva la integración de logging de breadcrumbs (por ejemplo, como se describe [aquí](/es/platforms/javascript/configuration/integrations/breadcrumbs/))