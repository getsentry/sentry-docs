---
title: Guía de migración
description: "Obtén más información sobre cómo migrar a la versión actual."
sidebar_order: 8000
---

<div id="migrating-to-100">
  ## Migración a la versión 1.0.0
</div>

<div id="breaking-changes">
  ### Cambios incompatibles
</div>

La versión mínima compatible de Godot Engine se actualizó a `4.5-stable`. Este requisito se mantendrá fijo para la serie `1.x`. Ya no se necesita el archivo de registro para detectar errores de script.

Rediseñamos la API de breadcrumbs para una interfaz más clara. Consulta [Cambios en la API de breadcrumbs](#changes-to-breadcrumbs-api) a continuación.

Se eliminaron la compatibilidad con scripts de configuración y la clase `SentryConfiguration`. En su lugar, usa la inicialización manual con una función de configuración (callback) si necesitas configurar el SDK desde el código. Consulta [Cambios en la configuración mediante código](#changes-to-programmatic-configuration) a continuación.

Las opciones `attach_screenshot` y `screenshot_level` se movieron a la sección experimental mientras seguimos mejorándolas. Si antes las tenías habilitadas, tendrás que volver a habilitarlas en su nueva ubicación. Se recomienda probarlo si piensas usarlo en producción.

Los ajustes del proyecto `enabled` y `disabled_in_editor_play` se renombraron a `auto_init` y `skip_auto_init_on_editor_play` para mayor claridad.

<div id="changes-to-breadcrumbs-api">
  ### Cambios en la API de breadcrumbs
</div>

Antes, el método `add_breadcrumb()` aceptaba 5 parámetros (3 de ellos eran cadenas), lo que dificultaba su uso. El nuevo enfoque utiliza una clase específica, `SentryBreadcrumb`:

```gdscript
var crumb := SentryBreadcrumb.create("Ocurrió algo")
crumb.type = "info"
crumb.set_data({"some": "data"})
SentrySDK.add_breadcrumb(crumb)
```

Para breadcrumbs simples, puedes usar una sola línea:

```gdscript
SentrySDK.add_breadcrumb(SentryBreadcrumb.create("Ha ocurrido algo"))
```


<div id="changes-to-programmatic-configuration">
  ### Cambios en la configuración programática
</div>

Se han eliminado los scripts de configuración y la clase `SentryConfiguration`. Para configurar el SDK de forma programática, debes inicializarlo manualmente. El punto más temprano para hacerlo es dentro del método `MainLoop._initialize()`. Así es como puedes hacerlo:

1. Desactiva **Auto Init** en la ventana **Project Settings** de Godot, en la categoría **Sentry**.
2. Crea un script del bucle principal con un atributo `class_name` e inicializa Sentry dentro del método `_initialize()`.

```gdscript
class_name MyMainLoop
extends SceneTree

func _initialize() -> void:
	# Inicialización de Sentry
	SentrySDK.init(func(options: SentryOptions) -> void:
		options.release = "my-game@1.2.3"
		options.before_send = _before_send
	)

	# Configuración posterior a la inicialización
	SentrySDK.add_attachment(...)
	# ...

func _before_send(ev: SentryEvent) -> SentryEvent:
	# Devuelve el evento (con o sin modificaciones) o null para omitir el reporte.
	return ev
```

3. Asigna tu tipo de bucle principal en los **Project Settings** de Godot, en **Application &gt; Run &gt; Main Loop Type** (&quot;MyMainLoop&quot; en el código de ejemplo).
