---
title: LocalVariables
description: "Añade variables locales a los marcos de excepción. (predeterminado)"
supported:
  - javascript.node
  - javascript.aws-lambda
  - javascript.azure-functions
  - javascript.connect
  - javascript.express
  - javascript.fastify
  - javascript.gcp-functions
  - javascript.hapi
  - javascript.hono
  - javascript.koa
  - javascript.nestjs
  - javascript.electron
  - javascript.nextjs
  - javascript.nuxt
  - javascript.solidstart
  - javascript.sveltekit
  - javascript.remix
  - javascript.react-router
  - javascript.astro
  - javascript.tanstackstart-react
---

<Alert>
  Esta integración solo funciona en el entorno de ejecución de Node.js.
</Alert>

*Nombre de importación: `Sentry.localVariablesIntegration`*

Esta integración viene habilitada de forma predeterminada. Si quieres modificar tus integraciones predeterminadas, lee [esto](./../#modifying-default-integrations).

Esta integración captura variables locales en los marcos de excepción. Para habilitar la captura de variables locales mediante la integración, establece `includeLocalVariable` en `true` en la configuración del SDK.

```JavaScript
Sentry.init({
  includeLocalVariables: true,
});
```

La integración de variables locales solo captura variables locales del código de la aplicación (`in_app = true`). Los frames de un stacktrace que se originan en `node_modules` no tendrán variables locales asociadas.

<Alert level="warning" title="Problemas con ESM">
  Debido a un [issue abierto de Node.js](https://github.com/nodejs/node/issues/38439), actualmente no podemos capturar variables locales para errores no controlados cuando se usan módulos de JavaScript (ESM).

  Como solución temporal, envuelve el código relevante en un bloque try-catch y llama a `captureException` con el error para que Sentry pueda capturar las variables locales.

  ```javascript
  try {
    // Your code here
  } catch (error) {
    Sentry.captureException(error);
  }
  ```
</Alert>

<Alert level="warning" title="Variables minificadas">
  Los nombres de variables locales minificados asociados a frames de excepciones no se pueden desminificar en Sentry por el momento. Existe una [propuesta activa](https://github.com/tc39/source-map/blob/main/proposals/scopes.md) para la especificación de sourcemaps que añadiría esta capacidad.
</Alert>

<Alert level="warning" title="Incompatibilidad con depuradores">
  Establecer `includeLocalVariables` en `true` puede interferir con otras sesiones de depuración adjuntas al proceso.
  La integración funciona pausando brevemente la ejecución cuando se lanzan excepciones para recopilar las variables en el ámbito y luego reanudarla al instante.
  Por lo tanto, puedes observar que se omiten tus puntos de interrupción cuando esta integración está activa.

  Se recomienda establecer `includeLocalVariables` en `false` cuando se pretenda usar otras sesiones de depuración.
</Alert>


<div id="options">
  ## Opciones
</div>

<div id="captureallexceptions">
  ### `captureAllExceptions`
</div>

_Tipo: `boolean`_

De forma predeterminada es `true`. Si está habilitado, se capturan variables locales tanto para excepciones capturadas como no capturadas.

- Cuando es false, solo las excepciones no capturadas tendrán variables locales
- Cuando es true, tanto las excepciones capturadas como las no capturadas tendrán variables locales.

Capturar variables locales para todas las excepciones puede ser costoso, ya que el depurador se detiene en cada throw para recopilar
variables locales.

Para reducir la probabilidad de que esta función afecte el rendimiento o el rendimiento de procesamiento de la app, esta función tiene un límite de frecuencia.
Una vez que se alcanza el límite, las variables locales solo se capturarán para excepciones no capturadas hasta que se cumpla un tiempo de espera.

<div id="maxexceptionspersecond">
  ### `maxExceptionsPerSecond`
</div>

_Tipo: `number`_

El número máximo de excepciones por segundo para las que se capturarán variables locales antes de que se active la limitación de velocidad.