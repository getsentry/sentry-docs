---
title: OnUnhandledRejection
description: "Registra controladores para capturar rechazos de promesas no gestionados a nivel global. (predeterminada)"
supported:
  - javascript.node
  - javascript.aws-lambda
  - javascript.azure-functions
  - javascript.connect
  - javascript.express
  - javascript.fastify
  - javascript.gcp-functions
  - javascript.hapi
  - javascript.hono
  - javascript.koa
  - javascript.nestjs
  - javascript.electron
  - javascript.nextjs
  - javascript.nuxt
  - javascript.solidstart
  - javascript.sveltekit
  - javascript.remix
  - javascript.react-router
  - javascript.astro
  - javascript.bun
  - javascript.deno
  - javascript.cloudflare
  - javascript.tanstackstart-react
---

<Alert>
  Esta integración solo funciona en entornos de servidor (Node.js, Bun, Deno).
</Alert>

*Nombre de importación: `Sentry.onUnhandledRejectionIntegration`*

Esta integración viene habilitada de forma predeterminada. Si quieres modificar tus integraciones predeterminadas, lee [esto](./../#modifying-default-integrations).

La integración `onUnhandledRejectionIntegration` registra controladores para capturar rechazos de promesas no gestionados a nivel global.

```JavaScript
Sentry.init({
  integrations: [Sentry.onUnhandledRejectionIntegration()],
});
```

<PlatformSection supported={["javascript.aws-lambda"]}>
  ## En AWS Lambda

  AWS agrega sus propios controladores de `unhandledRejection` a una función Lambda, lo que impide que Sentry pueda capturarlos.
  Como solución, elimina todos los controladores antes de inicializar Sentry.

  Lamentablemente, esto significa que el controlador de AWS Lambda debe <PlatformLink to="/install/layer/#alternative-initialize-the-sdk-in-code">envolverse manualmente</PlatformLink>.

  ```JavaScript
  const Sentry = require("@sentry/aws-serverless");

  // Elimina los controladores de `unhandledRejection` configurados por AWS
  // para que el SDK de Sentry pueda capturarlos
  process.removeAllListeners("unhandledRejection");

  Sentry.init({
    dsn: "___PUBLIC_DSN___"
    // Agrega trazas configurando tracesSampleRate y la integración
    // Establece tracesSampleRate en 1.0 para capturar el 100% de las transacciones
    // Recomendamos ajustar este valor en producción
    // Más información en
    // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
    tracesSampleRate: 1.0,
  });

  exports.handler = Sentry.wrapHandler(async (event, context) => {
    // Tu código del handler
  });
  ```
</PlatformSection>


<div id="options">
  ## Opciones
</div>

<div id="mode">
  ### `mode`
</div>

_Tipo: `'none' | 'warn' | 'strict'`_

Esta opción define qué hacer tras capturar un rechazo no controlado y
imita el comportamiento de la opción `--unhandled-rejection` de [Node](https://nodejs.org/api/cli.html#--unhandled-rejectionsmode):

- `strict`: Eleva el rechazo no controlado como una excepción no capturada. Si la excepción se maneja, se emite `unhandledRejection`.
- `warn`: Siempre muestra una advertencia, tanto si el hook `unhandledRejection` está configurado como si no, pero no imprime la advertencia de desaprobación.
- `none`: Silencia todas las advertencias.

El valor predeterminado es `warn`.