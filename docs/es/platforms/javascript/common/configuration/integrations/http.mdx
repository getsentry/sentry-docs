---
title: Http
description: "Captura spans y breadcrumbs de solicitudes HTTP. (predeterminado)"
supported:
  - javascript.node
  - javascript.aws-lambda
  - javascript.azure-functions
  - javascript.connect
  - javascript.express
  - javascript.fastify
  - javascript.gcp-functions
  - javascript.hapi
  - javascript.hono
  - javascript.koa
  - javascript.nestjs
  - javascript.electron
  - javascript.nextjs
  - javascript.nuxt
  - javascript.solidstart
  - javascript.sveltekit
  - javascript.remix
  - javascript.react-router
  - javascript.astro
  - javascript.bun
  - javascript.tanstackstart-react
---

<Alert>
  Esta integración solo funciona en entornos de servidor (Node.js, Bun, Deno).
</Alert>

*Nombre de importación: `Sentry.httpIntegration`*

Esta integración está habilitada de forma predeterminada. Si quieres modificar tus integraciones predeterminadas, lee [esto](./../#modifying-default-integrations).

La `httpIntegration` hace dos cosas:

1. Captura breadcrumbs de solicitudes HTTP.
2. Captura spans de solicitudes HTTP salientes.

```JavaScript
Sentry.init({
  integrations: [Sentry.httpIntegration()],
});
```

<div id="options">
  ## Opciones
</div>

<div id="breadcrumbs">
  ### `breadcrumbs`
</div>

*Tipo: `boolean`*

Si se establece en `false`, no se capturarán las migas de pan.

<div id="maxincomingrequestbodysize">
  ### `maxIncomingRequestBodySize`
</div>

*Tipo: `'none' | 'small' | 'medium' | 'always'`* (Predeterminado: `'medium'`)

Controla el tamaño máximo de los cuerpos de las solicitudes HTTP entrantes que se adjuntan a los eventos.

Opciones disponibles:

* &#39;none&#39;: No se adjuntará ningún cuerpo de solicitud
* &#39;small&#39;: Se adjuntarán cuerpos de solicitud de hasta 1,000 bytes
* &#39;medium&#39;: Se adjuntarán cuerpos de solicitud de hasta 10,000 bytes (predeterminado)
* &#39;always&#39;: Siempre se adjuntarán cuerpos de solicitud

Ten en cuenta que, incluso con la configuración `'always'`, los cuerpos que superen 1 MB nunca se adjuntarán por razones de rendimiento y seguridad.

<div id="ignoreincomingrequestbody">
  ### `ignoreIncomingRequestBody`
</div>

*Tipo: `(url: string, request: RequestOptions) => boolean`*

Permite ignorar el cuerpo de las solicitudes HTTP entrantes a las URL para las que el callback dado devuelve `true`.
Esto puede ser útil para solicitudes de larga duración en las que el cuerpo no es necesario y queremos evitar capturarlo.

La función de callback recibe dos argumentos:

* `url`: La URL completa de la solicitud entrante, incluido el protocolo, el host, el puerto, la ruta y la cadena de consulta. Por ejemplo: `https://example.com/users?name=John`.
* `request`: Un objeto de tipo `RequestOptions` que contiene las opciones de la solicitud entrante. Puedes usarlo para filtrar por propiedades como el método de la solicitud o los encabezados.

<div id="ignoreoutgoingrequests">
  ### `ignoreOutgoingRequests`
</div>

*Tipo: `(url: string, request: RequestOptions) => boolean`*

Permite definir un método para filtrar solicitudes salientes según la URL. Si el método devuelve `true`, no se capturarán spans ni breadcrumbs para la solicitud saliente.

La función de callback recibe dos argumentos:

* `url`: La URL completa de la solicitud saliente, incluido el protocolo, el host, el puerto, la ruta y la cadena de consulta. Por ejemplo: `https://example.com/users?name=John`.
* `request`: Un objeto de tipo `RequestOptions` que contiene las opciones de la solicitud saliente. Puedes usarlo para filtrar por propiedades como el método o los encabezados de la solicitud.

<div id="ignoreincomingrequests">
  ### `ignoreIncomingRequests`
</div>

*Tipo: `(urlPath: string, request: IncomingMessage) => boolean`*

Permite definir un método para filtrar solicitudes entrantes según la URL. Si el método devuelve `true`, no se capturará ningún span ni ninguna transacción para la solicitud entrante.

La función de callback recibe dos argumentos:

* `urlPath`: La ruta de la URL de la solicitud entrante, incluida la cadena de consulta si está disponible. Por ejemplo: `/users?name=John`.
* `request`: Un objeto de tipo `IncomingMessage` que contiene la solicitud entrante. Puedes usarlo para filtrar por propiedades como el método o los encabezados de la solicitud.

<div id="ignorestaticassets">
  ### `ignoreStaticAssets`
</div>

*Tipo: `boolean`* (Por defecto, `true`)

Si se establece en `true`, no se capturarán spans para recursos estáticos como imágenes, fuentes y otros archivos.

<div id="trackincomingrequestsassessions">
  ### `trackIncomingRequestsAsSessions`
</div>

*Tipo: `boolean`* (Predeterminado: `true`)

Determina si la integración debe crear [Sessions](/es/product/releases/health/#sessions) para las solicitudes entrantes a fin de medir la salud y la tasa libre de fallos de tus versiones en Sentry.
Obtén más información sobre [Release Health](/es/product/releases/health/).

<div id="instrumentation">
  ### `instrumentation`
</div>

También puedes pasar algunos hooks a la [instrumentación de OpenTelemetry subyacente](https://www.npmjs.com/package/@opentelemetry/instrumentation-http):

```typescript
httpIntegration({
  instrumentation?: {
    requestHook?: (span: Span, req: ClientRequest | HTTPModuleRequestIncomingMessage) => void;
    responseHook?: (span: Span, response: HTTPModuleRequestIncomingMessage | ServerResponse) => void;
    applyCustomAttributesOnSpan?: (
      span: Span,
      request: ClientRequest | HTTPModuleRequestIncomingMessage,
      response: HTTPModuleRequestIncomingMessage | ServerResponse,
    ) => void;
});
```
