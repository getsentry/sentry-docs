---
title: Contexto asíncrono
sidebar_order: 80
description: "Obtén más información sobre cómo aislar el scope de Sentry y los breadcrumbs entre solicitudes."
supported:
  - javascript.node
  - javascript.aws-lambda
  - javascript.azure-functions
  - javascript.connect
  - javascript.express
  - javascript.fastify
  - javascript.gcp-functions
  - javascript.hapi
  - javascript.hono
  - javascript.koa
  - javascript.nestjs
---

De forma predeterminada, el SDK de Sentry aislará automáticamente el scope y los breadcrumbs de cada solicitud. Esto significa que cualquier breadcrumb o etiqueta añadida quedará limitado a esa solicitud. Esto es útil si notas que los breadcrumbs y el scope se filtran entre solicitudes. Considera el siguiente ejemplo:

```js
const Sentry = require("@sentry/node");

app.get("/my-route", function () {
  Sentry.addBreadcrumb({
    message: "Esta miga de pan solo debería asociarse a esta petición",
  });
  // do something
});

app.get("/my-route-2", function () {
  Sentry.addBreadcrumb({
    message: "Esta miga de pan solo debería asociarse a esta petición",
  });
  // hacer algo
});
```

Cada solicitud tendrá su propio rastro de navegación y no se compartirá entre solicitudes.

Si quieres aislar manualmente parte del código, por ejemplo para un proceso en segundo plano, puedes usar el método `withIsolationScope`. Esto garantizará que cualquier rastro de navegación o etiqueta que se agregue quede aislado dentro del callback proporcionado:

```js
const Sentry = require("@sentry/node");

async function backgroundJob() {
  return await Sentry.withIsolationScope(async () => {
    // Todo lo que esté dentro de esto quedará aislado
    await doSomething();
  });
}
```

Bajo el capó, el SDK utiliza la [API AsyncLocalStorage](https://nodejs.org/api/async_context.html#class-asynclocalstorage) de Node para aislar el contexto.
