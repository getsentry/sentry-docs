---
title: Configurar comentarios de usuarios
sidebar_title: Comentarios de usuarios
description: Aprende a habilitar los comentarios de usuarios en tu app.
sidebar_order: 6000
og_image: /og-images/platforms-javascript-common-user-feedback.png
---

La función de comentarios de usuarios te permite recopilar opiniones desde cualquier lugar de tu aplicación en cualquier momento, sin necesidad de que ocurra antes un evento de error. La función de [modal de informe de fallos](#crash-report-modal), en cambio, te permite solicitar comentarios cuando ocurre un evento de error.

<Alert>
  Si usas una instancia autogestionada de Sentry, deberás estar en la versión 24.4.2 o superior para usar toda la funcionalidad de la función de comentarios de usuarios. Las versiones anteriores pueden tener funcionalidad limitada.
</Alert>

<PlatformSection notSupported={["javascript.node", "javascript.aws-lambda", "javascript.azure-functions", "javascript.connect", "javascript.express", "javascript.fastify", "javascript.gcp-functions", "javascript.hapi", "javascript.hono", "javascript.koa", "javascript.nestjs", "javascript.deno", "javascript.cloudflare", "javascript.bun", "javascript.cordova", "javascript.wasm"]}>
  ## Widget de comentarios de usuarios

  El widget de JavaScript insertable permite a los usuarios enviar comentarios desde cualquier lugar de tu aplicación. La [modal de informe de fallos](#crash-report-modal) recopila comentarios reactivos vinculados a un evento de error.

  ![Ejemplo del Widget de comentarios de usuarios en un sitio de demostración](./img/user-feedback-widget.png)

  ### Requisitos previos

  <PlatformContent includePath="user-feedback/pre-requisites" />

  ### Instalación

  <PlatformContent includePath="user-feedback/install" />

  ### Configuración

  Para configurar la integración, agrega lo siguiente a la inicialización de Sentry. Hay muchas opciones que puedes pasar al constructor de la integración. Consulta la [documentación de configuración](/es/platforms/javascript/user-feedback/configuration/) para más detalles.

  <PlatformContent includePath="user-feedback/setup" />

  De forma predeterminada, esto insertará el widget en la esquina inferior derecha de tu sitio web. Puedes personalizar casi todos los aspectos del widget, incluida su sustitución completa por tu propia interfaz.

  En la versión 8.0.0 del SDK y posteriores, los usuarios pueden enviar capturas de pantalla con sus comentarios. Si haces self-hosting, también necesitas la versión 24.4.2 o superior. Puedes configurar esto con la opción `enableScreenshot`; de forma predeterminada está en `true`. Las capturas de pantalla no son compatibles en dispositivos móviles, por lo que el botón correspondiente se ocultará automáticamente en ese caso.

  <Alert>
    Las capturas de pantalla consumen tu [cuota de
    adjuntos](/es/pricing/quotas/manage-attachments-quota). Todos los planes incluyen 1 GB de
    adjuntos, lo que equivale aproximadamente a 2500 capturas de pantalla.
  </Alert>

  ### Reproducción de sesiones

  El widget de comentarios de usuarios se integra fácilmente con <PlatformLink to="/session-replay/">Session Replay</PlatformLink>. Primero, asegúrate de que la integración de Session Replay esté configurada correctamente y que `replaysOnErrorSampleRate` sea mayor que 0. Cuando esto esté listo, el SDK de Replay almacenará en búfer hasta 30 segundos de la sesión del usuario hasta que el usuario *abra* el widget de comentarios de usuarios. Si el usuario envía comentarios, podrás verlos (incluida la reproducción) en sentry.io.
</PlatformSection>

<div id="user-feedback-api">
  ## API de comentarios de usuarios
</div>

La API de comentarios de usuarios te permite recopilar comentarios usando tu propia interfaz. Puedes usar el mismo lenguaje de programación que empleas en tu app para enviar comentarios de usuarios. En este caso, el SDK crea la solicitud HTTP para que no tengas que encargarte de enviar los datos por HTTP.

Opcionalmente, puedes pasar un `associatedEventId` para asociar los comentarios de usuarios con un evento de error, lo que te brinda información adicional sobre los problemas. Para obtener un ID de evento, tienes dos opciones:

1. Usa el valor de retorno de un método que capture un evento.
2. Usa <PlatformLink to="/configuration/options/#before-send"><PlatformIdentifier name="before-send" /></PlatformLink>{' '}y `Sentry.lastEventId()`.

<PlatformContent includePath="user-feedback/sdk-api-example/" />

<div id="crash-report-modal">
  ## Modal de informe de fallos
</div>

Nuestro modal de informe de fallos, integrable y basado en JavaScript, es útil cuando normalmente mostrarías una página de error simple (el clásico `500.html`) en tu sitio web.

Para recopilar comentarios, el modal de informe de fallos solicita y recoge el nombre del usuario, su dirección de correo electrónico y una descripción de lo ocurrido. Cuando se envían comentarios, Sentry los asocia con el evento original, ofreciéndote información adicional sobre los problemas.

La siguiente captura de pantalla muestra un ejemplo del modal de informe de fallos, aunque el tuyo puede variar según tu personalización:

<Include name="common-imgs/user_feedback_widget" />

<div id="integration">
  ### Integración
</div>

El modal se autentica con tu DSN público y luego pasa el ID del evento que se generó en tu backend.

<PlatformContent includePath="user-feedback/example-widget/" />