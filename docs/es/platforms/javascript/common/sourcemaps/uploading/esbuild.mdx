---
title: esbuild
description: "Carga tus mapas de origen con el plugin de esbuild de Sentry."
sidebar_order: 4
---

<Alert>

Esta guía asume que usas una **versión del SDK de Sentry `7.47.0` o posterior**. Si usas una versión anterior y quieres cargar mapas de origen, te recomendamos actualizar tu SDK a la versión más reciente.

</Alert>

<PlatformSection notSupported={[
  "javascript.nextjs",
  "javascript.remix",
  "javascript.solidstart",
  "javascript.sveltekit",
  "javascript.astro",
  "javascript.nuxt",
  "javascript.capacitor",
  "javascript.cordova",
  "javascript.tanstackstart-react",
]}>

<Alert level="warning">

El plugin de esbuild de Sentry no admite completamente configuraciones de esbuild con `splitting: true`.
Si dependes del code splitting, usa el plugin de esbuild con la <PlatformLink to="/sourcemaps/troubleshooting_js/legacy-uploading-methods/#uploading-using-sentry-bundler-plugins-on-version-2x">carga heredada de mapas de origen</PlatformLink>
o <PlatformLink to="/sourcemaps/uploading/cli/">Sentry CLI</PlatformLink> para cargar los mapas de origen en su lugar.

</Alert>

</PlatformSection>

Puedes usar el plugin de esbuild de Sentry para crear releases automáticamente y cargar mapas de origen en Sentry al empaquetar tu aplicación.

<div id="automatic-setup">
  ## Configuración automática
</div>

La manera más fácil de configurar la carga de mapas de origen con esbuild es usando el Sentry Wizard:

<Include name="sourcemaps-wizard-instructions.mdx" />

Si prefieres configurar manualmente la carga de mapas de origen con esbuild, sigue los pasos a continuación.

<div id="manual-setup">
  ## Configuración manual
</div>

Instala el plugin de esbuild para Sentry:

```bash {tabTitle:npm}
npm install @sentry/esbuild-plugin --save-dev
```

```bash {tabTitle:yarn}
yarn add @sentry/esbuild-plugin --dev
```

```bash {tabTitle:pnpm}
pnpm add @sentry/esbuild-plugin --save-dev
```


<div id="configure">
  ### Configurar
</div>

Para subir source maps debes configurar un [Organization Token](https://sentry.io/orgredirect/organizations/:orgslug/settings/auth-tokens/).

Como alternativa, también puedes usar un [Personal Token](https://sentry.io/orgredirect/organizations/:orgslug/settings/account/api/auth-tokens/), con los permisos &quot;Project: Read &amp; Write&quot; y &quot;Release: Admin&quot;.

Los auth tokens se pueden pasar al plugin explícitamente con la opción `authToken`, mediante la variable de entorno `SENTRY_AUTH_TOKEN`, o con un archivo `.env.sentry-build-plugin` en el directorio de trabajo al compilar tu proyecto (no olvides agregarlo a tu `.gitignore`, ya que contiene datos sensibles).
Recomendamos agregar el auth token a tu entorno de CI/CD como variable de entorno.

Obtén más información sobre cómo configurar el plugin en nuestra [documentación del Sentry esbuild Plugin](https://www.npmjs.com/package/@sentry/esbuild-plugin).

<OrgAuthTokenNote />

```bash {filename:.env.sentry-build-plugin}
SENTRY_AUTH_TOKEN=___ORG_AUTH_TOKEN___
```

Ejemplo:

```javascript {filename:esbuild.config.js}
const { sentryEsbuildPlugin } = require("@sentry/esbuild-plugin");

require("esbuild").build({
  sourcemap: true, // La generación de source maps debe estar activada
  plugins: [
    // Coloca el plugin de esbuild de Sentry después de todos los demás plugins
    sentryEsbuildPlugin({
      org: "___ORG_SLUG___",
      project: "___PROJECT_SLUG___",
      authToken: process.env.SENTRY_AUTH_TOKEN,
    }),
  ],
});
```

<Alert>
  Generar mapas de origen (sourcemaps) puede exponerlos públicamente, lo que podría provocar la
  filtración de tu código fuente. Puedes evitarlo configurando tu servidor para
  denegar el acceso a los archivos `.js.map`, o usando la opción [`sourcemaps.filesToDeleteAfterUpload` del complemento de Sentry para esbuild](https://www.npmjs.com/package/@sentry/esbuild-plugin#sourcemapsfilestodeleteafterupload)
  para eliminar los mapas de origen después de subirlos a Sentry.
</Alert>

<Alert>
  El complemento de Sentry para esbuild no sube mapas de origen en watch mode/development mode.
  Recomendamos ejecutar una compilación de producción para probar tu configuración.
</Alert>
