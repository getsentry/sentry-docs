---
title: Rollup
description: "Carga tus mapas de origen con el plugin Sentry Rollup."
sidebar_order: 5
customCanonicalTag: "/platforms/javascript/guides/koa/sourcemaps/uploading/rollup/"
---

<Alert>

Esta guía asume que usas una **versión del Sentry SDK `7.47.0` o superior**. Si estás en una versión anterior y quieres cargar mapas de origen, te recomendamos actualizar tu SDK a la versión más reciente.

</Alert>

Puedes usar el plugin de Sentry para Rollup para crear lanzamientos automáticamente y cargar mapas de origen en Sentry al empaquetar tu aplicación.

<div id="automatic-setup">
  ## Configuración automática
</div>

La manera más fácil de configurar la carga de sourcemaps con Rollup es usando Sentry Wizard:

<Include name="sourcemaps-wizard-instructions.mdx" />

Si prefieres configurar manualmente la carga de sourcemaps con la CLI, sigue los pasos a continuación.

<div id="manual-setup">
  ## Configuración manual
</div>

Instala el complemento de Sentry para Rollup:

```bash {tabTitle:npm}
npm install @sentry/rollup-plugin --save-dev
```

```bash {tabTitle:yarn}
yarn add @sentry/rollup-plugin --dev
```

```bash {tabTitle:pnpm}
pnpm add @sentry/rollup-plugin --save-dev
```


<div id="configuration">
  ### Configuración
</div>

Para subir los source maps, debes configurar un [Organization Token](https://sentry.io/orgredirect/organizations/:orgslug/settings/auth-tokens/).

Alternativamente, también puedes usar un [Personal Token](https://sentry.io/orgredirect/organizations/:orgslug/settings/account/api/auth-tokens/) con los permisos “Project: Read &amp; Write” y “Release: Admin”.

Los tokens de autenticación pueden pasarse al plugin explícitamente con la opción `authToken`, mediante la variable de entorno `SENTRY_AUTH_TOKEN` o con un archivo `.env.sentry-build-plugin` en el directorio de trabajo al compilar tu proyecto (no olvides añadirlo a tu `.gitignore`, ya que contiene datos sensibles).
Recomendamos añadir el token de autenticación a tu entorno de CI/CD como variable de entorno.

Obtén más información sobre cómo configurar el plugin en nuestra [documentación del plugin Sentry Rollup](https://www.npmjs.com/package/@sentry/rollup-plugin).

<OrgAuthTokenNote />

```bash {filename:.env.sentry-build-plugin}
SENTRY_AUTH_TOKEN=___ORG_AUTH_TOKEN___
```

Ejemplo:

```javascript {filename:rollup.config.js}
import { sentryRollupPlugin } from "@sentry/rollup-plugin";

export default {
  output: {
    sourcemap: true, // La generación de source maps debe estar activada
  },
  plugins: [
    // Coloca el plugin de Sentry para Rollup después de todos los demás plugins
    sentryRollupPlugin({
      org: "___ORG_SLUG___",
      project: "___PROJECT_SLUG___",
      authToken: process.env.SENTRY_AUTH_TOKEN,
    }),
  ],
};
```

<Alert>
  Generar sourcemaps puede exponerlos públicamente y ocasionar la filtración
  de tu código fuente. Puedes evitarlo configurando tu servidor para
  denegar el acceso a los archivos `.js.map`, o usando la opción
  [`sourcemaps.filesToDeleteAfterUpload` del complemento Sentry Rollup](https://www.npmjs.com/package/@sentry/rollup-plugin#sourcemapsfilestodeleteafterupload)
  para eliminar los source maps después de subirlos a Sentry.
</Alert>
