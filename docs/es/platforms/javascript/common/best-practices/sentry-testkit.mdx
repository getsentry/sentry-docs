---
title: Sentry Testkit
sidebar_order: 10000
description: "Aprende a comprobar que el seguimiento de flujos o los errores correctos se envían a Sentry, pero sin enviarlos realmente a los servidores de Sentry."
---

Al crear pruebas para tu aplicación, quieres comprobar que el seguimiento de flujos o los errores correctos se envían a Sentry, pero sin enviarlos realmente a los servidores de Sentry. Así evitarás inundar Sentry con reportes falsos durante las ejecuciones de prueba u otras operaciones de CI.

[Sentry Testkit](https://zivl.github.io/sentry-testkit/) es un plugin de Sentry mantenido por la comunidad que permite interceptar los reportes de Sentry para inspeccionarlos posteriormente. Permite que Sentry funcione de forma nativa en tu aplicación al sobrescribir el mecanismo de transporte predeterminado de Sentry, de modo que el reporte no se envía realmente, sino que se registra localmente en memoria. Así, los reportes registrados pueden recuperarse más tarde para tu propio uso, verificación o cualquier otro propósito en tu entorno local de desarrollo o pruebas.

<Alert>

Sentry Testkit está mantenido por la comunidad y no cuenta con soporte oficial de Sentry.
Abre un issue en el [repositorio de Sentry Testkit](https://zivl.github.io/sentry-testkit/) si tienes preguntas o comentarios.

</Alert>

<div id="installation">
  ## Instalación
</div>

```bash {tabTitle:npm}
npm install sentry-testkit --save-dev
```

```bash {tabTitle:yarn}
yarn add sentry-testkit --dev
```

```bash {tabTitle:pnpm}
pnpm add sentry-testkit --save-dev
```


<div id="using-in-tests">
  ### Uso en las pruebas
</div>

```javascript
import sentryTestkit from "sentry-testkit";

const { testkit, sentryTransport } = sentryTestkit();

// inicializa tu instancia de Sentry con sentryTransport
Sentry.init({
  dsn: "___PUBLIC_DSN___",
  transport: sentryTransport,
  //... other configurations
});

test("recopila eventos de error", function () {
  // ejecuta cualquier escenario que eventualmente invoque Sentry.captureException(...)
  expect(testkit.reports()).toHaveLength(1);
  const report = testkit.reports()[0];
  expect(report).toHaveProperty(/*...*/);
});

// De manera similar para eventos de rendimiento
test("recopila eventos de rendimiento", function () {
  // ejecuta cualquier escenario que eventualmente invoque Sentry.startTransaction(...)
  expect(testkit.transactions()).toHaveLength(1);
});
```

También puedes ver más ejemplos de uso en la [sección de pruebas](https://github.com/zivl/sentry-testkit/tree/master/__tests__) del repositorio sentry-testkit.


<div id="testkit-api">
  ### API de Testkit
</div>

Sentry Testkit cuenta con una API muy simple y fácil de usar.
Consulta la descripción completa de la API y la documentación en [Sentry Testkit Docs](https://zivl.github.io/sentry-testkit/docs/api).