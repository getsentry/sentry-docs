---
draft: true
categories: []
toc: true
title: Instalación
noindex: true
tags: []
---

Raven se distribuye de varias formas y debe incluirse después de cualquier otra biblioteca, pero antes de tus propios scripts.

Por ejemplo:

```html
<script src="jquery.js"></script>
<script
  src="https://cdn.ravenjs.com/3.26.4/raven.min.js"
  crossorigin="anonymous"
></script>
<script>
  Raven.config("___PUBLIC_DSN___").install();
</script>
<script src="app.js"></script>
```

Esto permite que las integraciones de Raven se autoinstrumenten. Si se incluye antes de algo como Angular, sería imposible usar, por ejemplo, el complemento de Angular.

<div id="using-our-cdn">
  ## Uso de nuestro CDN
</div>

Servimos nuestras propias compilaciones a través de [Fastly](https://www.fastly.com/). Están disponibles por http y https, así que recomendamos omitir el protocolo.

Nuestro CDN distribuye compilaciones con y sin [*integrations*](/es/platforms/javascript/legacy-sdk/integrations/).

```html
<script
  src="https://cdn.ravenjs.com/3.26.4/raven.min.js"
  crossorigin="anonymous"
></script>
```

Esta versión no incluye ningún complemento. Consulta [ravenjs.com](https://ravenjs.com/) para obtener más información sobre los complementos y otras compilaciones.

<div id="bower">
  ## Bower
</div>

También ofrecemos una manera de desplegar Raven mediante [bower](https://bower.io/). Es útil si prefieres alojar y servir tus propios scripts en lugar de depender de nuestro CDN y mantener un `bower.json` con una lista de dependencias y versiones (al añadir la opción `--save`, se agregará automáticamente a `bower.json`).

```shell
bower install raven-js --save
```

```html
<script src="/bower_components/raven-js/dist/raven.js"></script>
```

Ten en cuenta también que el archivo no está comprimido, pero está listo para pasarlo por cualquier compresor decente de JavaScript como [UglifyJS](https://github.com/mishoo/UglifyJS2).

<div id="npm">
  ## npm
</div>

Raven también está disponible como paquete de npm, [raven-js](https://www.npmjs.com/package/raven-js).

```shell
npm install raven-js --save
```

```html
<script src="/node_modules/raven-js/dist/raven.js"></script>
```

<Alert level="warning" title="Nota">
  Si planeas usar Raven con Node, [raven-node](https://github.com/getsentry/raven-node) es el cliente que debes utilizar.
</Alert>

<div id="commonjs">
  ## CommonJS
</div>

Para utilizar Raven con importaciones de CommonJS:

```javascript
var Raven = require("raven-js");
Raven.config("___PUBLIC_DSN___").install();
```

<div id="es2015-es6">
  ## ES2015 (ES6)
</div>

Para usar Raven con imports de ES2015 (ES6):

```javascript
import Raven from "raven-js";
Raven.config("___PUBLIC_DSN___").install();
```

<div id="async-loading">
  ## Carga asíncrona
</div>

Para cargar el SDK de Sentry JS de forma asíncrona, debes hacer dos cosas.

Define la variable global `SENTRY_SDK` con la URL del SDK (por ejemplo, desde nuestro CDN), tu DSN y la configuración del SDK. Luego coloca el siguiente fragmento lo antes posible en tu código HTML. Por ejemplo:

```html
<script>
  window.SENTRY_SDK = {
    url: "https://cdn.ravenjs.com/3.26.4/raven.min.js",
    dsn: "___PUBLIC_DSN___",
    options: {
      release: "1.3.0",
    },
  };
  (function (a, b, g, e, h) {
    var k = a.SENTRY_SDK,
      f = function (a) {
        f.data.push(a);
      };
    f.data = [];
    var l = a[e];
    a[e] = function (c, b, e, d, h) {
      f({ e: [].slice.call(arguments) });
      l && l.apply(a, arguments);
    };
    var m = a[h];
    a[h] = function (c) {
      f({ p: c.reason });
      m && m.apply(a, arguments);
    };
    var n = b.getElementsByTagName(g)[0];
    b = b.createElement(g);
    b.src = k.url;
    b.crossorigin = "anonymous";
    b.addEventListener("load", function () {
      try {
        a[e] = l;
        a[h] = m;
        var c = f.data,
          b = a.Raven;
        b.config(k.dsn, k.options).install();
        var g = a[e];
        if (c.length)
          for (var d = 0; d < c.length; d++)
            c[d].e
              ? g.apply(b.TraceKit, c[d].e)
              : c[d].p && b.captureException(c[d].p);
      } catch (p) {
        console.log(p);
      }
    });
    n.parentNode.insertBefore(b, n);
  })(window, document, "script", "onerror", "onunhandledrejection");
</script>
```

O puedes colocar esas dos cosas en etiquetas de script separadas. Esto pondrá en cola todos los errores (y las promesas, si el entorno admite el manejador `unhandledrejection`) que ocurrieron antes de que se cargara el SDK y los enviará una vez que esté configurado e instalado.

Ten en cuenta, sin embargo, que esta solución tiene algunas desventajas, ya que los errores podrían contener menos información al “re-emitirse” en lugar de capturarse desde la fuente original.

<Alert level="warning" title="Nota">
  Esto no funcionará al abrir `index.html` o cualquier otro archivo HTML directamente desde el sistema de archivos, ya que no se admiten scripts anónimos con origen cruzado. Lo mismo puede ocurrir con cualquier script de origen cruzado. Para obtener más información, consulta [What the heck is Script error?](https://blog.sentry.io/2016/05/17/what-is-script-error).
</Alert>

<div id="requirements">
  ## Requisitos
</div>

Raven es compatible con IE8+ y con todos los demás navegadores modernos, y funciona en Web Workers.

Raven requiere que el entorno JavaScript del navegador proporcione:

* [XHR Level 2](https://caniuse.com/#feat=xhr2) (IE10+ y todos los demás navegadores modernos) o [XDomainRequest](https://learn.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/platform-apis/cc288132\(v=vs.85\)) (IE8, IE9)
* Un objeto global `JSON` con `JSON.stringify` (IE8+ en [modo estándar](https://msdn.microsoft.com/en-us/library/cc288325\(VS.85\).aspx), y todos los demás navegadores modernos)

Raven no es compatible con IE7 ni con otros navegadores antiguos que no proporcionan las funciones requeridas indicadas arriba. En esos navegadores más antiguos, Raven.js está diseñado para fallar con elegancia: incluirlo en tu página no tendrá ningún efecto, y no recopilará ni informará excepciones no detectadas.