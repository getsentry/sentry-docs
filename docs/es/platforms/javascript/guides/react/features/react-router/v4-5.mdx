---
title: React Router v4 y v5
description: "Conoce la integración de Sentry con React Router v4 / v5."
sidebar_order: 30
---

Asegúrate de usar un componente `Router` junto con `createBrowserHistory` (o equivalente).

<div id="parameterized-transaction-names">
  ### Nombres de transacción con parámetros
</div>

Para obtener nombres de transacción con parámetros (por ejemplo, `/teams/:teamid/user/:userid` en lugar de `/teams/123/user/345`), debes definir explícitamente las rutas que quieres parametrizar. Esto se debe a que no existe una configuración de rutas estática que el SDK pueda usar en React Router v4/v5.

Te recomendamos usar el componente de orden superior `withSentryRouting` para crear un componente `SentryRoute` que actualizará la ruta de coincidencia durante el renderizado.

```javascript {1, 7, 14-16, 28-30}
import {Route, Router, Switch } from 'react-router-dom';
import { createBrowserHistory } from 'history';

import * as Sentry from '@sentry/react';

// Crea un componente de ruta personalizado de Sentry
const SentryRoute = Sentry.withSentryRouting(Route);

const history = createBrowserHistory();

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  integrations: [
    Sentry.reactRouterV5BrowserTracingIntegration({ history }),
    // OR
    Sentry.reactRouterV4BrowserTracingIntegration({ history }),
  ],

  // Recomendamos ajustar este valor en producción o usar tracesSampler
  // para tener un control más preciso
  tracesSampleRate: 1.0,
});

render() {
  return (
    <Router history={history}>
      <Switch>
        <SentryRoute path="/users/:userid" component={() => <div>ID de usuario</div>} />
        <SentryRoute path="/users" component={() => <div>Usuarios</div>} />
        <SentryRoute path="/" component={() => <div>Inicio</div>} />
      </Switch>
    </Router>
  );
}
```

Si no quieres envolver rutas individuales, puedes especificar rutas con parámetros manualmente pasando una matriz de objetos de configuración de rutas, según [react-router-config](https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config), a la llamada de la función de instrumentación. También deberás proporcionar la función `matchPath` exportada por los paquetes `react-router-dom` o `react-router`.

```javascript {1,8-10,15-19}
import { Route, Router, Switch, matchPath } from 'react-router-dom';
import { createBrowserHistory } from 'history';

import * as Sentry from '@sentry/react';

const history = createBrowserHistory();

// Array de objetos de configuración de rutas
// Asegúrate de que el orden de las rutas sea correcto. La URL más larga bajo el mismo padre debe colocarse primero y en orden descendente.
const routes = [{ path: '/users/:userid' }, { path: '/users' }, { path: '/' }];

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  integrations: [
    Sentry.reactRouterV5BrowserTracingIntegration({
      history,
      routes,
      matchPath
    }),
  ],

  // Te recomendamos ajustar este valor en producción o usar tracesSampler
  // para un control más fino
  tracesSampleRate: 1.0,
});

// En el render de tu App:
render() {
  return (
    <Router history={history}>
      <Switch>
         <Route path="/users/:userid" component={() => <div>UserId</div>} />
         <Route path="/users" component={() => <div>Users</div>} />
         <Route path="/" component={() => <div>Home</div>} />
      </Switch>
    </Router>
  );
}
```


<div id="next-steps">
  ## Próximos pasos:
</div>

- [Volver a **Primeros pasos**](../../)
- [Volver a la página principal de Integraciones](../)