---
title: Electron
description: "Aprende a configurar Sentry manualmente en tu aplicación de Electron y a capturar tus primeros errores."
sdk: sentry.javascript.electron
categories:
  - javascript
  - desktop
---

<PlatformContent includePath="getting-started-prerequisites" />

<div id="step-1-install">
  ## Paso 1: Instalar
</div>

Elige las funciones que quieres configurar y esta guía te mostrará cómo hacerlo:

<OnboardingOptionButtons
  options={[
  "error-monitoring",
  "performance",
  "session-replay",
  "user-feedback",
  "logs",
]}
/>

<PlatformContent includePath="getting-started-features-expandable" />

<div id="install-the-sentry-sdk">
  ### Instala el SDK de Sentry
</div>

Ejecuta el comando del gestor de paquetes que prefieras para agregar el SDK de Sentry a tu aplicación:

```bash {tabTitle:npm}
npm install @sentry/electron --save
```

```bash {tabTitle:yarn}
yarn add @sentry/electron
```

```bash {tabTitle:pnpm}
pnpm add @sentry/electron
```

<div id="step-2-configure">
  ## Paso 2: Configurar
</div>

Debes inicializar el SDK tanto en el proceso `main` como en cada proceso `renderer` que crees.

<div id="configure-the-main-process">
  ### Configurar el proceso principal
</div>

Inicializa el SDK en el proceso `main` de Electron lo antes posible:

```javascript
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  // ___PRODUCT_OPTION_START___ logs
  // Habilita el envío de logs a Sentry
  _experiments: { enableLogs: true },
  // ___PRODUCT_OPTION_END___ logs
});
```

<div id="configure-the-renderer-process">
  ### Configura el proceso de renderizado
</div>

Inicializa el SDK en tus procesos de renderizado de Electron:

```javascript
import * as Sentry from "@sentry/electron/renderer";

Sentry.init({
  // Agrega encabezados de solicitud y la IP de los usuarios; para obtener más información, visita:
  // https://docs.sentry.io/platforms/javascript/guides/electron/configuration/options/#sendDefaultPii
  sendDefaultPii: true,
  integrations: [
    // ___PRODUCT_OPTION_START___ rendimiento
    Sentry.browserTracingIntegration(),
    // ___PRODUCT_OPTION_END___ rendimiento
    // ___PRODUCT_OPTION_START___ repetición de sesión
    Sentry.replayIntegration(),
    // ___PRODUCT_OPTION_END___ repetición de sesión
    // ___PRODUCT_OPTION_START___ comentarios de usuario
    Sentry.feedbackIntegration({
      // La configuración adicional del SDK va aquí; por ejemplo:
      colorScheme: "system",
    }),
    // ___PRODUCT_OPTION_END___ comentarios de usuario
  ],
  // ___PRODUCT_OPTION_START___ rendimiento

  // Establece tracesSampleRate en 1.0 para capturar el 100 %
  // de las transacciones para el monitoreo del rendimiento.
  // Recomendamos ajustar este valor en producción.
  // Más información en:
  // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ rendimiento
  // ___PRODUCT_OPTION_START___ repetición de sesión

  // Captura Replay para el 10 % de todas las sesiones,
  // además del 100 % de las sesiones con error.
  // Más información en:
  // https://docs.sentry.io/platforms/javascript/session-replay/configuration/#general-integration-configuration
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ repetición de sesión
  // ___PRODUCT_OPTION_START___ registros

  // Habilita el envío de registros a Sentry
  _experiments: { enableLogs: true },
  // ___PRODUCT_OPTION_END___ registros
});
```

<Alert>
  Si tu app usa un script de precarga y `contextIsolation: true`, Sentry no puede capturar automáticamente los errores que ocurren en el contexto de precarga. Para incluirlos, inicializa Sentry también en tu script de precarga:

  ```javascript
  import * as Sentry from "@sentry/electron/renderer";

  Sentry.init(); // no olvides añadir tus opciones de configuración
  ```
</Alert>

<Expandable title="¿Cambiaste el directorio userData?" level="warning">
  Si cambias el directorio `userData` que usa tu app, asegúrate de hacer este cambio antes de configurar el SDK, ya que esta ruta se usa para almacenar en caché el alcance (scope) y los eventos entre reinicios de la aplicación.

  ```javascript
  import { app } from "electron";
  import * as Sentry from "@sentry/electron/main";

  app.setPath("userData", "~/.config/my-app");
  Sentry.init({ dsn: "___PUBLIC_DSN___" });
  ```
</Expandable>

<div id="using-framework-specific-sdks">
  ### Uso de SDK específicos del framework
</div>

Si usas un framework en tus procesos de renderizado, puedes combinar el SDK de Electron con el SDK del framework:

```javascript
import { init } from "@sentry/electron/renderer";
import { init as reactInit } from "@sentry/react";

init(
  {
    dsn: "___PUBLIC_DSN___",
    integrations: [
      /* integraciones */
    ],
    /* Otra configuración de los SDK de Electron y React */
  },
  reactInit
);
```

<div id="step-3-offline-support">
  ## Paso 3: Compatibilidad sin conexión
</div>

El transporte predeterminado gestiona automáticamente el almacenamiento en caché de los eventos sin conexión tanto en el proceso principal como en los procesos de renderizado. Aquí tienes varias opciones para personalizar el comportamiento de la cola:

```javascript
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  transportOptions: {
    /* Número máximo de días para mantener un sobre en la cola. */
    maxAgeDays: 30,
    /* Número máximo de sobres para mantener en la cola. */
    maxQueueSize: 30,
    /**
     * Se ejecuta antes de intentar enviar un sobre a Sentry.
     *
     * Si esta función devuelve false, se llamará a `shouldStore` para determinar si el sobre debe almacenarse.
     *
     * Por defecto: () => true
     *
     * @param envelope El sobre que se enviará.
     * @returns Si se debe intentar enviar el sobre
     */
    shouldSend: (envelope: Envelope) => boolean | Promise<boolean>;
    /**
     * Se ejecuta antes de almacenar un evento.
     *
     * Devuelve false para descartar el sobre en lugar de almacenarlo.
     *
     * Por defecto: () => true
     *
     * @param envelope El sobre que no se pudo enviar.
     * @param error El error que ocurrió.
     * @param retryDelay El retraso de reintento actual en milisegundos.
     * @returns Si se debe almacenar el sobre en la cola
     */
    shouldStore: (envelope: Envelope, error: Error, retryDelay: number) => boolean | Promise<boolean>;
    /**
     * Indica si el almacenamiento sin conexión debe vaciarse poco después del inicio.
     *
     * Por defecto: false
     */
    flushAtStartup: false;
  },
});
```

<div id="step-4-inter-process-communication-optional">
  ## Paso 4: Comunicación entre procesos (opcional)
</div>

Para ofrecer el contexto más detallado de todos los eventos, incluidos los fallos nativos, el SDK fusiona el contexto, el alcance y las breadcrumbs de todos los procesos en el proceso `main` de Electron.

De forma predeterminada, el SDK intenta establecer la comunicación de `renderer` a `main` mediante las API de IPC de Electron y, si eso falla, recurre a un protocolo HTTP personalizado. Puedes cambiar este comportamiento predeterminado con la opción `ipcMode`, que puede ser `Classic`, `Protocol` o `Both`.

```javascript
const { init, IPCMode } = require("@sentry/electron/main");

init({
  dsn: "___PUBLIC_DSN___",
  debug: true,
  ipcMode: IPCMode.Protocol,
});
```

<div id="custom-ipc-namespace">
  ### Espacio de nombres IPC personalizado
</div>

Si tu aplicación de Electron utiliza varios canales IPC y quieres evitar posibles conflictos entre ellos, puedes especificar un espacio de nombres personalizado para los canales IPC que usa Sentry con la opción `ipcNamespace`.

Para usar un espacio de nombres personalizado, debes configurarlo en los tres contextos: proceso principal, procesos de renderizado y scripts de preload.

**En el proceso principal:**

```javascript
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  ipcNamespace: "some-app",
});
```

**En los procesos de renderizado:**

```javascript
import * as Sentry from "@sentry/electron/renderer";

Sentry.init({
  ipcNamespace: "some-app",
});
```

**En scripts de precarga:**

```javascript
import { hookupIpc } from "@sentry/electron/preload-namespaced";

hookupIpc("some-app");
```

Cuando se configure, los canales IPC que utiliza Sentry llevarán el prefijo del espacio de nombres especificado (por ejemplo, `some-app`), lo que ayuda a evitar conflictos con otros canales IPC de tu aplicación. Asegúrate de usar el mismo valor de espacio de nombres en todos los procesos para una comunicación adecuada.

Para más opciones de configuración, consulta la <PlatformLink to="/configuration/options/#ipcNamespace">documentación de opciones de configuración</PlatformLink>.

<div id="preload-injection">
  ### Inyección de preload
</div>

El SDK intenta inyectar un script de preload mediante [`session.setPreloads(preloads)`](https://www.electronjs.org/docs/latest/api/session#sessetpreloadspreloads) y, de forma predeterminada, solo lo hace para la `defaultSession`. Si usas otras sesiones, puedes pasar sesiones personalizadas mediante la opción `getSessions` en el proceso `main`:

```javascript
import { session } from "electron";
import * as Sentry from "@sentry/electron/main";

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  getSessions: () => [
    session.defaultSession,
    session.fromPartition("persist:my-session"),
  ],
});
```

Si tu aplicación empaqueta el JavaScript del proceso `main`, el SDK no puede inyectar automáticamente scripts de preload porque ese script no estará incluido en la aplicación empaquetada. En ese caso, el SDK enviará eventos y actualizaciones del scope mediante un protocolo HTTP personalizado y `window.fetch`.

<div id="manual-preload">
  ### Precarga manual
</div>

Si quieres empaquetar y configurar manualmente el script de precarga, importa el código de precarga del SDK en tu propio script de precarga:

```javascript
import "@sentry/electron/preload";
```

Este script expone IPC al proceso de renderizado aislado mediante la API `contextBridge` de Electron.

Consulta las [aplicaciones de ejemplo](https://github.com/getsentry/sentry-electron/tree/master/examples) para ver cómo hacerlo.

<div id="step-5-debug-information-optional">
  ## Paso 5: Información de depuración (opcional)
</div>

Para obtener trazas de pila simbolizadas de fallos nativos, debes habilitar la descarga
de símbolos de depuración desde el servidor de símbolos de Electron. Ve a **Project Settings &gt; Debug
Files** y añade Electron a la lista de repositorios integrados.

Si tu app usa un fork personalizado de Electron, contiene módulos con extensiones nativas
o crea subprocesos, debes cargar esos símbolos manualmente usando
la Sentry CLI. Para más información, consulta [*Uso nativo*](/es/platforms/javascript/guides/electron/#native).

<Alert level="warning" title="Problema conocido">
  Actualmente no es posible enviar eventos desde código nativo (como una extensión en C++). Sin embargo, los fallos seguirán informándose a Sentry si ocurren en un proceso donde el SDK esté configurado. Además, los informes de fallos de subprocesos no se informarán automáticamente en todas las plataformas. Esta función se añadirá en una futura actualización del SDK.
</Alert>

<div id="step-6-add-readable-stack-traces-with-source-maps-optional">
  ## Paso 6: Añadir trazas de pila legibles con mapas de origen (opcional)
</div>

<PlatformContent includePath="getting-started-sourcemaps-short-version" />

<div id="step-7-native-optional">
  ## Paso 7: Nativo (opcional)
</div>

Sentry puede procesar minidumps creados cuando cualquiera de los procesos de Electron se bloquea. Para ello, el SDK necesita cargar esos archivos cuando la aplicación se reinicia (o de inmediato en bloqueos del renderer). Todos los metadatos del evento, incluida la información del usuario y los breadcrumbs, se incluyen en estas cargas.

Debido a las [restricciones del sandboxing de apps en macOS](https://electronjs.org/docs/tutorial/mac-app-store-submission-guide#limitations-of-mas-build), no es posible recopilar bloqueos nativos en compilaciones para la Mac App Store. En este caso, el manejo de bloqueos nativos se deshabilitará.

<Alert level="warning" title="Una nota sobre la privacidad de los datos">
  Los minidumps son volcados de memoria del proceso en el momento del bloqueo. Por ello, podrían contener información sensible del sistema de destino, como variables de entorno, rutas locales o incluso representaciones en memoria de campos de entrada, incluidas contraseñas. **Sentry no almacena estos volcados de memoria**. Una vez procesados, se eliminan de inmediato y toda la información sensible se elimina de los issues resultantes.
</Alert>

<div id="providing-debug-information">
  ### Proporcionar información de depuración
</div>

Para permitir que Sentry procese por completo los fallos nativos y te proporcione
trazas de pila simbolicadas, debes subir *archivos de información de depuración*
(a veces también llamados *símbolos de depuración* o simplemente *símbolos*).

Primero, asegúrate de que el *Servidor de símbolos de Electron* esté habilitado para tu proyecto.
Ve a *Project Settings &gt; Debug Files* y elige `Electron` en la lista de
*Builtin Repositories*. Puedes agregar más servidores de símbolos para las plataformas en las que
estés implementando, según tus necesidades.

Si tu aplicación contiene extensiones nativas personalizadas o deseas simbolicar
fallos de un proceso hijo creado, sube su información de depuración manualmente
durante tu proceso de compilación o lanzamiento. Consulta [*Archivos de información de depuración*](/es/platforms/javascript/guides/electron/data-management/debug-files/) para una descripción detallada de cómo
configurar Sentry para el desarrollo nativo. Además, consulta [*Subida de información
de depuración*](/es/cli/dif/) para obtener detalles sobre el proceso de carga.

<div id="child-processes">
  ### Procesos secundarios
</div>

El SDK utiliza el [crashReporter de Electron](https://electronjs.org/docs/api/crash-reporter) para capturar volcados de bloqueo. Para recibir informes de bloqueo de procesos secundarios, asegúrate de que el crash reporter esté activado, ya sea por el SDK o manualmente (consulta [más abajo](/es/platforms/javascript/guides/electron/#manual-crash-reporting)).

Una vez activo el crash reporter, el SDK capturará automáticamente bloqueos nativos
para los siguientes procesos:

|                             | etiqueta `event.process` | macOS | Windows | Linux          |
| --------------------------- | ------------------------ | ----- | ------- | -------------- |
| Proceso `main` de Electron  | `browser`                | ✓     | ✓       | ✓              |
| Proceso `renderer` de Electron | `renderer`            | ✓     | ✓       | ✓              |
| `utilityProcess` de Electron | `utility`              | ✓     | ✓       | ✓ <sup>1</sup> |
| `child_process.fork`        | `node`                   | ✓     | ✓       |                |
| `child_process.exec/spawn`  | `unknown`                | ✓     |         |                |

<sup>1</sup> No funciona con Electron v29.4.6.

<div id="manual-crash-reporting">
  ### Reporte manual de fallos
</div>

También puedes capturar fallos nativos iniciando manualmente el [Electron CrashReporter](https://electronjs.org/docs/api/crash-reporter). Sentry puede proporcionar trazas de pila simbolizadas y mostrar información del sistema, pero no se incluirán metadatos específicos de Electron, breadcrumbs ni información de contexto. Esto es útil en casos en los que no puedes usar el SDK completo de Electron:

```javascript
const { crashReporter } = require("electron");
crashReporter.start({
  companyName: "TuEmpresa",
  productName: "TuAplicación",
  ignoreSystemCrashHandler: true,
  submitURL: "___MINIDUMP_URL___",
});
```

<div id="step-8-verify-your-setup">
  ## Paso 8: Verificar tu configuración
</div>

Probemos tu configuración y confirmemos que Sentry funciona correctamente.

<div id="issues">
  ### Problemas
</div>

**Error del proceso principal**

Agrega un detector de eventos que genere un error en tu proceso principal:

```javascript
import { app } from "electron";
import * as Sentry from "@sentry/electron/main";

app.on("ready", () => {
  throw new Error("Error de prueba de Sentry en el proceso principal");
});
```

**Error en el proceso de renderizado**

Agrega un botón de prueba en una de tus páginas HTML:

```html {filename: index.html}
<button id="testError">Hacer saltar todo por los aires</button>

<script src="renderer.js"></script>
```

Luego, en tu renderer, agrega lo siguiente:

```javascript
document.getElementById("testError").addEventListener("click", () => {
  throw new Error("Error de prueba de Sentry en el proceso renderer");
});
```

<OnboardingOption optionId="performance" hideForThisOption>
  Inicia tu app y genera dos errores que Sentry capturará: uno del proceso
  principal y otro del renderer.
</OnboardingOption>

<OnboardingOption optionId="performance">
  ### Trazas

  Para probar el tracing en tu renderer, inicia una traza para medir el tiempo que tarda en ejecutarse tu código:

  ```javascript
  document.getElementById("testError").addEventListener("click", () => {
    Sentry.startSpan({ op: "test", name: "Renderer test span" }, () => {
      throw new Error("Sentry test error in renderer process");
    });
  });
  ```

  Inicia tu app y genera dos errores que Sentry capturará: uno del proceso principal y otro del renderer. También se iniciará una traza con el nombre definido.
</OnboardingOption>

<div id="view-captured-data-in-sentry">
  ### Ver los datos capturados en Sentry
</div>

Ahora, dirígete a tu proyecto en [Sentry.io](https://sentry.io/) para ver los datos recopilados (puede tardar unos momentos en aparecer).

<PlatformContent includePath="getting-started-verify-locate-data" />

<div id="next-steps">
  ## Próximos pasos
</div>

A estas alturas, deberías haber integrado Sentry en tu aplicación de Electron y ya estar enviando datos a tu proyecto de Sentry.

Ahora es un buen momento para personalizar tu configuración y explorar temas más avanzados. Nuestros pasos recomendados a continuación son:

* Sigue <PlatformLink to="/configuration">personalizando tu configuración</PlatformLink>
* Aprende a <PlatformLink to="/usage">capturar errores manualmente</PlatformLink>
* Familiarízate con [las funciones del producto de Sentry](/es/product/), como tracing, insights y alertas

<Expandable permalink={false} title="¿Tienes problemas para configurar el SDK?">
  - Encuentra diversos temas en <PlatformLink to="/troubleshooting">Solución de problemas</PlatformLink>
  - [Obtén soporte](https://sentry.zendesk.com/hc/en-us/)
</Expandable>