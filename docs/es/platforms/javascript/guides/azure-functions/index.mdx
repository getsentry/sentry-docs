---
title: Azure Functions
description: Azure Functions es un servicio de computación sin servidor que forma parte de Microsoft Azure. Aprende a configurarlo con Sentry.
sdk: sentry.javascript.astro
categories:
  - javascript
  - server
  - server-node
  - serverless
---

<div id="features">
  ## Funcionalidades
</div>

Además de capturar errores, puedes supervisar las interacciones entre varios servicios o aplicaciones si [habilitas el tracing](/es/concepts/key-terms/tracing/). También puedes recopilar y analizar perfiles de rendimiento de usuarios reales con el [profiling](/es/product/explore/profiling/).

Selecciona qué funcionalidades de Sentry quieres instalar, además de Error Monitoring, para obtener a continuación las instrucciones correspondientes de instalación y configuración.

<div id="install">
  ## Instalación
</div>

<OnboardingOptionButtons options={["error-monitoring", "performance", "profiling", "logs"]} />

Sentry recopila datos mediante un SDK dentro del entorno de ejecución de tu aplicación. Esto significa que debes añadir `@sentry/node` como dependencia en tiempo de ejecución de tu aplicación:

<PlatformContent includePath="getting-started-install" />

<div id="configure">
  ## Configuración
</div>

Para configurar el registro de errores de Sentry en una función de Azure:

```javascript {tabTitle:async}
const Sentry = require("@sentry/node");
// ___PRODUCT_OPTION_START___ profiling
const { nodeProfilingIntegration } = require("@sentry/profiling-node");

// ___PRODUCT_OPTION_END___ profiling
Sentry.init({
  dsn: "___PUBLIC_DSN___",
  
  // Agrega los encabezados de la solicitud y la IP de los usuarios; para más información, visita:
  // https://docs.sentry.io/platforms/javascript/guides/azure-functions/configuration/options/#sendDefaultPii
  sendDefaultPii: true,
  // ___PRODUCT_OPTION_START___ profiling
  
  integrations: [
    nodeProfilingIntegration(),
  ],
  // ___PRODUCT_OPTION_END___ profiling

  // ___PRODUCT_OPTION_START___ performance
  // Agrega monitoreo del rendimiento configurando tracesSampleRate
  // Establece tracesSampleRate en 1.0 para capturar el 100% de las transacciones
  // Recomendamos ajustar este valor en producción
  // Más información en
  // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance

  // ___PRODUCT_OPTION_START___ profiling
  // Establece la tasa de muestreo para el profiling; esto es relativo a tracesSampleRate
  profilesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ profiling
});

module.exports = async function (context, req) {
  try {
    await notExistFunction();
  } catch (e) {
    Sentry.withScope((scope) => {
      scope.setSDKProcessingMetadata({ request: req });
      Sentry.captureException(e);
    });
    await Sentry.flush(2000);
  }

  context.res = {
    status: 200,
    body: "¡Hola desde Azure Functions!",
  };
};
```

Puedes obtener el DSN en tu cuenta de Sentry, en la interfaz web de Sentry, desde *Settings &gt; Projects &gt; Client Keys (DSN)* de tu organización.

Nota: Debes invocar tanto `captureException` como `flush` para que los eventos capturados se envíen correctamente a Sentry.

Consulta las [aplicaciones de ejemplo de Azure](https://github.com/getsentry/examples/tree/master/azure-functions/node) de Sentry para ver ejemplos detallados. Revisa la [documentación de JavaScript](/es/platforms/javascript/) para más opciones de configuración.
