---
title: Opciones de compilación
sidebar_order: 5
description: "Conoce las opciones de configuración de Next.js para controlar el proceso de compilación de tu app."
keywords:
  [
    "next.js",
    "nextjs",
    "next.config",
    "sourcemaps",
    "source maps",
    "build",
    "compatibility",
    "ES6",
    "ES5",
  ]
---

El SDK de Sentry para Next.js permite la inyección automática de código y la carga de mapas de origen durante el proceso de compilación de tu app mediante el wrapper `withSentryConfig` en tu archivo de configuración de Next.js (`next.config.js` o `next.config.mjs`). Para obtener información sobre cómo actualizar la configuración, consulta [Ampliar la configuración de Next.js](../../manual-setup/#extend-your-nextjs-configuration).

<div id="available-options">
  ## Opciones disponibles
</div>

<TableOfContents ignoreIds={["available-options"]} />

<div id="core-options">
  ## Opciones principales
</div>

<SdkOption name="org" type="string" envVar="SENTRY_ORG">
  El slug de la organización de Sentry asociada con la app.
</SdkOption>

<SdkOption name="project" type="string" envVar="SENTRY_PROJECT">
  El slug del proyecto de Sentry asociado con la app.
</SdkOption>

<SdkOption name="authToken" type="string" envVar="SENTRY_AUTH_TOKEN">
  El token de autenticación que se usará para todas las comunicaciones con Sentry. Se puede obtener en https://sentry.io/orgredirect/organizations/:orgslug/settings/auth-tokens/.
</SdkOption>

<SdkOption name="sentryUrl" type="string" envVar="SENTRY_URL" defaultValue="https://sentry.io/">
  La URL base de tu instancia de Sentry. Úsala si empleas una instancia autogestionada o distinta de sentry.io.
</SdkOption>

<SdkOption name="headers" type="Record<string, string>">
  Encabezados añadidos a cada solicitud de red saliente.
</SdkOption>

<SdkOption name="telemetry" type="boolean" defaultValue="true">
  Si se establece en true, los errores internos del plugin y los datos de rendimiento se enviarán a Sentry.

  En Sentry nos gusta usar Sentry para ofrecer productos más rápidos y estables. Somos muy cuidadosos con lo que enviamos: no recopilaremos nada más que errores y datos de rendimiento de alto nivel. Nunca recopilaremos tu código ni detalles de los proyectos en los que uses este plugin.
</SdkOption>

<SdkOption name="silent" type="boolean" defaultValue="false">
  Suprime todos los registros de compilación del SDK de Sentry.
</SdkOption>

<SdkOption name="debug" type="boolean" defaultValue="false">
  Imprime información de depuración adicional sobre el SDK y la carga de source maps al compilar la aplicación.
</SdkOption>

<SdkOption name="errorHandler" type="(error: Error) => void">
  Una función de callback que se invocará cuando se produzcan errores durante el proceso de compilación de Sentry. Es especialmente útil para manejar con elegancia fallos en la canalización de CI/CD cuando hay problemas de conectividad.
  Opcionalmente, puedes volver a lanzar el error para que falle el proceso de compilación.

  ```javascript
  withSentryConfig(nextConfig, {
    // ... other options
    errorHandler: (error) => {
      console.warn("Sentry build error occurred:", error);
      // Optionally, you can still fail the build by re-throwing the error
      // throw error;
    },
  });
  ```
</SdkOption>

<div id="source-maps-options">
  ## Opciones de Source Maps
</div>

<SdkOption name="sourcemaps.disable" type="boolean">
  Desactiva cualquier funcionalidad relacionada con los source maps.
</SdkOption>

<SdkOption name="sourcemaps.assets" type="string | string[]">
  Un patrón glob o un arreglo de globs que especifica los artefactos de compilación que se deben cargar en Sentry. Si no se especifica, el complemento intentará cargar todos los archivos JavaScript y los archivos de source map creados durante la compilación.

  Los patrones de globbing siguen la implementación del paquete `glob`.
</SdkOption>

<SdkOption name="sourcemaps.ignore" type="string | string[]" defaultValue="[]">
  Un patrón glob o un arreglo de globs que especifica qué artefactos de compilación no se deben cargar en Sentry.
</SdkOption>

<SdkOption name="sourcemaps.deleteSourcemapsAfterUpload" type="boolean" defaultValue="true">
  Activa o desactiva la eliminación automática de los source maps generados dentro de la carpeta de compilación de Next.js después de cargarlos en Sentry.
</SdkOption>

<div id="release-options">
  ## Opciones de versión
</div>

<SdkOption name="release.name" type="string" envVar="SENTRY_RELEASE">
  Identificador único de la versión que quieres crear. De forma predeterminada, detectará automáticamente un valor según tu entorno.
</SdkOption>

<SdkOption name="release.create" type="boolean" defaultValue="true">
  Si el complemento debe crear una versión en Sentry durante la compilación.
</SdkOption>

<SdkOption name="release.finalize" type="boolean" defaultValue="true">
  Si la versión de Sentry debe finalizarse automáticamente cuando termine la compilación.
</SdkOption>

<SdkOption name="release.dist" type="string">
  Identificador único de la distribución, usado para segmentar aún más tu versión. Normalmente es tu número de compilación.
</SdkOption>

<div id="bundle-size-optimizations">
  ## Optimizaciones del tamaño del paquete
</div>

<SdkOption name="bundleSizeOptimizations.excludeDebugStatements" type="boolean">
  Si se establece en `true`, el SDK de Sentry intentará eliminar, mediante tree‑shaking, cualquier código de depuración propio durante la compilación.
</SdkOption>

<SdkOption name="bundleSizeOptimizations.excludeTracing" type="boolean">
  Si se establece en `true`, el SDK de Sentry intentará eliminar, mediante tree‑shaking, el código relacionado con el tracing y el monitoreo del rendimiento.

  **Aviso:** No habilites esto si usas cualquier función del SDK relacionada con el monitoreo del rendimiento.
</SdkOption>

<div id="nextjs-specific-options">
  ## Opciones específicas de Next.js
</div>

<SdkOption name="widenClientFileUpload" type="boolean" defaultValue="false">
  Incluye código interno de Next.js y código de dependencias al cargar los source maps.

  <Expandable type="note" title="Cuándo y por qué ampliar el alcance de la carga.">
    Si notas que hay algunos frames en tus stack traces del lado del cliente que
    no se asignan a los source maps incluso cuando la mayoría sí, el problema podría ser
    que esos frames provienen de archivos en `static/chunks/` en lugar de
    `static/chunks/pages/`. De forma predeterminada, esos archivos no se suben porque la
    mayoría de los archivos en `static/chunks/` solo contienen código de Next.js o de terceros.
    Para subir todos los archivos y source maps, incluidos los de paquetes de terceros,
    establece la opción `widenClientFileUpload` en `true`.
  </Expandable>

  Nota: Habilitar esta opción puede alargar los tiempos de compilación.
</SdkOption>

<SdkOption name="autoInstrumentServerFunctions" type="boolean" defaultValue="true">
  Instrumenta automáticamente los métodos de obtención de datos de Next.js y las rutas de API de Next.js con monitoreo de errores y rendimiento.
</SdkOption>

<SdkOption name="autoInstrumentMiddleware" type="boolean" defaultValue="true">
  Instrumenta automáticamente el middleware de Next.js con monitoreo de errores y rendimiento.
</SdkOption>

<SdkOption name="autoInstrumentAppDirectory" type="boolean" defaultValue="true">
  Instrumenta automáticamente los componentes del directorio `app` con monitoreo de errores.
</SdkOption>

<SdkOption name="excludeServerRoutes" type="Array<RegExp | string>">
  Excluye rutas o páginas específicas de la API del lado del servidor de la instrumentación automática de Sentry durante la compilación.
  Esta opción recibe un arreglo de strings o expresiones regulares y afecta a las páginas en los directorios `pages` y `app`.

  Al definir rutas, ten en cuenta lo siguiente:

  * Especifica las páginas como rutas y no como rutas del sistema de archivos. Por ejemplo, escribe `/animals` en lugar de `pages/animals/index.js`.
  * Asegúrate de que cualquier string proporcionado coincida exactamente con la ruta, tenga una barra inicial y no tenga una barra final.

  ```javascript
  excludeServerRoutes: [
    "/some/excluded/route",
    "/excluded/route/with/[parameter]",
    /^\/route\/beginning\/with\/some\/prefix/,
    /\/routeContainingASpecificPathSegment\/?/,
  ];
  ```

  <Alert level="info">
    Si compilas tu aplicación Next.js con Turbopack, esta opción
    no tendrá efecto. El SDK de Sentry ya no aplicará instrumentación en tiempo de compilación
    y dependerá únicamente de las funciones de telemetría de Next.js.
  </Alert>
</SdkOption>

<SdkOption name="tunnelRoute" type="string | boolean">
  <Alert level="info">
    Esta función requiere **Next.js versión 11+** y actualmente no funciona con instancias autogestionadas de Sentry.
  </Alert>

  Canaliza las solicitudes de Sentry a través de esta ruta en tu servidor Next.js para evitar que los bloqueadores de anuncios impidan el envío de eventos de Sentry.

  Esta opción puede configurarse como:

  * `true` para rutas autogeneradas, que son impredecibles y cambian con cada despliegue.
  * Una ruta estática personalizada como `/error-monitoring`.

  Obtén más información sobre el tunneling en la <PlatformLink to="/troubleshooting/#dealing-with-ad-blockers">sección de solución de problemas</PlatformLink>.

  <Expandable level="warning" title="Uso de middleware de Next.js en Turbopack">
    Si estás usando Turbopack, el registro de eventos del lado del cliente fallará si tu
    middleware de Next.js intercepta la ruta de túnel configurada. Para solucionarlo, configura
    la ruta como un string fijo (como `/error-monitoring`) y agrega un matcher negativo
    como `(?!error-monitoring)` en tu middleware para excluir la ruta de túnel. Si no estás
    usando Turbopack, Sentry omitirá automáticamente la ruta de túnel en tu middleware.
  </Expandable>
</SdkOption>

<SdkOption name="automaticVercelMonitors" type="boolean" defaultValue="false">
  Crea automáticamente monitores cron en Sentry para tus Vercel Cron Jobs si están configurados mediante `vercel.json`.
</SdkOption>

<SdkOption name="disableManifestInjection" type="boolean|undefined" defaultValue="false">
  Desactiva la inyección automática del manifiesto de rutas en el bundle del cliente.

  El manifiesto de rutas es un mapeo generado en tiempo de compilación de tus rutas del App Router de Next.js que permite a Sentry agrupar transacciones por nombres de rutas parametrizadas (p. ej., `/users/:id` en lugar de `/users/123`, `/users/456`, etc.).

  **Desactiva esta opción si:**

  * Quieres minimizar el tamaño del bundle del cliente
  * Estás experimentando problemas de compilación relacionados con el escaneo de rutas
  * Prefieres URLs sin procesar en los nombres de transacción
  * Solo estás usando el Pages Router (esta función solo es compatible con el App Router)
</SdkOption>

<SdkOption name="reactComponentAnnotation.enabled" type="boolean" defaultValue="false">
  Habilita el seguimiento del nombre de los componentes de React. Cuando está activada, anota los componentes de React con atributos de datos que permiten a Sentry rastrear con qué componentes interactuaron los usuarios en funciones como Session Replay y breadcrumbs.
</SdkOption>

<SdkOption name="reactComponentAnnotation.ignoredComponents" type="string[] | undefined">
  Lista de nombres de componentes de React que se excluirán de la anotación de componentes.
</SdkOption>

<SdkOption name="useRunAfterProductionCompileHook" type="boolean" defaultValue="false(webpack)|true(turbopack)">
  <Alert level="info" title="Compatibilidad de versiones">
    Puedes usar esta opción con Next.js versión 15.4.1 y posteriores.
  </Alert>

  Habilita el uso del [hook `runAfterProductionCompile` de Next.js](https://nextjs.org/docs/architecture/nextjs-compiler#runafterproductioncompile) para cargar sourcemaps después de que finalice la compilación.

  * Esta opción está establecida en `true` de forma predeterminada para Turbopack, ya que no hay formas alternativas de cargar sourcemaps allí.
  * Esta opción está establecida en `false` para Webpack, ya que el comportamiento predeterminado es cargar los sourcemaps durante el proceso de compilación usando el [Sentry Webpack Plugin](https://github.com/getsentry/sentry-javascript-bundler-plugins).

  **Importante:** Activar esta opción modificará la salida de compilación de tu Next.js inyectando [Debug IDs](/es/platforms/javascript/guides/nextjs/sourcemaps/troubleshooting_js/debug-ids/) mediante la Sentry CLI. Si dependes de algún tipo de hash de integridad para tus artefactos de compilación, tendrás que desactivar esta opción.
</SdkOption>

<SdkOption name="unstable_sentryWebpackPluginOptions" type="SentryWebpackPluginOptions">
  Pasa opciones de configuración directamente al [Sentry Webpack
  Plugin](https://www.npmjs.com/package/@sentry/webpack-plugin) que se incluye con
  el SDK de Sentry para Next.js. Si `withSentryConfig` no proporciona la opción que
  necesitas modificar, puedes sobrescribir `sentryWebpackPluginOptions` usando esta
  opción.

  <Alert level="warning" title="Importante">
    Esta opción se considera inestable y su API puede cambiar de forma disruptiva
    en cualquier versión.
  </Alert>
</SdkOption>