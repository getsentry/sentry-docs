---
title: Configuración manual
sidebar_order: 1
description: "Aprende a configurar manualmente el SDK de Sentry para Angular."
---

<Alert type="info">
  Para una configuración más rápida, te recomendamos usar el [asistente de
  instalación](/es/platforms/javascript/guides/angular).
</Alert>

Si no puedes (o prefieres no) usar el asistente de instalación, sigue las instrucciones a continuación para configurar el SDK de Sentry para Angular en tu aplicación. Esta guía también es útil para ajustar la configuración predeterminada si usaste el asistente de instalación para la configuración automática.

<div id="prerequisites">
  ## Requisitos previos
</div>

Necesitas:

* Una [cuenta](https://sentry.io/signup/) de Sentry y un [proyecto](/es/product/projects/)
* Tu aplicación en funcionamiento
* Angular versión `14.0.0` o superior

<div id="step-1-install">
  ## Paso 1: Instalar
</div>

Elige las funciones que quieres configurar y esta guía te mostrará cómo:

<OnboardingOptionButtons
  options={[
  "error-monitoring",
  "performance",
  "session-replay",
  "user-feedback",
  "logs",
]}
/>

<PlatformContent includePath="getting-started-features-expandable" />

<div id="install-the-sentry-sdk">
  ### Instala el SDK de Sentry
</div>

```bash {tabTitle:npm}
npm install @sentry/angular --save
```

```bash {tabTitle:yarn}
yarn add @sentry/angular
```

```bash {tabTitle:pnpm}
pnpm add @sentry/angular
```

<Expandable title="¿Qué versión del SDK deberías usar con tu versión de Angular?" permalink="true" level="warning">
  En su versión principal actual, el SDK de Sentry para Angular es compatible con Angular 14 y versiones más recientes.

  Si usas una versión anterior de Angular, también necesitas usar una versión anterior del SDK. Consulta la tabla a continuación para obtener orientación sobre la compatibilidad:

  | Versión de Angular | SDK de Sentry recomendado                                                                            |
  | ------------------ | ---------------------------------------------------------------------------------------------------- |
  | 14 y posteriores   | `@sentry/angular`                                                                                   |
  | 12 o 13            | `@sentry/angular-ivy@^7` (ver [Nota](#what-is-sentryangular-ivy)) *                                 |
  | 10 u 11            | `@sentry/angular@^7` *                                                                              |
  | 9 y anteriores     | `@sentry/angular@^6` *                                                                              |
  | AngularJS/1.x      | `@sentry/browser@^6` con la [integración de AngularJS](/es/platforms/javascript/guides/angular/angular1) * |

  * Estas versiones del SDK ya no se mantienen ni se prueban. La versión 7 podría seguir recibiendo correcciones de errores, pero no garantizamos soporte.

  #### ¿Qué es `@sentry/angular-ivy`?

  El paquete `@sentry/angular-ivy` fue una versión compatible con Ivy de `@sentry/angular` en la versión 7 del SDK. Se recomienda usar este paquete si utilizas Angular 12 o 13 para evitar advertencias durante la compilación.
  En cuanto a funcionalidad, es idéntico a `@sentry/angular` y puedes simplemente reemplazar todas las importaciones de `@sentry/angular` por `@sentry/angular-ivy` en nuestra documentación.
  Desde la versión 8, `@sentry/angular-ivy` se <PlatformLink to="/migration/v7-to-v8/#supported-versions">eliminó y fusionó</PlatformLink> con `@sentry/angular`, que ahora es compatible con Ivy de forma predeterminada.
</Expandable>

Si estás actualizando tu SDK de Sentry a la versión más reciente, consulta nuestra [guía de migración](https://github.com/getsentry/sentry-javascript/blob/master/MIGRATION.md) para obtener más información sobre los cambios importantes.

<div id="step-2-configure">
  ## Paso 2: Configuración
</div>

La configuración principal debe realizarse lo antes posible en el ciclo de vida de tu aplicación. Normalmente, eso significa en el archivo `main.ts`.
Además, tendrás que registrar algunos proveedores para instrumentar por completo tu aplicación.

<div id="initialize-the-sdk">
  ### Inicializar el SDK
</div>

```typescript {tabTitle: App Config} {filename: main.ts} {5-48}
import { bootstrapApplication } from "@angular/platform-browser";
import { appConfig } from "./app/app.config";
import { AppComponent } from "./app/app.component";

import * as Sentry from "@sentry/angular";

Sentry.init({
  dsn: "___PUBLIC_DSN___",

  // Añade encabezados de solicitud e IP para usuarios, para más información visita:
  // https://docs.sentry.io/platforms/javascript/guides/angular/configuration/options/#sendDefaultPii
  sendDefaultPii: true,

  integrations: [
    // ___PRODUCT_OPTION_START___ performance
    // Registra y configura la integración de Tracing,
    // que instrumenta automáticamente tu aplicación para monitorear su
    // rendimiento, incluyendo instrumentación de enrutamiento personalizada de Angular
    Sentry.browserTracingIntegration(),
    // ___PRODUCT_OPTION_END___ performance
    // ___PRODUCT_OPTION_START___ session-replay
    // Registra la integración de Replay,
    // que captura automáticamente Session Replays
    Sentry.replayIntegration(),
    // ___PRODUCT_OPTION_END___ session-replay
    // ___PRODUCT_OPTION_START___ user-feedback
    Sentry.feedbackIntegration({
      // La configuración adicional del SDK va aquí, por ejemplo:
      colorScheme: "system",
    }),
    // ___PRODUCT_OPTION_END___ user-feedback
  ],
  // ___PRODUCT_OPTION_START___ performance

  // Establece tracesSampleRate en 1.0 para capturar el 100%
  // de las transacciones para el rastreo.
  // Recomendamos ajustar este valor en producción
  // Más información en
  // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,

  // Establece `tracePropagationTargets` para controlar en qué URLs debe habilitarse la propagación de rastreo
  tracePropagationTargets: ["localhost", /^https:\/\/yourserver\.io\/api/],
  // ___PRODUCT_OPTION_END___ performance
  // ___PRODUCT_OPTION_START___ session-replay

  // Captura Replay para el 10% de todas las sesiones,
  // más el 100% de las sesiones con un error
  // Más información en
  // https://docs.sentry.io/platforms/javascript/session-replay/configuration/#general-integration-configuration
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ session-replay
  // ___PRODUCT_OPTION_START___ logs

  // Habilita el envío de logs a Sentry
  enableLogs: true,
  // ___PRODUCT_OPTION_END___ logs
});

bootstrapApplication(AppComponent, appConfig).catch((err) =>
  console.error(err)
);
```

```typescript {tabTitle: NGModule Config} {filename: main.ts} {4-47}
import { platformBrowserDynamic } from "@angular/platform-browser-dynamic";
import { AppModule } from "./app/app.module";

import * as Sentry from "@sentry/angular";

Sentry.init({
  dsn: "___PUBLIC_DSN___",

  // Agrega encabezados de solicitud y la IP de los usuarios; para más información, visita:
  // https://docs.sentry.io/platforms/javascript/guides/angular/configuration/options/#sendDefaultPii
  sendDefaultPii: true,

  integrations: [
    // ___PRODUCT_OPTION_START___ performance
    // Registra y configura la integración de Tracing,
    // que instrumenta automáticamente tu aplicación para monitorear su
    // rendimiento, incluida la instrumentación personalizada del enrutamiento de Angular
    Sentry.browserTracingIntegration(),
    // ___PRODUCT_OPTION_END___ performance
    // ___PRODUCT_OPTION_START___ session-replay
    // Registra la integración de Replay,
    // que captura automáticamente las reproducciones de sesión
    Sentry.replayIntegration(),
    // ___PRODUCT_OPTION_END___ session-replay
    // ___PRODUCT_OPTION_START___ user-feedback
    Sentry.feedbackIntegration({
      // La configuración adicional del SDK va aquí, por ejemplo:
      colorScheme: "system",
    }),
    // ___PRODUCT_OPTION_END___ user-feedback
  ],
  // ___PRODUCT_OPTION_START___ performance

  // Establece tracesSampleRate en 1.0 para capturar el 100 %
  // de las transacciones para el trazado.
  // Recomendamos ajustar este valor en producción
  // Más información en
  // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,

  // Establece `tracePropagationTargets` para controlar para qué URL se debe habilitar la propagación de trazas
  tracePropagationTargets: ["localhost", /^https:\/\/yourserver\.io\/api/],
  // ___PRODUCT_OPTION_END___ performance
  // ___PRODUCT_OPTION_START___ session-replay

  // Captura Replay para el 10 % de todas las sesiones,
  // además del 100 % de las sesiones con un error
  // Más información en
  // https://docs.sentry.io/platforms/javascript/session-replay/configuration/#general-integration-configuration
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ session-replay
  // ___PRODUCT_OPTION_START___ logs

  // Habilita el envío de logs a Sentry
  enableLogs: true,
  // ___PRODUCT_OPTION_END___ logs
});

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch((err) => console.error(err));
```

<div id="register-sentry-providers">
  ### Registrar proveedores de Sentry
</div>

El SDK de Sentry para Angular exporta algunos proveedores de Angular necesarios para instrumentar por completo tu aplicación. Recomendamos registrarlos en tu `app.config.ts` o en el `app.module.ts` principal:

```typescript {tabTitle: App Config (Angular 19+)} {filename: app.config.ts} {9, 14-25}
import {
  ApplicationConfig,
  ErrorHandler,
  inject,
  provideAppInitializer,
} from "@angular/core";
import { Router } from "@angular/router";

import * as Sentry from "@sentry/angular";

export const appConfig: ApplicationConfig = {
  providers: [
    // ...
    {
      provide: ErrorHandler,
      useValue: Sentry.createErrorHandler(),
    },
    // ___PRODUCT_OPTION_START___ rendimiento
    {
      provide: Sentry.TraceService,
      deps: [Router],
    },
    provideAppInitializer(() => {
      inject(TraceService);
    }),
    // ___PRODUCT_OPTION_END___ rendimiento
  ],
};
```

```typescript {tabTitle: App Config (Angular <=18)} {filename: app.config.ts} {8, 13-28}
import {
  APP_INITIALIZER,
  ApplicationConfig,
  ErrorHandler,
} from "@angular/core";
import { Router } from "@angular/router";

import * as Sentry from "@sentry/angular";

export const appConfig: ApplicationConfig = {
  providers: [
    // ...
    {
      provide: ErrorHandler,
      useValue: Sentry.createErrorHandler(),
    },
    // ___PRODUCT_OPTION_START___ performance
    {
      provide: Sentry.TraceService,
      deps: [Router],
    },
    {
      provide: APP_INITIALIZER,
      useFactory: () => () => {},
      deps: [Sentry.TraceService],
      multi: true,
    },
    // ___PRODUCT_OPTION_END___ performance
  ],
};
```

```typescript {tabTitle: NGModule Config} {filename: app.module.ts} {4, 9-24}
import { APP_INITIALIZER, ErrorHandler, NgModule } from "@angular/core";
import { Router } from "@angular/router";

import * as Sentry from "@sentry/angular";

@NgModule({
  // ...
  providers: [
    {
      provide: ErrorHandler,
      useValue: Sentry.createErrorHandler(),
    },
    // ___PRODUCT_OPTION_START___ performance
    {
      provide: Sentry.TraceService,
      deps: [Router],
    },
    {
      provide: APP_INITIALIZER,
      useFactory: () => () => {},
      deps: [Sentry.TraceService],
      multi: true,
    },
    // ___PRODUCT_OPTION_END___ performance
  ],
  // ...
})
export class AppModule {}
```

<Alert>
  Si tu aplicación de Angular está configurada para SSR, asegúrate de que los proveedores de Sentry no se incluyan por accidente en la configuración de SSR (`app.config.server.ts`). El SDK de Sentry para Angular solo puede usarse en el navegador.
</Alert>

<OnboardingOption optionId="performance">
  <Expandable title="Configuración alternativa de TraceService" permalink="true">
    Si usas una aplicación basada en NGModule (`app.module.ts`), también puedes inyectar la dependencia `TraceService` dentro del constructor de tu `AppModule`, en lugar de proporcionar `APP_INITIALIZER`:

    ```javascript {tabTitle: NGModule Config} {filename: app.module.ts} {5}
    @NgModule({
      // ...
    })
    export class AppModule {
      constructor(trace: Sentry.TraceService) {}
    }
    ```
  </Expandable>
</OnboardingOption>

<div id="step-3-add-readable-stack-traces-with-source-maps-optional">
  ## Paso 3: Añade trazas de pila legibles con mapas de origen (opcional)
</div>

<PlatformContent includePath="getting-started-sourcemaps-short-version" />

También puedes consultar nuestra documentación sobre <PlatformLink to="/sourcemaps">carga de mapas de origen</PlatformLink>

<div id="step-4-avoid-ad-blockers-with-tunneling-optional">
  ## Paso 4: Evita los bloqueadores de anuncios con túnel (opcional)
</div>

<PlatformContent includePath="getting-started-tunneling" />

<div id="step-5-verify">
  ## Paso 5: Verificar
</div>

Probemos tu configuración y confirmemos que Sentry funciona correctamente y envía datos a tu proyecto en Sentry.

<div id="issues">
  ### Incidencias
</div>

Para comprobar que Sentry captura errores y crea incidencias en tu proyecto de Sentry, añade el siguiente botón de prueba a uno de tus componentes (por ejemplo, `app.component.ts`); al hacer clic, se provocará un error que Sentry capturará:

```javascript {filename: app.component.ts} {5, 9-11}
@Component({
    selector: "app-root",
    template: `
      <!-- resto de tu página -->
      <button (click)="throwTestError()">Probar error de Sentry</button>`
})
class AppComponent {
  // ...
  throwTestError(): void {
      throw new Error("Error de prueba de Sentry");
  }
}
```

<OnboardingOption optionId="performance" hideForThisOption>
  Abre la página en un navegador y haz clic en el botón para generar un error de frontend.
</OnboardingOption>

<PlatformContent includePath="getting-started-browser-sandbox-warning" />

<OnboardingOption optionId="performance">
  ### Trazas

  Para probar tu configuración de trazas, actualiza el fragmento de código anterior para iniciar una traza y medir el tiempo que tarda en ejecutarse tu código:

  ```javascript {filename: app.component.ts} {10-11, 13-14}
  @Component({
      selector: "app-root",
      template: `
        <!-- rest of your page -->
        <button (click)="throwTestError()">Test Sentry Error</button>`
  })
  class AppComponent {
    // ...
    throwTestError(): void {
      Sentry.startSpan({ op: "test", name: "Example Span" }, () => {
        setTimeout(() => {
          throw new Error("Sentry Test Error");
        }, 99);
      });
    }
  }
  ```

  Abre la página en un navegador y haz clic en el botón para generar un error de frontend y una traza de rendimiento.
</OnboardingOption>

<div id="view-captured-data-in-sentry">
  ### Ver los datos capturados en Sentry
</div>

Ahora, dirígete a tu proyecto en [Sentry.io](https://sentry.io/) para ver los datos recopilados (puede tardar unos momentos en aparecer).

<PlatformContent includePath="getting-started-verify-locate-data" />

<div id="next-steps">
  ## Próximos pasos
</div>

A estas alturas, deberías haber integrado Sentry en tu aplicación Angular y ya estar enviando datos a tu proyecto de Sentry.

Ahora es un buen momento para personalizar tu configuración y explorar temas más avanzados. Te recomendamos seguir estos pasos:

* Amplía Sentry a tu backend usando uno de nuestros [SDK](/es/)
* Sigue <PlatformLink to="/configuration">personalizando tu configuración</PlatformLink>
* Aprovecha las <PlatformLink to="/features">funciones específicas de Angular</PlatformLink>
* Aprende a <PlatformLink to="/usage">capturar errores manualmente</PlatformLink>

<Expandable permalink={false} title="¿Tienes problemas para configurar el SDK?">
  - Si tuviste problemas al configurar Sentry manualmente, [prueba nuestro asistente de instalación](/es/platforms/javascript/guides/angular/)
  - Encuentra diversos temas en <PlatformLink to="/troubleshooting">Solución de problemas</PlatformLink>
  - [Obtén soporte](https://sentry.zendesk.com/hc/en-us/)
</Expandable>