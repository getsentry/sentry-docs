---
title: Google Cloud Functions
description: "Aprende a usar el SDK de Google Cloud Functions de Sentry."
sdk: sentry.javascript.google-cloud-serverless
fallbackGuide: javascript.node
categories:
  - javascript
  - server
  - server-node
  - serverless
---

<Alert>
  Esta guía es para la versión 8.0.0 y posteriores de `@sentry/google-cloud-serverless`.
</Alert>

<div id="features">
  ## Funcionalidades
</div>

Además de capturar errores, puedes supervisar las interacciones entre varios servicios o aplicaciones [activando el tracing](/es/concepts/key-terms/tracing/). También puedes recopilar y analizar perfiles de rendimiento de usuarios reales con [profiling](/es/product/explore/profiling/).

Selecciona qué funcionalidades de Sentry quieres instalar, además de Error Monitoring, para obtener a continuación las instrucciones correspondientes de instalación y configuración.

<div id="install">
  ## Instalación
</div>

<OnboardingOptionButtons options={["error-monitoring", "performance", "profiling", "logs"]} />

Añade `@sentry/google-cloud-serverless` como una dependencia en `package.json`:

<PlatformContent includePath="getting-started-install" />

<div id="configure">
  ## Configuración
</div>

Para configurar Sentry en una función de Google Cloud:

```javascript {tabTitle:Http functions}
const Sentry = require("@sentry/google-cloud-serverless");

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  
  // Agrega encabezados de solicitud e IP para usuarios, para más información visita:
  // https://docs.sentry.io/platforms/javascript/guides/gcp-functions/configuration/options/#sendDefaultPii
  sendDefaultPii: true,
  // ___PRODUCT_OPTION_START___ performance

  // Agrega Tracing configurando tracesSampleRate y añadiendo integración
  // Establece tracesSampleRate en 1.0 para capturar el 100% de las transacciones
  // Recomendamos ajustar este valor en producción
  // Más información en
  // https://docs.sentry.io/platforms/javascript/configuration/options/#traces-sample-rate
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
});

exports.helloHttp = Sentry.wrapHttpFunction((req, res) => {
  throw new Error("oh, hola!");
});
```

```javascript {tabTitle:Background functions}
const Sentry = require("@sentry/google-cloud-serverless");

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  // ___PRODUCT_OPTION_START___ performance
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
});

exports.helloEvents = Sentry.wrapEventFunction(
  (data, context, callback) => {
    throw new Error("¡oh, hola!");
  }
);
```

```javascript {tabTitle:CloudEvent functions}
const Sentry = require("@sentry/google-cloud-serverless");

Sentry.init({
  dsn: "___PUBLIC_DSN___",
  // ___PRODUCT_OPTION_START___ performance
  tracesSampleRate: 1.0,
  // ___PRODUCT_OPTION_END___ performance
});

exports.helloEvents = Sentry.wrapCloudEventFunction(
  (context, callback) => {
    throw new Error("¡oh, hola!");
  }
);
```

<Alert level="warning" title="Nota">
  El SDK de Sentry para JavaScript en entornos serverless no es compatible actualmente con Cloud Functions for Firebase.
</Alert>

Consulta las [aplicaciones de ejemplo de GCP](https://github.com/getsentry/examples/tree/master/gcp-cloud-functions/node) de Sentry para ver ejemplos detallados. Revisa la [documentación de JavaScript](/es/platforms/javascript/) para conocer más opciones de configuración.

<div id="behavior">
  ## Comportamiento
</div>

Con la integración de Google Cloud Functions habilitada, el SDK de Node:

* Informará automáticamente todos los eventos de tus Cloud Functions.
* Te permite <PlatformLink to="/configuration/sampling/#configuring-the-transaction-sample-rate">modificar la tasa de muestreo de transacciones</PlatformLink> usando <PlatformIdentifier name="traces-sample-rate" />.
* Los informes de incidencias incluyen automáticamente:
  * Un enlace a los registros de Stackdriver
  * Detalles de la función
  * sys.argv de la función
  * Tiempo de ejecución de la función
  * Versión de la función
* Sentry mantiene el hilo hasta por dos segundos para informar errores. Puedes cambiar el límite de tiempo de vaciado definiendo un valor de `flushTimeout` en las opciones del controlador