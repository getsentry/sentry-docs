---
title: Configurar Session Replay
sidebar_title: Session Replay
sidebar_order: 5500
notSupported:
description: "Aprende a habilitar Session Replay en tu app móvil."
---

<Alert>
  Flutter Session Replay está disponible en **iOS** y **Android**.
</Alert>

[Session Replay](/es/product/explore/session-replay/) te ayuda a identificar más rápido la causa raíz de un error o problema de latencia al ofrecerte una reproducción de lo que ocurría en el dispositivo del usuario antes, durante y después del problema. Puedes rebobinar y reproducir el estado de tu aplicación y ver interacciones clave del usuario, como toques, deslizamientos, solicitudes de red y entradas de la consola, en una única interfaz.

De forma predeterminada, nuestro SDK de Session Replay enmascara todo el contenido de texto, las imágenes y la entrada del usuario, lo que te da mayor tranquilidad de que ningún dato sensible saldrá del dispositivo. Para obtener más información, consulta la [documentación del producto](/es/product/explore/session-replay/).

<div id="pre-requisites">
  ## Requisitos previos
</div>

Asegúrate de que la versión de tu Sentry Flutter SDK sea al menos `9.0.0`, necesaria para Session Replay.
Puedes actualizar tu `pubspec.yaml` a la versión correspondiente:

```yaml
dependencies:
  sentry_flutter: ^9.0.0
```

<div id="setup">
  ## Configuración
</div>

Para configurar Replay, actívalo definiendo una tasa de muestreo mayor que cero y envolviendo tu widget raíz con `SentryWidget`:

```dart
await SentryFlutter.init(
  (options) {
    options.dsn = '___DSN___';
    options.replay.sessionSampleRate = 1.0;
    options.replay.onErrorSampleRate = 1.0;
  },
  appRunner: () => runApp(
    SentryWidget(
      child: MyApp(),
    ),
  ),
);
```

Para obtener más información sobre las propiedades disponibles, consulta [SentryReplayOptions](https://pub.dev/documentation/sentry_flutter/latest/sentry_flutter/SentryReplayOptions-class.html), que forma parte de [SentryFlutterOptions](https://pub.dev/documentation/sentry_flutter/latest/sentry_flutter/SentryFlutterOptions-class.html).

<div id="verify">
  ## Verifica
</div>

Mientras haces pruebas, te recomendamos configurar `sessionSampleRate` en `1.0`. Esto garantiza que cada sesión de usuario se envíe a Sentry.

Una vez que finalices las pruebas, **recomendamos reducir este valor en producción**. Aun así, recomendamos mantener `onErrorSampleRate` en `1.0`.

<div id="user-session">
  ## Sesión de usuario
</div>

Una sesión de usuario comienza cuando se inicializa el SDK de Sentry o cuando la aplicación pasa al primer plano. La sesión capturará transiciones de pantalla, navegaciones, toques y otros eventos hasta que la aplicación pase a segundo plano. Si la aplicación vuelve al primer plano dentro de 30 segundos (valor predeterminado), se usará el mismo `replay_id` y la sesión continuará.

La sesión finalizará si la aplicación ha permanecido en segundo plano más de 30 segundos o cuando se alcance la duración máxima de 60 minutos. Puedes ajustar el [intervalo de seguimiento de la sesión](/es/platforms/dart/guides/flutter/configuration/releases/#sessions) para ampliar o acortar la duración de una sola reproducción, según tus necesidades.

<div id="replay-captures-on-errors-only">
  ### Capturas de reproducción solo en caso de errores
</div>

Si prefieres no grabar toda la sesión, puedes optar por capturar una reproducción únicamente cuando ocurra un error. En ese caso, la integración almacenará en búfer hasta un minuto de eventos previos al momento en que se produzca el error. Luego continuará grabando la sesión, siguiendo las reglas anteriores sobre duración y actividad de la sesión. Consulta la sección de [muestreo](#sampling) para ver las opciones de configuración.

<div id="sampling">
  ## Muestreo
</div>

El muestreo te permite controlar qué porcentaje del tráfico de tu sitio web generará una Reproducción de sesión. Hay dos tasas de muestreo que puedes ajustar para obtener las reproducciones relevantes para ti:

1. `sessionSampleRate` - La tasa de muestreo para reproducciones que empiezan a grabar de inmediato y abarcan toda la sesión del usuario.
2. `onErrorSampleRate` - La tasa de muestreo para reproducciones que se registran cuando ocurre un error. Este tipo de reproducción guardará
   hasta un minuto de eventos previos al error y seguirá grabando hasta que la sesión termine.

El muestreo comienza tan pronto como empieza una sesión. Luego se evalúa `sessionSampleRate`. Si la sesión entra en la muestra, la grabación de la reproducción empezará de inmediato. Si no, se evaluará `onErrorSampleRate`. Si la sesión entra en la muestra en este punto, la reproducción se almacenará en búfer y solo se subirá a Sentry si ocurre un error.

<div id="pii-privacy-considerations">
  ## Consideraciones sobre PII y privacidad
</div>

La información de identificación personal (PII) y la privacidad son aspectos importantes al habilitar Session Replay. El SDK de Sentry para Flutter enmascara de forma agresiva, de manera predeterminada, todos los widgets `Text`, `EditableText`, `RichText` e `Image`.

Aunque existen medidas de privacidad predeterminadas, es posible que necesites configurar opciones adicionales para enmascarar por completo el contenido de tu app.
No podemos detectar el uso de widgets de terceros como [FlutterMap](https://pub.dev/packages/flutter_map), por lo que debes configurar manualmente la privacidad para enmascarar el contenido de estos widgets.
Para obtener más información sobre la privacidad de Session Replay, [lee nuestra documentación.](/es/platforms/dart/guides/flutter/session-replay/privacy/)

<div id="error-linking">
  ## Vinculación de errores
</div>

Los errores que ocurren mientras se ejecuta una repetición se vincularán a esa repetición, lo que permite alternar entre problemas y repeticiones relacionados. Sin embargo, es **posible** que en algunos casos el recuento de errores que se muestra en la página **Replays Details** no coincida con los errores realmente capturados. Esto se debe a que algunos errores pueden perderse; aunque es poco común, hay varias razones por las que puede ocurrir:

* La repetición alcanzó el límite de tasa y no pudo aceptarse.
* La repetición fue eliminada por un miembro de tu organización.
* Hubo errores de red y la repetición no se guardó.