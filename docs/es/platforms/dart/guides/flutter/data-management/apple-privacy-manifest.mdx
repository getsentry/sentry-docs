---
title: Manifiesto de privacidad de Apple
description: "Soluciona y resuelve problemas comunes con el Manifiesto de privacidad de Apple y el SDK de Sentry para Flutter."
sidebar_order: 50
---

<Alert>
Esta guía requiere [@sentry/dart@7.20.1](https://github.com/getsentry/sentry-dart/releases/tag/7.20.1) o una versión posterior.
</Alert>

Los SDK de Sentry ofrecen captura de errores y trazas para aplicaciones móviles que se ejecutan en dispositivos Apple. Para ello, el SDK necesita acceder a cierta información del dispositivo y de la aplicación. Algunas de las API necesarias para esto se consideran relevantes para la privacidad por Apple. Para enviar apps al App Store, Apple exige que todas las apps —y las bibliotecas usadas dentro de ellas— proporcionen archivos de manifiesto de privacidad que indiquen qué API se usan y por qué motivos permitidos. Para más detalles, consulta las directrices de Apple sobre [Describir el uso de API con motivo requerido](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api).

<Alert>
La información y los pasos de esta guía aún están en desarrollo y pueden cambiar debido a nuevas herramientas o a [requisitos de Apple](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files) actualizados.
</Alert>

Si usas frameworks vinculados dinámicamente, que es el valor predeterminado en aplicaciones Flutter, Apple procesará automáticamente el manifiesto de privacidad del SDK. Si usas bibliotecas vinculadas estáticamente, deberás proporcionar tú mismo el manifiesto de privacidad. Esta guía te ayudará a crear el manifiesto de privacidad para tus aplicaciones Flutter.

<div id="create-privacy-manifest-in-xcode">
  ## Crear el manifiesto de privacidad en Xcode
</div>

Crea un archivo de manifiesto de privacidad en tu proyecto de Xcode. Este archivo debe llamarse `PrivacyInfo.xcprivacy` y ubicarse en la raíz de tu proyecto de Xcode. Sigue la guía de Apple [Privacy manifest files](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files#4284009) para crear el archivo.

Ten en cuenta que el manifiesto de privacidad de la aplicación abarca todos los usos de datos (mediante `NSPrivacyCollectedDataTypes`) y los usos de API (mediante `NSPrivacyAccessedAPITypes`) para *toda la aplicación* y *todas las bibliotecas incluidas*. El siguiente ejemplo refleja los requisitos actuales únicamente para el SDK de Sentry. Si usas otras bibliotecas que acceden a API relevantes para la privacidad, también debes incluirlas en el manifiesto de privacidad.

```xml {filename:PrivacyInfo.xcprivacy}
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>NSPrivacyCollectedDataTypes</key>
	<array>
		<dict>
			<key>NSPrivacyCollectedDataType</key>
			<string>NSPrivacyCollectedDataTypeCrashData</string>
			<key>NSPrivacyCollectedDataTypeLinked</key>
			<false/>
			<key>NSPrivacyCollectedDataTypeTracking</key>
			<false/>
			<key>NSPrivacyCollectedDataTypePurposes</key>
			<array>
				<string>NSPrivacyCollectedDataTypePurposeAppFunctionality</string>
			</array>
		</dict>
		<dict>
			<key>NSPrivacyCollectedDataType</key>
			<string>NSPrivacyCollectedDataTypePerformanceData</string>
			<key>NSPrivacyCollectedDataTypeLinked</key>
			<false/>
			<key>NSPrivacyCollectedDataTypeTracking</key>
			<false/>
			<key>NSPrivacyCollectedDataTypePurposes</key>
			<array>
				<string>NSPrivacyCollectedDataTypePurposeAppFunctionality</string>
			</array>
		</dict>
		<dict>
			<key>NSPrivacyCollectedDataType</key>
			<string>NSPrivacyCollectedDataTypeOtherDiagnosticData</string>
			<key>NSPrivacyCollectedDataTypeLinked</key>
			<false/>
			<key>NSPrivacyCollectedDataTypeTracking</key>
			<false/>
			<key>NSPrivacyCollectedDataTypePurposes</key>
			<array>
				<string>NSPrivacyCollectedDataTypePurposeAppFunctionality</string>
			</array>
		</dict>
	</array>
	<key>NSPrivacyAccessedAPITypes</key>
	<array>
		<dict>
			<key>NSPrivacyAccessedAPIType</key>
			<string>NSPrivacyAccessedAPICategoryUserDefaults</string>
			<key>NSPrivacyAccessedAPITypeReasons</key>
			<array>
				<string>CA92.1</string>
			</array>
		</dict>
		<dict>
			<key>NSPrivacyAccessedAPIType</key>
			<string>NSPrivacyAccessedAPICategorySystemBootTime</string>
			<key>NSPrivacyAccessedAPITypeReasons</key>
			<array>
				<string>35F9.1</string>
			</array>
		</dict>
		<dict>
			<key>NSPrivacyAccessedAPIType</key>
			<string>NSPrivacyAccessedAPICategoryFileTimestamp</string>
			<key>NSPrivacyAccessedAPITypeReasons</key>
			<array>
				<string>C617.1</string>
			</array>
		</dict>
	</array>
</dict>
</plist>
```


<div id="troubleshooting">
  ## Solución de problemas
</div>

- Las API enumeradas son necesarias para que el SDK funcione correctamente y no es posible excluirlas.

- Si usas una versión anterior del SDK, puede que necesites actualizar a la versión [7.20.1](https://github.com/getsentry/sentry-dart/releases/tag/7.20.1) o posterior para incluir automáticamente el manifiesto de privacidad para frameworks vinculados dinámicamente.

- Para comprobar que el manifiesto de privacidad esté incluido correctamente en tu app, compila y envía tu app a App Store o a TestFlight para pruebas externas. Si el manifiesto falta, recibirás un correo electrónico de Apple con el asunto “The uploaded build for YourAppName has one or more issues” que enumera las declaraciones de API faltantes.