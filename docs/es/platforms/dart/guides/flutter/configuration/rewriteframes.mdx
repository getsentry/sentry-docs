---
title: Reescribir frames
sidebar_order: 70
description: "Aprende cómo y por qué reescribir frames de trazas de pila en el SDK de Flutter de Sentry."
---

Hay ocasiones en las que quizá quieras reescribir los frames de la traza de pila antes de enviarlos a Sentry. Por ejemplo, si publicas tu aplicación de Flutter en la web y quieres establecer un `url_prefix` porque no está desplegada en la raíz de tu URL. En ese caso, la ruta absoluta de tus frames de la pila también debe incluir el mismo prefijo para que se puedan encontrar los source maps y realizar la desofuscación.

Para establecer el `url_prefix`, usa el [Sentry Dart Plugin](https://github.com/getsentry/sentry-dart-plugin). A continuación se muestra un ejemplo de cómo actualizar la ruta absoluta del frame de la pila para incluir el prefijo usando el hook <PlatformLink to="/configuration/options/#before-send"><PlatformIdentifier name="before-send" /></PlatformLink>.

```dart
options.beforeSend = (event, hint) async {
  final exceptions = event.exceptions?.map((exception) {
    final stackTrace = exception.stackTrace;
    if (stackTrace != null) {
      final frames = stackTrace.frames.map((frame) {
        const baseUrl = 'https://example.com/';
        final modifiedAbsPath = frame.absPath?.replaceFirst(
          baseUrl,
          '${baseUrl}my_prefix/',
        );
        frame.absPath = modifiedAbsPath;
        return frame;
      }).toList();
      exception.stackTrace = SentryStackTrace(frames: frames);
      return exception;
    }
    return exception;
  }).toList();
  event.exceptions = exceptions ?? [];
  return event;
};
```
