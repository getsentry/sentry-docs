---
title: Filtrado
sidebar_order: 60
description: "Obtén más información sobre cómo configurar tu SDK para filtrar eventos informados a Sentry."
---

Cuando integras Sentry en tu app, obtienes mucha información valiosa sobre errores y rendimiento. Y mucha información es buena, siempre y cuando sea la correcta y en una cantidad razonable.

Los SDK de Sentry ofrecen varias opciones de configuración para ayudarte a filtrar eventos.

También ofrecemos [Filtros de entrada](/es/concepts/data-management/filtering/) para filtrar eventos en sentry.io. Aun así, recomendamos filtrar en el cliente, porque evita la sobrecarga de enviar eventos que en realidad no quieres. Obtén más información sobre los [campos disponibles en un evento](https://develop.sentry.dev/sdk/data-model/event-payloads/).

<div id="filtering-error-events">
  ## Filtrado de eventos de error
</div>

Configura tu SDK para filtrar eventos de error usando la devolución de llamada <PlatformIdentifier name="before-send" /> y activando, desactivando o configurando integraciones.

### Uso de <PlatformIdentifier name="ignore-errors" />

Puedes usar la opción <PlatformIdentifier name="ignore-errors" /> para excluir errores que coincidan con un patrón determinado. Esta opción recibe una lista de cadenas y expresiones regulares para comparar con el mensaje de error. Al usar cadenas, se filtrarán las coincidencias parciales. Si necesitas filtrar por coincidencia exacta, usa patrones de regex.

<PlatformContent includePath="configuration/ignore-errors" />

### Uso de <PlatformIdentifier name="before-send" />

Todos los SDK de Sentry admiten el callback <PlatformIdentifier name="before-send" />. Como se ejecuta justo antes de enviar el evento al servidor, es tu última oportunidad para decidir no enviar los datos o editarlos. <PlatformIdentifier name="before-send" /> recibe el objeto del evento como parámetro, que puedes usar para modificar los datos del evento o descartarlo por completo devolviendo `null`, según tu lógica personalizada y la información disponible en el evento.

<PlatformContent includePath="configuration/before-send/" />

Ten en cuenta que también puedes filtrar los breadcrumbs, como se explica en [nuestra documentación de Breadcrumbs](/es/product/error-monitoring/breadcrumbs/).

<div id="event-hints">
  #### Sugerencias de eventos
</div>

La devolución de llamada <PlatformIdentifier name="before-send" /> recibe tanto el `event` como un segundo argumento, `hint`, que contiene una o varias sugerencias.

Normalmente, un `hint` incluye la excepción original para poder extraer datos adicionales o influir en la agrupación. En este ejemplo, la huella digital se fuerza a un valor común si se ha detectado una excepción de cierto tipo:

<PlatformContent includePath="configuration/before-send-hint" />

Cuando el SDK crea un evento o breadcrumb para su envío, este suele generarse a partir de algún tipo de objeto de origen. Por ejemplo, un evento de error suele crearse a partir de un registro de log o una instancia de excepción. Para una mejor personalización, los SDK envían estos objetos a ciertas devoluciones de llamada (<PlatformIdentifier name="before-send" />, <PlatformIdentifier name="before-breadcrumb" />) o al sistema de procesadores de eventos del SDK.

<div id="using-hints">
  ### Uso de hints
</div>

Los hints están disponibles en dos lugares:

1. <PlatformIdentifier name="before-send" /> / <PlatformIdentifier name="before-breadcrumb" />
2. `eventProcessors`

Los `hints` de eventos y breadcrumbs son objetos que contienen diversa información utilizada para construir un evento o un breadcrumb. Normalmente, los `hints` conservan la excepción original para poder extraer datos adicionales o afectar la agrupación.

Para los eventos, los hints incluyen propiedades como `event_id`, `originalException`, `syntheticException` (usada internamente para generar un stack trace más limpio) y cualquier otro `data` arbitrario que adjuntes.

En el caso de los breadcrumbs, el uso de `hints` depende de la implementación. Para solicitudes XHR, el hint contiene el propio objeto xhr; para interacciones de usuario, el hint contiene el elemento del DOM y el nombre del evento, y así sucesivamente.

<PlatformContent includePath="configuration/before-send-fingerprint">
  En este ejemplo, la fingerprint se fuerza a un valor común si se ha capturado una excepción de cierto tipo:
</PlatformContent>

<div id="hints-for-events">
  #### Sugerencias para eventos
</div>

`originalException`

La excepción original que hizo que el SDK de Sentry creara el evento. Esto es útil para cambiar cómo el SDK de Sentry agrupa los eventos o para extraer información adicional.

`syntheticException`

Cuando se lanza una cadena o un objeto que no es un error, Sentry crea una excepción sintética para que puedas obtener un rastreo de pila básico. Esta excepción se almacena aquí para extraer datos adicionales.

<div id="hints-for-breadcrumbs">
  #### Sugerencias para breadcrumbs
</div>

<PlatformContent includePath="configuration/breadcrumb-hints" />

<div id="filtering-transaction-events">
  ## Filtrar eventos de transacción
</div>

Para evitar que ciertas transacciones se envíen a Sentry, usa la opción de configuración <PlatformIdentifier name="traces-sampler" /> o <PlatformIdentifier name="before-send-transaction" />, que te permite proporcionar una función para evaluar la transacción actual y descartarla si no es una que quieras conservar.

### Uso de <PlatformIdentifier name="ignore-transactions" />

Puedes usar la opción <PlatformIdentifier name="ignore-transactions" /> para filtrar transacciones que coincidan con un patrón determinado. Esta opción recibe una lista de cadenas y expresiones regulares para comparar con el nombre de la transacción. Al usar cadenas, se filtrarán también las coincidencias parciales. Si necesitas filtrar por coincidencia exacta, usa patrones de regex en su lugar.

<PlatformContent includePath="configuration/ignore-transactions" />

### Uso de <PlatformIdentifier name="traces-sampler" />

**Nota:** Las opciones de configuración <PlatformIdentifier name="traces-sampler" /> y <PlatformIdentifier name="traces-sample-rate" /> son mutuamente excluyentes. Si defines un <PlatformIdentifier name="traces-sampler" /> para filtrar ciertas transacciones, también debes manejar el caso de las transacciones no filtradas devolviendo la tasa a la que quieres muestrearlas.

En su forma más simple, usada solo para filtrar la transacción, se ve así:

<PlatformContent includePath="performance/traces-sampler-as-filter" />

También te permite muestrear distintas transacciones a diferentes tasas.

Si la transacción que se está procesando tiene una transacción principal (de un servicio upstream que llama a este), la decisión de muestreo del padre (upstream) siempre se incluirá en los datos del contexto de muestreo, para que tu <PlatformIdentifier name="traces-sampler" /> pueda decidir si y cuándo heredar esa decisión. En la mayoría de los casos, heredar es lo correcto para evitar romper trazas distribuidas. Una traza rota no incluirá todos tus servicios. Consulta <PlatformLink to="/configuration/sampling/#inheritance">Heredar la decisión de muestreo del padre</PlatformLink> para obtener más información.

Más información sobre <PlatformLink to="/configuration/sampling/">configurar la tasa de muestreo</PlatformLink>.