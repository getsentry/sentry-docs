---
title: Usuarios
description: >-
  Aprende a configurar el SDK para capturar al usuario y obtener información
  clave que conforma una identidad única en Sentry.
og_image: /og-images/platforms-unreal-enriching-events-identify-user.png
---

Los usuarios se componen de algunas piezas clave de información que conforman una identidad única en Sentry. Cada una es opcional, pero una **debe** estar presente para que el SDK de Sentry capture al usuario:

<DefinitionList>
  ### `id`

  Tu identificador interno del usuario.

  ### `username`

  El nombre de usuario. Suele usarse como una mejor etiqueta que el id interno.

  ### `email`

  Una alternativa, o un complemento, al nombre de usuario. Sentry reconoce las direcciones de correo electrónico y puede mostrar elementos como Gravatars y habilitar funciones de mensajería.

  ### `ip_address`

  La dirección IP del usuario. Si el usuario no está autenticado, Sentry usa la dirección IP como identificador único del usuario.
  Los SDK del lado del servidor que instrumentan solicitudes entrantes intentarán obtener la dirección IP de los datos de la solicitud HTTP (campo `request.env.REMOTE_ADDR` en JSON), si está disponible. Esto podría requerir <PlatformIdentifier name="send-default-pii" /> establecido en `true` en las opciones del SDK.

  Si el `ip_address` del usuario está configurado como `"{{auto}}"`, Sentry inferirá la dirección IP a partir de la conexión entre tu aplicación y el servidor de Sentry.

  Si se omite el campo, el valor predeterminado es `null`. Sin embargo, por motivos de compatibilidad retroactiva, ciertas plataformas (en particular JavaScript) tienen un valor predeterminado diferente para `"{{auto}}"`. Los SDK y otros clientes no deberían depender de este comportamiento y deberían establecer direcciones IP o `"{{auto}}"` explícitamente.

  Para no almacenar las direcciones IP de los usuarios en los datos de tus eventos, ve a la configuración de tu proyecto, haz clic en &quot;Security &amp; Privacy&quot; y habilita &quot;Prevent Storing of IP Addresses&quot;, o usa la limpieza de [server-side data](/es/security-legal-pii/scrubbing/) de Sentry para eliminar `$user.ip_address`. Agregar esa regla finalmente invalida cualquier otra lógica.
</DefinitionList>

Además, puedes proporcionar pares arbitrarios de clave/valor más allá de los nombres reservados, y el SDK de Sentry los almacenará junto con el usuario.

Para identificar al usuario:

```cpp
USentrySubsystem* SentrySubsystem = GEngine->GetEngineSubsystem<USentrySubsystem>();

TMap<FString, FString> AdditionalData;
AdditionalData.Add("DogName", "Spot");

USentryUser* User = NewObject<USentryUser>();
User->SetEmail("user@sentry.io");
User->SetId("123");
User->SetUsername("AwesomeUser99");
User->SetIpAddress("127.0.0.1");
User->SetData(AdditionalData);

SentrySubsystem->SetUser(User);
```

El mismo resultado se puede obtener llamando a la función correspondiente en Blueprint:

![Set user](./img/unreal_set_user.png)

Como alternativa, esta configuración se puede proporcionar al crash reporter [durante la inicialización](/es/platforms/unreal/configuration/setup-crashreporter/#configure-attributes).

También puedes borrar el usuario actualmente establecido:

```cpp
USentrySubsystem* SentrySubsystem = GEngine->GetEngineSubsystem<USentrySubsystem>();

SentrySubsystem->RemoveUser();
```

O en Blueprint:

![Unset user](./img/unreal_unset_user.png)

En configuraciones con un crash reporter, crea un nuevo objeto de configuración `__sentry` sin el campo `user`. Luego, llama a `FGenericCrashContext::SetGameData` desde la [función de inicialización](/es/platforms/unreal/configuration/setup-crashreporter/#configure-attributes) con los nuevos datos JSON. Debes volver a proporcionar todos los demás campos, ya que la llamada sobrescribe los datos registrados previamente.
