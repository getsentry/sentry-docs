---
title: Archivos adjuntos
description: >-
  Obtén más información sobre cómo Sentry puede almacenar archivos adicionales en la misma solicitud como
  adjuntos del evento.
og_image: /og-images/platforms-unreal-enriching-events-attachments.png
---

<Alert>
  Esta función solo es compatible con iOS y Android.
</Alert>

Sentry puede enriquecer tus eventos para facilitar su investigación almacenando archivos adicionales, como archivos de configuración o de registro, como adjuntos.

<div id="creating-attachments">
  ## Creación de adjuntos
</div>

La forma más sencilla de crear un adjunto es usar una `ruta`. El SDK leerá el contenido del archivo cada vez que prepare un evento o una transacción y luego agregará el adjunto al mismo [envelope](https://develop.sentry.dev/sdk/data-model/envelopes/). Si el SDK no puede leer el archivo, registrará un mensaje de error y descartará el adjunto.

```cpp
#include "SentryAttachment.h"

const FString& Path = "tu/ruta/archivo.log";
const FString& Filename = "archivo.log";

USentryAttachment* Attachment = NewObject<USentryAttachment>();
Attachment->InitializeWithPath(Path, Filename);
```

El mismo resultado puede lograrse llamando a la función `CreateSentryAttachmentWithPath` en Blueprint.

Como alternativa, utiliza `bytes` para inicializar un adjunto. Al hacerlo, también debes especificar un nombre de archivo.

```cpp
#include "SentryAttachment.h"

const TArray<uint8>& Data = ...

const FString& Filename = "file.log";

USentryAttachment* Attachment = NewObject<USentryAttachment>();
Attachment->InitializeWithData(Data, Filename);
```

El mismo resultado se puede obtener llamando a la función `CreateSentryAttachmentWithData` en Blueprint.

Si tu SDK admite almacenamiento en caché sin conexión, algo típico en dispositivos móviles, cada archivo adjunto se guarda en disco para cada evento o transacción que captures cuando el dispositivo esté sin conexión. Al usar archivos adjuntos grandes, este almacenamiento puede consumir espacio en disco si el dispositivo permanece sin conexión durante un período prolongado. Puedes especificar el [tamaño máximo de los archivos adjuntos](#maximum-attachment-size) para descartar adjuntos grandes y evitar este problema.

Además, puedes configurar estos parámetros:

`filename`

El nombre de archivo que se mostrará en Sentry. Si usas bytes debes especificar un nombre de archivo; con una ruta no es necesario, ya que el SDK usará el último componente de la ruta.

`contentType`

El tipo de contenido almacenado en este adjunto. Se puede usar cualquier [tipo MIME](https://www.iana.org/assignments/media-types/media-types.xhtml); el valor predeterminado es `application/octet-stream`.

`mimetype`

El tipo específico de contenido multimedia que determina cómo se muestra el adjunto en la interfaz de Sentry. Actualmente admitimos y podemos renderizar los siguientes tipos MIME:

* `text/plain`
* `text/css`
* `text/csv`
* `text/html`
* `text/javascript`
* `text/json` o `text/x-json` o `application/json` o `application/ld+json`
* `image/jpeg`
* `image/png`
* `image/gif`
* `image/webp`
* `image/avif`
* `video/webm`
* `video/mp4`

<div id="uploading-attachments">
  ## Carga de archivos adjuntos
</div>

Los adjuntos residen en el <PlatformLink to="/enriching-events/scopes/">Scope</PlatformLink>. Puedes añadir un adjunto en el Scope global para enviarlo con cada evento, o añadirlo en el <PlatformLink to="/enriching-events/scopes/#local-scopes">Scope local</PlatformLink> para enviarlo solo con un evento específico.

```cpp
USentrySubsystem* SentrySubsystem = GEngine->GetEngineSubsystem<USentrySubsystem>();

FConfigureScopeDelegate ScopeDelegate;
ScopeDelegate.BindDynamic(this, &USomeClass::HandleScopeDelegate);

SentrySubsystem->ConfigureScope(ScopeDelegate);

// Coloca aquí la lógica de configuración del alcance
void USomeClass::HandleScopeDelegate(USentryScope* Scope)
{
    USentryAttachment* Attachment = NewObject<USentryAttachment>();
    Attachment->InitializeWithPath("tu/ruta/archivo.log", "archivo.log");

    Scope->AddAttachment(Attachment);
}
```

El mismo resultado puede lograrse llamando a la función correspondiente en Blueprints:

![Subir adjunto](./img/unreal_attachment_upload.png)

<Alert>
  Sentry permite como máximo 20 MB por solicitud comprimida y hasta 100 MB de adjuntos sin comprimir por evento, incluido el archivo de informe de bloqueo (si corresponde). Las cargas que superen este tamaño se rechazarán con el error HTTP `413 Payload Too Large` y los datos se descartarán de inmediato. Para agregar archivos más grandes o en mayor cantidad, considera opciones de almacenamiento secundario.
</Alert>

Los adjuntos se conservan durante 30 días; si superas el almacenamiento total incluido en tu cuota, no se guardarán. Puedes eliminar adjuntos o los eventos que los contienen en cualquier momento. Eliminar un adjunto no afecta tu cuota: Sentry lo contabiliza en cuanto se almacena.

Obtén más información sobre cómo los adjuntos afectan tu [cuota](/es/pricing/quotas/).

<div id="access-to-attachments">
  ### Acceso a archivos adjuntos
</div>

Para limitar el acceso a los archivos adjuntos, ve a la **Configuración general** de tu organización y selecciona el menú desplegable *Acceso a archivos adjuntos* para definir el acceso adecuado: cualquier miembro de tu organización; el propietario de facturación de la organización; miembro, administrador, gestor o propietario.

<Include name="common-imgs/attachments-access" />

De forma predeterminada, el acceso se concede a todos los miembros cuando el almacenamiento está habilitado. Si un miembro no tiene acceso al proyecto, no podrá descargar un archivo adjunto; el botón aparecerá atenuado en Sentry. El miembro solo podrá ver que hay un archivo adjunto almacenado.

<div id="store-minidumps-as-attachments">
  ## Guardar minidumps como adjuntos
</div>

<Include name="store-minidumps-as-attachments-intro" />

<Alert>☝ Esta función es compatible con Windows, Linux y Android.</Alert>

<Include name="store-minidumps-as-attachments-configuration" />

<div id="viewing-attachments">
  ## Visualización de adjuntos
</div>

Los adjuntos se muestran en la parte inferior de la página de **Detalles del issue** del evento que se está mostrando.

<Include name="common-imgs/attachments-access-denied" />

También puedes encontrar los adjuntos en la pestaña *Adjuntos* de la página de **Detalles del issue**, donde puedes ver el *Tipo* de adjunto y los eventos asociados. Haz clic en el ID del evento para abrir los **Detalles del issue** de ese evento específico.

<Include name="common-imgs/attachments-list-example" />

<div id="maximum-attachment-size">
  ## Tamaño máximo de archivo adjunto
</div>

La escala está en bytes y el valor predeterminado es `20 MiB`. Revisa también el
[tamaño máximo de archivos adjuntos de Relay](/es/product/relay/options/)
para asegurarte de que tus adjuntos no se descarten allí.