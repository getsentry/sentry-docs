---
title: Laravel
sdk: sentry.php.laravel
sidebar_order: 0
description: >-
  Laravel es un framework de aplicaciones web en PHP con una sintaxis expresiva y elegante.
  Aprende a configurarlo con Sentry.
og_image: /og-images/platforms-php-guides-laravel.png
---

<div id="prerequisites">
  ## Requisitos previos
</div>

* Necesitas una [cuenta de Sentry](https://sentry.io/signup/) y un proyecto
* Tu aplicación de Laravel debe ejecutarse en PHP 7.2 o posterior
* Tu versión de Laravel debe ser 11.x o superior
* Consulta una de estas guías si usas una [versión anterior](/es/platforms/php/guides/laravel/other-versions/) o si necesitas [instrucciones específicas para Lumen](/es/platforms/php/guides/laravel/other-versions/lumen/)

<div id="install">
  ## Instalación
</div>

Instala el paquete `sentry/sentry-laravel`:

```bash
composer require sentry/sentry-laravel
```

Activa la captura de excepciones no controladas para reportarlas a Sentry realizando el siguiente cambio en tu `bootstrap/app.php`:

```php {filename:bootstrap/app.php}
<?php

use Illuminate\Foundation\Application;
use Illuminate\Foundation\Configuration\Exceptions;
use Illuminate\Foundation\Configuration\Middleware;
use Sentry\Laravel\Integration;

return Application::configure(basePath: dirname(__DIR__))
    ->withRouting(
        web: __DIR__.'/../routes/web.php',
        commands: __DIR__.'/../routes/console.php',
        health: '/up',
    )
    ->withMiddleware(function (Middleware $middleware) {
        //
    })
    ->withExceptions(function (Exceptions $exceptions) {
        Integration::handles($exceptions);
    })
    ->create();
```

Como alternativa, puedes configurar Sentry como un [canal de registro de Laravel](usage/#log-channels).

<div id="configure">
  ## Configurar
</div>

Configura el DSN de Sentry con este comando:

```shell
php artisan sentry:publish --dsn=___PUBLIC_DSN___
```

Crea el archivo de configuración (`config/sentry.php`) y añade el `DSN` a tu archivo `.env`.

```shell {filename:.env}
SENTRY_LARAVEL_DSN=___PUBLIC_DSN___
```

<Alert level="warning">
  Para incluir los argumentos del stack trace en tus errores, asegúrate de configurar `zend.exception_ignore_args: Off` en tu php.ini
</Alert>

<div id="verify">
  ## Verifica
</div>

<div id="verify-with-artisan">
  ### Verificar con Artisan
</div>

Puedes probar tu configuración usando el comando de Artisan `sentry:test`:

```shell
php artisan sentry:test
```

<div id="verify-with-code">
  ### Verificar con código
</div>

Puedes comprobar que Sentry está capturando errores en tu aplicación Laravel creando una ruta que lance una excepción:

```php {filename:routes/web.php}
Route::get('/debug-sentry', function () {
    throw new Exception('My first Sentry error!');
});
```

Visitar esta ruta provocará una excepción que Sentry registrará.

<div id="tracing">
  ## Trazas
</div>

Establece `traces_sample_rate` en `config/sentry.php` o `SENTRY_TRACES_SAMPLE_RATE` en tu `.env` a un valor mayor que `0.0`. Un valor mayor que `0.0` habilitará las trazas; `null` (el valor predeterminado) las deshabilitará.

```shell {filename:.env}
# Asegúrate de reducir este valor en producción o podrías agotar tu cuota rápidamente.
SENTRY_TRACES_SAMPLE_RATE=1.0
```

La configuración de ejemplo anterior transmitirá el 100% de las trazas capturadas. Asegúrate de reducir este valor en producción o podrías agotar tu cuota rápidamente.

También puedes ajustar con mayor precisión la tasa de muestreo usando la opción `traces_sampler`. Obtén más información en [Uso del muestreo para filtrar eventos de transacción](configuration/filtering/#using-sampling-to-filter-transaction-events).

Los datos de rendimiento se transmiten mediante un nuevo tipo de evento llamado “transactions”, sobre el cual puedes aprender más en [Trazabilidad distribuida](/es/product/sentry-basics/tracing/distributed-tracing/#traces-transactions-and-spans).

<div id="local-development-and-testing">
  ## Desarrollo local y pruebas
</div>

Cuando Sentry está instalado en tu aplicación, también estará activo mientras desarrollas o ejecutas pruebas.

Lo más probable es que no quieras que se envíen errores a Sentry durante el desarrollo o al ejecutar pruebas. Para evitarlo, establece el valor de DSN en `null` para desactivar el envío de errores a Sentry.

También puedes hacerlo no definiendo `SENTRY_LARAVEL_DSN` en tu `.env`, o definiéndolo como `SENTRY_LARAVEL_DSN=null`.

Si dejas Sentry habilitado durante el desarrollo o la ejecución de pruebas, es posible que afecte negativamente al rendimiento de tu aplicación o de tu suite de pruebas.

<div id="set-up-sentry-through-forge">
  ## Configura Sentry con Forge
</div>

Si usas la plataforma Forge de Laravel para aprovisionar y desplegar tu aplicación PHP, puedes crear una organización de Sentry desde [Forge](https://forge.laravel.com/docs/integrations/sentry.html).

![Sentry y Forge](./img/forge-sentry.png)