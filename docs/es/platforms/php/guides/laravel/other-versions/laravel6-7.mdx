---
title: Laravel 6.x y 7.x
description: "Aprende a usar Sentry con Laravel 6.x y 7.x."
sidebar_order: 200
---

Laravel es compatible mediante un paquete nativo: [sentry-laravel](https://github.com/getsentry/sentry-laravel).

Esta guía es para Laravel 6.x y 7.x. También ofrecemos instrucciones para [la versión más reciente de Laravel](/es/platforms/php/guides/laravel/) y [instrucciones específicas para Lumen](/es/platforms/php/guides/laravel/other-versions/lumen/).

<div id="install">
  ## Instalación
</div>

Instala el paquete `sentry/sentry-laravel`:

```bash
composer require sentry/sentry-laravel
```

Si usas Laravel 5.5 o superior, el paquete se detectará automáticamente. De lo contrario, deberás configurarlo manualmente en tu `config/app.php`.

```php {filename:config/app.php}
'providers' => array(
    // ...
    Sentry\Laravel\ServiceProvider::class,
),
'aliases' => array(
    // ...
    'Sentry' => Sentry\Laravel\Facade::class,
),
```

Añade la generación de reportes de Sentry en `App/Exceptions/Handler.php`.

```php {filename:App/Exceptions/Handler.php}
public function report(Exception $exception)
{
    if ($this->shouldReport($exception) && app()->bound('sentry')) {
        app('sentry')->captureException($exception);
    }

    parent::report($exception);
}
```

<div id="configure">
  ## Configurar
</div>

Configura el DSN de Sentry con este comando:

```shell
php artisan sentry:publish --dsn=___PUBLIC_DSN___
```

Crea el archivo de configuración (`config/sentry.php`) y añade el `DSN` a tu archivo `.env`.

```shell {filename:.env}
SENTRY_LARAVEL_DSN=___PUBLIC_DSN___
```

<Alert level="warning">
  Para incluir los argumentos del stack trace en tus errores, asegúrate de configurar `zend.exception_ignore_args: Off` en tu php.ini
</Alert>

<div id="verify">
  ## Verifica
</div>

<div id="verify-with-artisan">
  ### Verificar con Artisan
</div>

Puedes probar tu configuración usando el comando de Artisan `sentry:test`:

```shell
php artisan sentry:test
```

<div id="verify-with-code">
  ### Verificar con código
</div>

Puedes comprobar que Sentry está capturando errores en tu aplicación de Laravel creando una ruta que genere una excepción:

```php {filename:routes/web.php}
Route::get('/debug-sentry', function () {
    throw new Exception('My first Sentry error!');
});
```

Visitar esta ruta generará una excepción que será capturada por Sentry.

<div id="local-development-and-testing">
  ## Desarrollo local y pruebas
</div>

Cuando Sentry está instalado en tu aplicación, también estará activo mientras desarrollas o ejecutas pruebas.

Probablemente no quieras que se envíen errores a Sentry durante el desarrollo o al ejecutar pruebas. Para evitarlo, establece el valor del DSN en `null` para desactivar el envío de errores a Sentry.

También puedes hacerlo no definiendo `SENTRY_LARAVEL_DSN` en tu `.env` o definiéndolo como `SENTRY_LARAVEL_DSN=null`.

Si dejas Sentry habilitado durante el desarrollo o las pruebas, es posible que afecte negativamente el rendimiento de tu aplicación o de tu conjunto de pruebas.