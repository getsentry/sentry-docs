---
title: Monolog
description: "Aprende a habilitar el SDK de PHP de Sentry para capturar eventos de Monolog."
---

Cuando uses [Monolog](https://github.com/Seldaek/monolog), puedes configurar un controlador de [breadcrumbs](../../enriching-events/breadcrumbs/) para capturar los mensajes de Monolog como breadcrumbs y otro controlador que capture los mensajes como eventos en Sentry.
El controlador de breadcrumbs no enviará nada directamente a Sentry; solo registra breadcrumbs que se adjuntarán a cualquier evento o excepción que se envíe a Sentry.

```php
<?php

use Monolog\Level;
use Monolog\Logger;
use Monolog\Handler\StreamHandler;

// Configura el SDK de Sentry; esto también puede hacerse en otra parte de tu aplicación
\Sentry\init([
    'dsn' => '___PUBLIC_DSN___'
]);

// Crea un canal de Monolog con un manejador de migas (breadcrumbs) y un manejador de Sentry
$log = new Logger('sentry');
$log->pushHandler(new \Sentry\Monolog\BreadcrumbHandler(
    hub: \Sentry\SentrySdk::getCurrentHub(),
    level: Level::Info, // Ten en cuenta el nivel aquí: los mensajes con ese nivel o superior se adjuntarán como breadcrumbs a futuros eventos de Sentry
));
$log->pushHandler(new \Sentry\Monolog\Handler(
    hub: \Sentry\SentrySdk::getCurrentHub(),
    level: Level::Error, // Ten en cuenta el nivel aquí: los mensajes con ese nivel o superior se enviarán a Sentry
    bubble: true,
    fillExtraContext: false, // Añadirá las claves `monolog.context` y `monolog.extra` al evento con los valores `context` y `extra` de Monolog
));

// Registra un error:
$log->error('Ha ocurrido algo malo');

// Para registrar una excepción, puedes usar el siguiente código:
try {
    throw new RuntimeException('Alguna excepción');
} catch (RuntimeException $exception) {
    $log->error('Ha ocurrido una excepción', ['exception' => $exception]);
}
```
