---
title: Configuración manual
sidebar_order: 20
description: "Aprende a inicializar el SDK manualmente cuando necesites proporcionar una configuración adicional."
---

<div id="manual-installation">
  ## Instalación manual
</div>

Si no quieres que el plugin de Gradle de Sentry instale el SDK de Sentry automáticamente, puedes declarar la dependencia directamente en el archivo `build.gradle` del módulo de tu app.

```groovy {filename:app/build.gradle}
dependencies {
    implementation 'io.sentry:sentry-android:{{@inject packages.version('sentry.java.android', '4.2.0') }}'
}
```

```kotlin {filename:app/build.gradle.kts}
dependencies {
    implementation("io.sentry:sentry-android:{{@inject packages.version('sentry.java.android', '4.2.0') }}")
}
```

<Alert>
  La [integración de NDK](/es/platforms/android/using-ndk/) viene incluida con el SDK y requiere el nivel de API 16, aunque se admiten otros niveles. Si usas varias dependencias de Sentry, puedes añadir un [bill of materials](/es/platforms/android/configuration/bill-of-materials) para evitar especificar la versión de cada dependencia.
</Alert>

<div id="manual-initialization">
  ## Inicialización manual
</div>

Inicializa el SDK manualmente cuando necesites proporcionar una configuración adicional al SDK que no puede especificarse en el manifiesto.

Para inicializar el SDK manualmente, desactiva la inicialización automática. Puedes hacerlo añadiendo la siguiente línea en tu manifiesto:

```xml {filename:AndroidManifest.xml}
<application>
    <meta-data android:name="io.sentry.auto-init" android:value="false" />
</application>
```

O bien, para eliminar por completo la combinación de `ContentProvider`:

```xml {filename:AndroidManifest.xml}
<application>
    <provider
        android:name="io.sentry.android.core.SentryInitProvider"
        android:authorities="${applicationId}.SentryInitProvider"
        tools:node="remove" />

    <provider
        android:name="io.sentry.android.core.SentryPerformanceProvider"
        android:authorities="${applicationId}.SentryPerformanceProvider"
        tools:node="remove" />
</application>
```

El siguiente paso es inicializar el SDK directamente en tu código.

El SDK solo puede detectar errores y fallos después de que lo hayas inicializado. Por eso, recomendamos llamar a `SentryAndroid.init` en la instancia de tu clase Application justo después de que se cree la aplicación. Si aún no tienes una clase Application personalizada, [consulta la documentación oficial sobre cómo crear una](https://developer.android.com/reference/android/app/Application).

Las opciones de configuración se cargarán desde el manifiesto, de modo que no necesitas definir propiedades estáticas en tu código. En el método `init`, puedes proporcionar un callback que modifique la configuración y también registre nuevas opciones.

```java
import io.sentry.SentryLevel;
import io.sentry.android.core.SentryAndroid;
import android.app.Application;

public class MyApplication extends Application {
  public void onCreate() {
    super.onCreate();

    SentryAndroid.init(this, options -> {
      options.setDsn("___PUBLIC_DSN___");
      // Agrega una devolución de llamada que se usará antes de enviar el evento a Sentry.
      // Con esta devolución de llamada, puedes modificar el evento o, si devuelves null, descartarlo.
      options.setBeforeSend((event, hint) -> {
        if (SentryLevel.DEBUG.equals(event.getLevel()))
          return null;
        else
          return event;
      });
    });
  }
}
```

```kotlin
import io.sentry.android.core.SentryAndroid
import io.sentry.SentryOptions.BeforeSendCallback
import io.sentry.Hint
import android.app.Application

class MyApplication : Application() {
  override fun onCreate() {
    super.onCreate()

    SentryAndroid.init(this) { options ->
      options.dsn = "___PUBLIC_DSN___"
      // Agrega un callback que se ejecutará antes de enviar el evento a Sentry.
      // Con este callback puedes modificar el evento o, si devuelve null, descartarlo.
      options.beforeSend =
        BeforeSendCallback { event: SentryEvent, hint: Hint ->
          if (SentryLevel.DEBUG == event.level) {
            null
          } else {
            event
          }
        }
    }
  }
}
```
