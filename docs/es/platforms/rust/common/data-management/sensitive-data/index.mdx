---
title: "Limpieza de datos sensibles"
description: "Aprende a filtrar o limpiar datos sensibles en el SDK, para que no se envíen con el evento. También puedes configurar la limpieza del lado del servidor para asegurarte de que los datos no se almacenen."
sidebar_order: 100
keywords:
  - pii
  - gdpr
  - "personally identifiable data"
  - compliance
---

Como con cualquier servicio de terceros, es importante entender qué datos se envían a Sentry y, cuando corresponda, asegurarte de que los datos sensibles nunca lleguen a los servidores de Sentry o, como mínimo, que no se almacenen.

Estos son algunos buenos ejemplos de limpieza de datos que toda empresa debería considerar:

* PII (Información de Identificación Personal), como el nombre o el correo electrónico de un usuario, que tras el GDPR debería estar en la mente de toda empresa.
* Credenciales de autenticación, como tu contraseña o clave de AWS.
* Propiedad intelectual confidencial, como tu color favorito o tus próximos planes de dominación mundial.

Ofrecemos las siguientes opciones según tus necesidades legales y operativas:

* filtrar o limpiar datos sensibles en el SDK, de modo que los datos *no se envíen a* Sentry. Los cambios de configuración requieren volver a desplegar tu aplicación.
* [configurar la limpieza del lado del servidor](/es/security-legal-pii/scrubbing/server-side-scrubbing/) para garantizar que Sentry *no almacene* datos. Los cambios de configuración se realizan en la interfaz de Sentry y se aplican de inmediato a los eventos nuevos.
* [ejecutar un Relay local](/es/product/relay/) en tu propio servidor entre el SDK y Sentry, de modo que los datos *no se envíen a* Sentry y, aun así, puedas aplicar la configuración sin desplegar.

<Alert>
  Asegúrate de que tu equipo conozca la política de tu empresa sobre qué se puede y qué no se puede enviar a Sentry. Recomendamos definir esta política al inicio de la implementación, comunicarla y hacerla cumplir mediante revisión de código.
</Alert>

<div id="personally-identifiable-information-pii">
  ## Información de identificación personal (PII)
</div>

El SDK, a propósito, no envía PII para ir sobre seguro. Este comportamiento se controla con una opción llamada [`send_default_pii`](../../configuration/options/#send_default_pii).

Activar esta opción es necesario para que ciertas funciones de Sentry estén disponibles, pero también implica que deberás ser aún más cuidadoso con los datos que se envían a Sentry (usando las opciones de abajo).

Si *no* deseas usar el comportamiento predeterminado de PII, también puedes optar por identificar a los usuarios de una forma más controlada, usando nuestro [contexto de identidad de usuario](../../enriching-events/identify-user/).

<div id="scrubbing-data">
  ## Depuración de datos
</div>

### <PlatformIdentifier name="before-send" /> y <PlatformIdentifier name="before-send-transaction" />

El SDK proporciona el hook <PlatformIdentifier name="before-send" />, que se invoca antes de enviar un evento de error o mensaje y puede usarse para modificar los datos del evento y eliminar información sensible. Recomendamos usar <PlatformIdentifier name="before-send" /> en el SDK para **limpiar cualquier dato antes de enviarlo**, y así asegurarte de que los datos sensibles nunca salgan del entorno local.

<PlatformContent includePath="configuration/before-send/" />

Los datos sensibles pueden aparecer en las siguientes áreas:

* Breadcrumbs → El SDK puede crear breadcrumbs a partir de eventos/registros de log cuando se usan las integraciones `tracing` y `log`. **No registres PII** si usas esta función e incluyes sentencias de log como breadcrumbs en el evento.
* Contexto de usuario → El comportamiento automatizado se controla mediante <PlatformIdentifier name="send-default-pii" />.
* Contexto HTTP → Las query strings pueden capturarse en algunos frameworks como parte del contexto de la solicitud HTTP.
* Nombres de transacción → En ciertas situaciones, los nombres de transacción podrían contener datos sensibles. Por ejemplo, la transacción de carga de página de un navegador podría tener una URL sin procesar como `/users/1234/details` como nombre (donde `1234` es un id de usuario, que puede considerarse PII). En la mayoría de los casos, nuestros SDKs pueden parametrizar las URLs y las rutas correctamente, es decir, convertir `/users/1234/details` en `/users/:userid/details`. Sin embargo, según el framework, tu configuración de enrutamiento, condiciones de carrera y otros factores, es posible que los SDKs no puedan parametrizar por completo todas tus URLs.
* Spans HTTP → La mayoría de los SDKs incluirán la query string y el fragmento HTTP como un atributo de datos, lo que significa que puede ser necesario limpiar el span HTTP.

Para más detalles e instrucciones de filtrado de datos, consulta <PlatformLink to="/configuration/filtering/">Filtrado de eventos</PlatformLink>.

<div id="examples">
  ### Ejemplos
</div>

**Información contextual**

En lugar de enviar información confidencial en texto plano, considera aplicar un hash:

<PlatformContent includePath="sensitive-data/set-tag" />

Esto te permitirá correlacionarla en sistemas internos si es necesario, pero mantenerla confidencial para Sentry.

**Detalles del usuario**

Tu organización puede determinar que los correos electrónicos no se consideran confidenciales; pero si lo fueran, considera enviar en su lugar tu identificador interno:

<PlatformContent includePath="sensitive-data/set-user" />

Así te asegurarás de seguir aprovechando las funciones relacionadas con el impacto en el usuario.

**Integraciones de registro**

Como buena práctica, siempre debes evitar registrar información confidencial. Si tienes sistemas heredados con los que necesitas convivir, considera lo siguiente:

* Anonimiza la información confidencial en las entradas de registro (por ejemplo, sustituye direcciones de correo electrónico por identificadores internos)
* Usa <PlatformIdentifier name="before-breadcrumb" /> para filtrarla de las migas antes de adjuntarla
* Desactiva la integración que está generando migas a partir de los registros