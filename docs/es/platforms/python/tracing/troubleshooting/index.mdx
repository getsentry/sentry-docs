---
title: Solución de problemas
description: "Aprende a solucionar problemas de tu configuración de trazas."
sidebar_order: 60
---

Si necesitas ayuda para gestionar transacciones, puedes obtener más información aquí. Si necesitas ayuda adicional, puedes preguntar en GitHub. Los clientes con un plan de pago también pueden contactar al equipo de soporte.

<div id="group-transactions">
  ## Agrupar transacciones
</div>

Cuando Sentry captura transacciones, se les asigna un nombre de transacción. Este nombre, por lo general, lo genera automáticamente el SDK de Sentry según las integraciones del framework que estés usando. Si no puedes usar la generación automática de transacciones (o quieres personalizar cómo se generan los nombres de las transacciones), puedes usar la API de `scope` para establecer nombres de transacción o un procesador de eventos personalizado.

Por ejemplo, para establecer un nombre de transacción:

```python
import sentry_sdk

# Configurar el nombre de la transacción directamente en el alcance actual
scope = sentry_sdk.get_current_scope()
scope.set_transaction_name("UserListView")
```

Puedes definir una devolución de llamada personalizada `before_send_transaction` para modificar los nombres de transacciones:

```python
import sentry_sdk
from sentry_sdk.integrations.django import DjangoIntegration
from sentry_sdk.types import Event, Hint

def transaction_processor(event: Event, hint: Hint) -> Event | None:
    if event.get("type") == "transaction":
        # Extraer la ruta del nombre de la transacción
        transaction_name = event.get("transaction", "")

        # Eliminar IDs variables de las URLs para reducir cardinalidad
        if "/user/" in transaction_name:
            # Convertir /user/123/ a /user/:id/
            import re
            event["transaction"] = re.sub(r'/user/\d+/', '/user/:id/', transaction_name)

    return event

sentry_sdk.init(
    dsn="tu-dsn",
    integrations=[DjangoIntegration()],
    traces_sample_rate=1.0,
    # Añade tu procesador de eventos durante la inicialización del SDK
    before_send_transaction=transaction_processor,
)
```


<div id="control-data-truncation">
  ## Controlar la truncación de datos
</div>

Actualmente, cada etiqueta tiene un límite máximo de 200 caracteres. Las etiquetas que superen ese límite se truncarán, perdiendo información potencialmente importante. Para conservar estos datos, puedes dividir la información en varias etiquetas.

Por ejemplo, una etiqueta de más de 200 caracteres como esta:

`https://empowerplant.io/api/0/projects/ep/setup_form/?user_id=314159265358979323846264338327&tracking_id=EasyAsABC123OrSimpleAsDoReMi&product_name=PlantToHumanTranslator&product_id=161803398874989484820458683436563811772030917980576`

...se truncará a:

`https://empowerplant.io/api/0/projects/ep/setup_form/?user_id=314159265358979323846264338327&tracking_id=EasyAsABC123OrSimpleAsDoReMi&product_name=PlantToHumanTranslator&product_id=1618033988749894848`

Usar `span.set_tag` para valores más cortos, en combinación con `span.set_data`, preserva los detalles.

```python
import sentry_sdk

# ...

base_url = "https://empowerplant.io"
endpoint = "/api/0/projects/ep/setup_form"
parameters = {
    "user_id": 314159265358979323846264338327,
    "tracking_id": "EasyAsABC123OrSimpleAsDoReMi",
    "product_name": "PlantToHumanTranslator",
    "product_id": 161803398874989484820458683436563811772030917980576,
}

with sentry_sdk.start_span(op="request", name="setup form") as span:
    span.set_tag("base_url", base_url)
    span.set_tag("endpoint", endpoint)
    span.set_data("parameters", parameters)
    make_request(
        "{base_url}/{endpoint}/".format(
            base_url=base_url,
            endpoint=endpoint,
        ),
        data=parameters
    )

    # ...
```
