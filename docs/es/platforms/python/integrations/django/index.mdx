---
title: Django
caseStyle: snake_case
supportLevel: production
description: "Aprende a usar Sentry con Django."
---

La integración de Sentry con [Django](https://www.djangoproject.com/) añade compatibilidad con el framework Django. Permite el informe automático de errores y excepciones, así como el trazado. Para empezar a usar la integración, debes tener una [cuenta de Sentry](https://sentry.io) y un proyecto configurado.

<Alert>
  Si usas Python 3.7, las aplicaciones de Django con `channels` 2.0 se instrumentarán correctamente. Las versiones anteriores de Python requerirán instalar [aiocontextvars](https://pypi.org/project/aiocontextvars/).
</Alert>

<div id="install">
  ## Instalar
</div>

Instala `sentry-sdk` desde PyPI con el complemento `django`:

```bash {tabTitle:pip}
pip install "sentry-sdk[django]"
```

```bash {tabTitle:uv}
uv add "sentry-sdk[django]"
```

<div id="configure">
  ## Configurar
</div>

Para configurar el SDK de Sentry, inicialízalo en tu archivo `settings.py`:

Además de capturar errores, puedes supervisar las interacciones entre varios servicios o aplicaciones [habilitando el tracing](/es/concepts/key-terms/tracing/). También puedes recopilar y analizar perfiles de rendimiento de usuarios reales con [profiling](/es/product/explore/profiling/).

Elige qué funciones de Sentry quieres instalar además de la Monitorización de errores para obtener a continuación las instrucciones correspondientes de instalación y configuración.

<OnboardingOptionButtons
  options={[
'error-monitoring',
'performance',
'profiling',
]}
/>

```python {filename:settings.py}
import sentry_sdk

sentry_sdk.init(
    dsn="___PUBLIC_DSN___",
    # Agrega datos como encabezados de la solicitud e IP de los usuarios;
    # consulta https://docs.sentry.io/platforms/python/data-management/data-collected/ para más información
    send_default_pii=True,
    # ___PRODUCT_OPTION_START___ performance
    # Establece traces_sample_rate en 1.0 para capturar el 100 %
    # de las transacciones para el tracing.
    traces_sample_rate=1.0,
    # ___PRODUCT_OPTION_END___ performance
    # ___PRODUCT_OPTION_START___ profiling
    # Para recopilar perfiles de todas las sesiones de perfil,
    # establece `profile_session_sample_rate` en 1.0.
    profile_session_sample_rate=1.0,
    # Los perfiles se recopilarán automáticamente mientras
    # haya un span activo.
    profile_lifecycle="trace",
    # ___PRODUCT_OPTION_END___ profiling
)
```

<div id="verify">
  ## Verificar
</div>

El siguiente fragmento incluye un error intencional que Sentry capturará cuando se active. Esto te permitirá confirmar que todo funciona en cuanto lo configures:

```python
from django.urls import path

def trigger_error(request):
    division_by_zero = 1 / 0

urlpatterns = [
    path('sentry-debug/', trigger_error),
    # ...
]
```

<div id="behavior">
  ## Comportamiento
</div>

<Include name="python-uwsgi-warning.mdx" />

<div id="issue-reporting">
  ### Reporte de problemas
</div>

* Si usas `django.contrib.auth` y has establecido `send_default_pii=True` en tu llamada a `init`, los datos del usuario (como el ID del usuario actual, la dirección de correo electrónico y el nombre de usuario) se adjuntarán a los eventos de error.
* Los datos de la solicitud se adjuntarán a todos los eventos: **método HTTP, URL, encabezados, datos de formulario, cargas JSON**. Sentry excluye los cuerpos sin procesar y las cargas de archivos multiparte.
* Los logs emitidos por cualquier logger se registrarán como breadcrumbs mediante la integración de [Logging](/es/platforms/python/integrations/logging/) (esta integración está habilitada de forma predeterminada).

<div id="tracing">
  ### Seguimiento
</div>

Se supervisan las siguientes partes de tu proyecto Django:

* Pila de middleware
* Señales
* Consultas a la base de datos
* Comandos de Redis
* Acceso a las cachés de Django

<Alert>
  Debes configurar el parámetro [traces&#95;sample&#95;rate](/es/platforms/python/configuration/options/#traces-sample-rate) al inicializar el SDK de Sentry para que se registren las mediciones de rendimiento.
</Alert>

<div id="options">
  ## Opciones
</div>

Al agregar `DjangoIntegration` explícitamente a tu llamada a `sentry_sdk.init()`, puedes configurar opciones de `DjangoIntegration` para modificar su comportamiento:

```python
import django.db.models.signals

import sentry_sdk
from sentry_sdk.integrations.django import DjangoIntegration

sentry_sdk.init(
    # …
    integrations=[
        DjangoIntegration(
            transaction_style='url',
            middleware_spans=True,
            signals_spans=True,
            signals_denylist=[
                django.db.models.signals.pre_init,
                django.db.models.signals.post_init,
            ],
            cache_spans=False,
            http_methods_to_capture=("GET",),
        ),
    ],
)
```

Puedes pasar los siguientes argumentos de palabra clave a `DjangoIntegration()`:

* `transaction_style`:

  Cómo nombrar las transacciones que aparecen en el tracing de Sentry.

  * `"/myproject/myview/<foo>"` si configuras `transaction_style="url"`.
  * `"myproject.myview"` si configuras `transaction_style="function_name"`.

  El valor predeterminado es `"url"`.

* `middleware_spans`:

  Crea spans y realiza el seguimiento del rendimiento de todo el middleware de tu proyecto Django. Establécelo en `False` para desactivar.

  El valor predeterminado es `True`.

* `signals_spans`:

  Crea spans y realiza el seguimiento del rendimiento de todas las funciones receptoras síncronas de [Django signals](https://docs.djangoproject.com/en/dev/topics/signals/) en tu proyecto Django. Establécelo en `False` para desactivar.

  El valor predeterminado es `True`.

* `signals_denylist`:

  Lista de señales que se excluirán del seguimiento de rendimiento. No se crearán spans para estas.

  El valor predeterminado es `[]`.

* `cache_spans`:

  Crea spans y realiza el seguimiento del rendimiento de todas las operaciones de lectura en las cachés configuradas. Los spans también incluyen información sobre si el acceso a la caché fue un acierto (hit) o un fallo (miss). Establécelo en `True` para activar.

  El valor predeterminado es `False`.

* `http_methods_to_capture`:

  Tupla que contiene todos los métodos HTTP que deberían crear una transacción en Sentry.

  El valor predeterminado es `("CONNECT", "DELETE", "GET", "PATCH", "POST", "PUT", "TRACE",)`.

  (Ten en cuenta que `OPTIONS` y `HEAD` no se incluyen de forma predeterminada).

  <Alert title="Añadido en 2.15.0">
    La opción `http_methods_to_capture`.
  </Alert>

<div id="supported-versions">
  ## Versiones compatibles
</div>

* Django 1.11+
* Python 3.6+

<Include name="python-use-older-sdk-for-legacy-support.mdx" />