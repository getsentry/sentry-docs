---
title: Flask
description: "Aprende a usar Sentry con Flask."
---

La integración de Flask agrega compatibilidad con el [framework web Flask](https://flask.palletsprojects.com).

<div id="install">
  ## Instalar
</div>

Instala `sentry-sdk` desde PyPI con el extra `flask`:

```bash {tabTitle:pip}
pip install "sentry-sdk[flask]"
```

```bash {tabTitle:uv}
uv add "sentry-sdk[flask]"
```

<div id="configure">
  ## Configuración
</div>

Si tienes el paquete `flask` en tus dependencias, la integración con Flask se habilitará automáticamente cuando inicialices el SDK de Sentry.

<PlatformContent includePath="getting-started-config" />

<Alert>
  Nuestro SDK de Python instalará la integración de Flask para todas tus aplicaciones. Se conecta a las señales de Flask, no a nada del objeto de la aplicación.
</Alert>

<div id="verify">
  ## Verificar
</div>

```python
from flask import Flask

sentry_sdk.init(...)  # igual que arriba

app = Flask(__name__)

@app.route("/")
def hello_world():
    1 / 0  # provoca un error
    return "<p>¡Hola, mundo!</p>"
```

Cuando abras [http://localhost:5000/](http://localhost:5000/) en tu navegador, se creará una transacción en la sección Performance de [sentry.io](https://sentry.io). Además, se enviará un evento de error a [sentry.io](https://sentry.io) y se vinculará a la transacción.

Los datos pueden tardar unos instantes en aparecer en [sentry.io](https://sentry.io).

<div id="behavior">
  ## Comportamiento
</div>

<Include name="python-uwsgi-warning.mdx" />

Después de la inicialización:

* Si usas `flask-login` y configuras `send_default_pii=True` en la llamada a `init`, los datos del usuario (ID del usuario actual, dirección de correo electrónico, nombre de usuario) se adjuntarán al evento.
* Los datos de la solicitud se adjuntarán a todos los eventos: **método HTTP, URL, encabezados, datos de formulario, cargas JSON**. Sentry excluye los cuerpos sin procesar y las cargas de archivos multiparte.
* Los registros emitidos por `app.logger` o por *cualquier* logger se guardarán como breadcrumbs mediante la integración [Logging](/es/platforms/python/integrations/logging/) (esta integración está habilitada de forma predeterminada).

<div id="options">
  ## Opciones
</div>

Si añades `FlaskIntegration` explícitamente a tu llamada a `sentry_sdk.init()`, puedes configurar opciones para `FlaskIntegration` para cambiar su comportamiento:

```python
import sentry_sdk
from sentry_sdk.integrations.flask import FlaskIntegration

sentry_sdk.init(
    # ...
    integrations = [
        FlaskIntegration(
            transaction_style="url",
            http_methods_to_capture=("GET",),
        ),
    ],
)
```

Puedes pasar los siguientes argumentos con nombre a `FlaskIntegration()`:

* `transaction_style`:

  Define el formato o estilo con el que se nombran las transacciones.

  <br />

  ```python
  @app.route("/myurl/<foo>")
  def myendpoint():
      return "<p>Hello, World!</p>"
  ```

  En el código anterior, la transacción sería:

  * `/myurl/<foo>` si configuras `transaction_style="url"`.
  * `myendpoint` si configuras `transaction_style="endpoint"`.

  El valor predeterminado es `"endpoint"`.

* `http_methods_to_capture`:

  Una tupla que contiene todos los métodos HTTP que deberían crear una transacción en Sentry.

  El valor predeterminado es `("CONNECT", "DELETE", "GET", "PATCH", "POST", "PUT", "TRACE",)`.

  (Ten en cuenta que `OPTIONS` y `HEAD` no se incluyen de forma predeterminada).

  <Alert title="Añadido en la 2.15.0">
    La opción `http_methods_to_capture`.
  </Alert>

<div id="supported-versions">
  ## Versiones compatibles
</div>

* Flask: 1.0+
* Python: 3.6+

<Include name="python-use-older-sdk-for-legacy-support.mdx" />