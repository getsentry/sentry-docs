---
title: Graphene
description: "Conoce cómo importar la integración de Graphene para GraphQL y cómo captura errores de GraphQL."
---

La integración de Graphene captura errores de la
[biblioteca Graphene para GraphQL](https://graphene-python.org/), que luego pueden verse
en [Sentry](https://sentry.io).

<div id="install">
  ## Instalación
</div>

Para empezar, instala `sentry-sdk` desde PyPI.

```bash {tabTitle:pip}
pip install "sentry-sdk"
```

```bash {tabTitle:uv}
uv add "sentry-sdk"
```

<div id="configure">
  ## Configuración
</div>

Si tienes el paquete `graphene` en tus dependencias, la integración con Graphene se habilitará automáticamente al inicializar el SDK de Sentry.

<PlatformContent includePath="getting-started-config" />

<div id="verify">
  ## Verificar
</div>

```python
import graphene

sentry_sdk.init(...)  # igual que arriba

class Query(graphene.ObjectType):
    hello = graphene.String()

    def resolve_hello(self, info):
        1 / 0
        return "Mundo"

schema = graphene.Schema(query=Query)

schema.execute("""
  query {
    hello
  }
""")
```

Hemos colado un `ZeroDivisionError` en nuestro resolver `resolve_hello` para asegurarnos de que todo funcione como está previsto. Cuando se ejecute este fragmento de código, debería aparecer un nuevo evento de error en la sección Issues de
[sentry.io](https://sentry.io). Los datos tardarán un par de momentos en aparecer en [sentry.io](https://sentry.io).

<div id="options">
  ## Opciones
</div>

Cuando se utiliza junto con una de nuestras integraciones de frameworks web como
[FastAPI](/es/platforms/python/integrations/fastapi) o
[Flask](/es/platforms/python/integrations/flask), la integración de Graphene
puede capturar el cuerpo de la solicitud para cada error de GraphQL que ocurra.
Dado que las solicitudes pueden contener datos sensibles, no se adjuntarán cuerpos de solicitud de forma predeterminada.

Para capturar cuerpos de solicitud:

* Inicializa el SDK con la opción
  [send&#95;default&#95;pii](/es/platforms/python/configuration/options/#send-default-pii)
  establecida en `True`.
* Asegúrate de que la integración del framework web que estás usando esté habilitada.

```python
sentry_sdk.init(
    # mismas opciones que arriba
    # Agrega datos como encabezados de solicitud e IP de los usuarios, si corresponde;
    # consulta https://docs.sentry.io/platforms/python/data-management/data-collected/ para más información
    send_default_pii=True,
)
```

<Alert level="warning" title="Nota">
  Dado que `send_default_pii` es una opción global del SDK, establecerla en `True` afecta a todas
  las integraciones, no solo a Graphene. Asegúrate de
  [depurar datos sensibles](/es/platforms/python/data-management/sensitive-data/)
  de los eventos antes de habilitar esta opción.
</Alert>

<div id="supported-versions">
  ## Versiones compatibles
</div>

* graphene: 3.3+
* Python: 3.8+