---
title: Pyramid
description: "Aprende a usar Sentry con Pyramid."
---

La integración de Pyramid añade compatibilidad con el [framework web Pyramid](https://trypyramid.com/).

<div id="install">
  ## Instalación
</div>

Instala `sentry-sdk` desde PyPI:

```bash {tabTitle:pip}
pip install "sentry-sdk"
```

```bash {tabTitle:uv}
uv add "sentry-sdk"
```

<div id="configure">
  ## Configurar
</div>

Si tienes el paquete `pyramid` en tus dependencias, la integración de Pyramid se activará automáticamente cuando inicialices el SDK de Sentry.

<PlatformContent includePath="getting-started-config" />

<div id="verify">
  ## Verifica
</div>

```python
from wsgiref.simple_server import make_server
from pyramid.config import Configurator
from pyramid.response import Response

sentry_sdk.init(...)  # igual que arriba

def hello_world(request):
    1 / 0  # lanza un error
    return Response('Hello World!')

if __name__ == '__main__':
    with Configurator() as config:
        config.add_route('hello', '/')
        config.add_view(hello_world, route_name='hello')
        app = config.make_wsgi_app()

    server = make_server('0.0.0.0', 6543, app)
    server.serve_forever()
```

Cuando visites [http://localhost:6543/](http://localhost:6543/), se enviará un evento de error a [sentry.io](https://sentry.io).

<div id="behavior">
  ## Comportamiento
</div>

<Include name="python-uwsgi-warning.mdx" />

* El SDK de Sentry para Python instalará la integración de Pyramid para todas tus aplicaciones. La integración se engancha en Pyramid en sí, no en ninguna de tus aplicaciones específicamente.

* El SDK informará todas las excepciones que provoquen un error interno del servidor (Internal Server Error). Estos dos tipos de excepciones son:

  * excepciones que no son manejadas por ninguna vista de excepción
  * excepciones cuya vista de excepción devuelve un código de estado 500 (solo en Pyramid versión 1.9+)

* Los datos de la solicitud se adjuntan a todos los eventos: **método HTTP, URL, encabezados, datos de formulario, cargas JSON**. Sentry excluye los cuerpos sin procesar y las cargas de archivos multiparte. Sentry también excluye información de identificación personal (como ID de usuario, nombres de usuario, cookies, encabezados de autorización, direcciones IP) a menos que configures `send_default_pii` en `True`.

* Cada solicitud tiene un ámbito independiente. Los cambios en el ámbito dentro de una vista, por ejemplo establecer una etiqueta, solo se aplicarán a los eventos enviados como parte de la solicitud que se está procesando.

* Registrar con *cualquier* logger creará breadcrumbs cuando
  la integración de [Logging](/es/platforms/python/integrations/logging/)
  esté habilitada (habilitado por defecto).

<div id="options">
  ## Opciones
</div>

Al agregar explícitamente `PyramidIntegration` a tu llamada a `sentry_sdk.init()`, puedes configurar opciones para `PyramidIntegration` y modificar su comportamiento:

```python
import sentry_sdk
from sentry_sdk.integrations.pyramid import PyramidIntegration

sentry_sdk.init(
    # ...
    integrations=[
        PyramidIntegration(
            transaction_style="route_pattern",
        )
    ]
)
```

Puedes pasar los siguientes argumentos con nombre a `PyramidIntegration()`:

* `transaction_style`:

  ```python
  config.add_route("myroute", "/myurl/{id}")
  config.add_view(myfunction, route_name="myroute")
  ```

  En el código anterior, puedes establecer la transacción como:

  * `/myurl/{id}` si configuras `transaction_style="route_pattern"`
  * `myroute` si configuras `transaction_style="route_name"`

  El valor predeterminado es `"route_name"`.

<div id="supported-versions">
  ## Versiones compatibles
</div>

* Pyramid: 1.6+
* Python: 3.6+

<Include name="python-use-older-sdk-for-legacy-support.mdx" />