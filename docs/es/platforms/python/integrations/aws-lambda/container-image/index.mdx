---
title: Imagen de contenedor de AWS Lambda
description: "Aprende a configurar Sentry con una imagen de contenedor."
sidebar_order: 3000
---

<Alert level="warning" title="Aviso de deprecación">
  La imagen de contenedor de AWS Lambda para Python está obsoleta.

  En su lugar, instrumenta tu función de AWS Lambda de una de las siguientes maneras:

  * **Sin tocar tu código:**
    Este método puede instrumentarse desde el producto Sentry por quienes tienen acceso a la infraestructura de AWS y no requiere que realices actualizaciones directas en el código. Consulta la [guía de AWS Lambda](/es/organization/integrations/cloud-monitoring/aws-lambda/).
  * **Agregando manualmente la capa de Sentry para Lambda a tu función:**
    Aunque es una forma rápida de agregar Sentry a tu función de AWS Lambda, ofrece posibilidades de configuración limitadas mediante variables de entorno. Consulta <PlatformLink to="/integrations/aws-lambda/manual-layer/">AWS Lambda Layer</PlatformLink>.
  * **Agregando Sentry manualmente al código de tu función:**
    Este método requiere instalar el SDK de Sentry en los paquetes de tu función de AWS Lambda. Aunque lleva más trabajo configurarlo, te da control total sobre tu configuración y la instrumentación manual. Consulta <PlatformLink to="/integrations/aws-lambda/manual-instrumentation/">Instrumentación manual de AWS Lambda</PlatformLink>.
</Alert>

Como método alternativo de configuración, puedes agregar Sentry a tu [imagen de contenedor](https://docs.aws.amazon.com/lambda/latest/dg/images-create.html). Para importar la imagen de capa de Sentry, agrega lo siguiente a tu Dockerfile:

```docker {tabTitle: Dockerfile}
COPY --from=public.ecr.aws/sentry/sentry-python-serverless-sdk:<VERSION> /opt/ /opt
```

Reemplaza `VERSION` por un número de versión específico (por ejemplo, 6). Puedes consultar la lista completa de versiones disponibles en el [repositorio de Amazon ECR de Sentry](https://gallery.ecr.aws/sentry/sentry-python-serverless-sdk).

<div id="function-configuration">
  ## Configuración de la función
</div>

Configura el valor CMD de tu imagen en Sentry Handler:

```docker {tabTitle: Dockerfile}
CMD ["sentry_sdk.integrations.init_serverless_sdk.sentry_lambda_handler"]
```

A continuación, configura las siguientes variables de entorno en AWS:

* Configura `SENTRY_INITIAL_HANDLER` con la ruta de tu controlador de funciones
* Configura `SENTRY_DSN` con tu DSN de Sentry
* Configura `SENTRY_TRACES_SAMPLE_RATE` con tu [tasa de muestreo](/es/platforms/python/configuration/sampling/#sampling-transaction-events) preferida para transacciones

Como alternativa, también puedes definir las variables de entorno en tu Dockerfile. Los valores configurados en AWS prevalecen sobre los del Dockerfile si se proporcionan ambos.

```docker {tabTitle: Dockerfile}
ENV SENTRY_INITIAL_HANDLER="<RUTA_AL_MANEJADOR_DE_FUNCIÓN>"
ENV SENTRY_DSN="___DSN_PÚBLICO___"
ENV SENTRY_TRACES_SAMPLE_RATE="1.0"
```
