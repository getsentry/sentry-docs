---
title: asyncio
description: "Conoce la integración de asyncio y cómo añade compatibilidad para aplicaciones que utilizan el módulo asyncio."
---

La `AsyncioIntegration` se integra con aplicaciones que ejecutan código concurrente mediante el módulo [asyncio](https://docs.python.org/3/library/asyncio.html) de Python.

<div id="install">
  ## Instalación
</div>

```bash {tabTitle:pip}
pip install "sentry-sdk"
```

```bash {tabTitle:uv}
uv add "sentry-sdk"
```


<div id="configure">
  ## Configurar
</div>

Agrega `AsyncioIntegration()` a tu lista de `integrations`, habilita el tracing y asegúrate de llamar a `sentry_sdk.init()` **al inicio de la primera función `async` que invoques**, como se muestra en el siguiente ejemplo.

<Alert level="warning">
  Si llamas a `sentry_sdk.init()` fuera de una función `async` en una aplicación asincrónica, el SDK no se comportará como se espera.
</Alert>

<OnboardingOptionButtons
  options={[
'error-monitoring',
'performance',
'profiling',
]}
/>

```python {filename:main.py}
import sentry_sdk
from sentry_sdk.integrations.asyncio import AsyncioIntegration

async def main():
    sentry_sdk.init(
        dsn="___PUBLIC_DSN___",
        # Agrega datos como encabezados de solicitud e IP de usuarios, si corresponde;
        # consulta https://docs.sentry.io/platforms/python/data-management/data-collected/ para más información
        send_default_pii=True,
        # ___PRODUCT_OPTION_START___ performance
        # Establece traces_sample_rate en 1.0 para capturar el 100%
        # de las transacciones para el rastreo.
        traces_sample_rate=1.0,
        # ___PRODUCT_OPTION_END___ performance
        # ___PRODUCT_OPTION_START___ profiling
        # Para recopilar perfiles de todas las sesiones de perfilado,
        # establece `profile_session_sample_rate` en 1.0.
        profile_session_sample_rate=1.0,
        # Los perfiles se recopilarán automáticamente mientras
        # haya un span activo.
        profile_lifecycle="trace",
        # ___PRODUCT_OPTION_END___ profiling
        integrations=[
            AsyncioIntegration(),
        ],
    )

    # tu código va aquí.
    ...

asyncio.run(main())
```


<div id="verify">
  ## Verificar
</div>

Genera un error en tu código y comprueba cómo aparece en [sentry.io](https://sentry.io).

```python {filename:main.py}
import asyncio

import sentry_sdk
from sentry_sdk.integrations.asyncio import AsyncioIntegration

async def my_task():
    1 / 0  # ¡lanza un error!

async def main():
    sentry_sdk.init(...)  # igual que arriba
    asyncio.create_task(my_task())

asyncio.run(main())
```


<div id="behavior">
  ## Comportamiento
</div>

- Se capturarán todas las excepciones no controladas en las tareas
- Cada tarea ejecutada estará instrumentada y aparecerá en el diagrama de rendimiento (waterfall) en Sentry.io

<div id="supported-versions">
  ## Versiones compatibles
</div>

- Python: 3.7 o superior