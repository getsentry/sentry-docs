---
title: Integraciones predeterminadas
description: "Descubre qué son las integraciones predeterminadas, qué hacen y cómo se integran con la biblioteca estándar o con el propio intérprete."
sidebar_order: 999999
---

{/*<!-- NOTA: Como es común, las redirecciones están en vercel.json -->*/}

Las integraciones del sistema son integraciones habilitadas de forma predeterminada que se integran en la biblioteca estándar o en el propio intérprete. Sentry las documenta para que puedas ver qué hacen y que pueden deshabilitarse si causan problemas. Para deshabilitar todas las integraciones del sistema, establece `default_integrations=False` al llamar a `init()`.

<div id="atexit">
  ## Atexit
</div>

*Nombre de importación: `sentry_sdk.integrations.atexit.AtexitIntegration`*

Esto se integra con el sistema `atexit` del intérprete para vaciar automáticamente
los eventos de la cola en segundo plano al apagarse el intérprete. Por lo general, no es
necesario deshabilitarlo. Incluso si no se desea esta funcionalidad, es más fácil desactivarla configurando `shutdown_timeout` en `0` en las opciones que se pasan a
`init()`.

<div id="excepthook">
  ## Excepthook
</div>

*Nombre de importación: `sentry_sdk.integrations.excepthook.ExcepthookIntegration`*

Esta integración se registra en el sistema de except hook del intérprete. Gracias a esto,
cualquier excepción no controlada se informará automáticamente a Sentry. Ten en cuenta que las excepciones
ocurridas en sesiones interactivas del intérprete no se informarán.

<div id="options">
  ### Opciones
</div>

Puedes pasar los siguientes argumentos con nombre a `ExcepthookIntegration()`:

* `always_run`:

  ```bash
  $ python
  >>> import sentry_sdk
  >>> from sentry_sdk.integrations.excepthook import ExcepthookIntegration
  >>> sentry_sdk.init(..., integrations=[ExcepthookIntegration(always_run=True)])
  >>> raise Exception("I will become an error")
  ```

  De forma predeterminada, el SDK no captura los errores que se producen en el REPL (`always_run=False`).

<div id="deduplication">
  ## Eliminación de duplicados
</div>

*Nombre de importación: `sentry_sdk.integrations.dedupe.DedupeIntegration`*

Esta integración deduplica ciertos eventos. El SDK de Sentry para Python la habilita de forma predeterminada y no debería deshabilitarse salvo en casos excepcionales. Deshabilitar esta integración, por ejemplo, provocará el registro duplicado de errores en el framework Flask.

<div id="stdlib">
  ## Biblioteca estándar
</div>

*Nombre de importación: `sentry_sdk.integrations.stdlib.StdlibIntegration`*

La integración de la biblioteca estándar instrumenta ciertos módulos de la librería estándar para emitir breadcrumbs. El SDK de Sentry para Python la habilita de forma predeterminada y rara vez tiene sentido desactivarla.

* Cualquier solicitud HTTP saliente realizada con `httplib` registrará un <PlatformLink to="/enriching-events/breadcrumbs/">breadcrumb</PlatformLink>. `urllib3` y `requests` usan `httplib` internamente, por lo que las solicitudes HTTP de esos paquetes también deberían quedar cubiertas.

* Los subprocesos iniciados con el módulo `subprocess` registrarán un <PlatformLink to="/enriching-events/breadcrumbs/">breadcrumb</PlatformLink>.

<div id="modules">
  ## Módulos
</div>

*Import name: `sentry_sdk.integrations.modules.ModulesIntegration`*

Envía una lista de paquetes de Python instalados junto con cada evento.

<div id="argv">
  ## Argv
</div>

*Nombre de importación: `sentry_sdk.integrations.argv.ArgvIntegration`*

Añade `sys.argv` como un atributo `extra` a cada evento.

<div id="logging">
  ## Registro de logs
</div>

*Nombre de importación: `sentry_sdk.integrations.logging.LoggingIntegration`*

Consulta [*Registro de logs*](/es/platforms/python/integrations/logging/)

<div id="threading">
  ## Hilos
</div>

*Nombre de importación: `sentry_sdk.integrations.threading.ThreadingIntegration`*

Informa sobre hilos que se bloquean.

Esta integración también acepta la opción `propagate_scope`, que influye en cómo se transfieren los datos entre hilos. Si se establece en `True` (valor predeterminado), el scope actual se compartirá entre hilos y los datos del scope (como las etiquetas) se transferirán del hilo principal al hilo secundario.

Los datos de contexto se propagan automáticamente en los pools de hilos de `concurrent.futures` a partir de la versión 2.41.0, cuando `propagate_scope` es `True`.

A continuación se muestran dos ejemplos de código que ilustran el boilerplate que tendrías que escribir sin `propagate_scope`. Este boilerplate es necesario, por ejemplo, si quieres propagar datos de contexto a un pool de hilos antes de la versión 2.41.0.

<div id="manual-propagation">
  ### Propagación manual
</div>

```python
import threading

import sentry_sdk

sentry_sdk.init(...)

sentry_sdk.set_tag("mydata", 42)

def run(thread_scope):
    thread_scope.capture_message("hola")  # el evento tendrá la etiqueta `mydata` asociada

# Tomamos todos los datos de contexto (el conjunto de etiquetas e incluso toda la configuración del cliente)
# y los pasamos como una variable explícita
# al hilo.
with isolation_scope() as thread_scope:
    tr = threading.Thread(target=run, args=[thread_scope])
    tr.start()
    tr.join()
```

<div id="automatic-propagation">
  ### Propagación automática
</div>

```python
import threading

import sentry_sdk
from sentry_sdk.integrations.threading import ThreadingIntegration

sentry_sdk.init(
    ...,
    integrations=[
        ThreadingIntegration(propagate_scope=True),
    ],
)

sentry_sdk.set_tag("mydata", 42)

def run():
    sentry_sdk.capture_message("hola")  # el evento tendrá la etiqueta `mydata` asociada

# La integración de threading se engancha a la biblioteca estándar para pasar automáticamente
# los datos de contexto existentes cuando se instancia un `Thread`.
tr = threading.Thread(target=run)
tr.start()
tr.join()
```
