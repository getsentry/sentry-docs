---
title: WSGI
description: "Conoce la integración de WSGI y cómo añade compatibilidad para aplicaciones WSGI."
---

Si usas un framework WSGI que el SDK no admite directamente, o escribiste una aplicación WSGI sin framework, puedes usar este middleware WSGI genérico. Captura errores y añade información básica sobre las solicitudes entrantes.

<Alert>
  Consulta nuestra lista de [integraciones compatibles](/es/platforms/python/integrations/), ya que puede que ya exista una integración específica (como [Django](/es/platforms/python/integrations/django/) o [Flask](/es/platforms/python/integrations/flask/)) que sea más fácil de usar y capture información más útil que nuestro middleware WSGI genérico. De ser así, usa la integración específica en lugar de este middleware.
</Alert>

<div id="install">
  ## Instalación
</div>

```bash {tabTitle:pip}
pip install "sentry-sdk"
```

```bash {tabTitle:uv}
uv add "sentry-sdk"
```

<div id="configure">
  ## Configurar
</div>

Además de capturar errores, puedes supervisar las interacciones entre varios servicios o aplicaciones al [habilitar el tracing](/es/concepts/key-terms/tracing/). También puedes recopilar y analizar perfiles de rendimiento de usuarios reales con el [profiling](/es/product/explore/profiling/).

Selecciona qué funciones de Sentry quieres instalar, además de Error Monitoring, para obtener a continuación las instrucciones correspondientes de instalación y configuración.

<OnboardingOptionButtons
  options={[
'error-monitoring',
'performance',
'profiling',
]}
/>

```python
import sentry_sdk
from sentry_sdk.integrations.wsgi import SentryWsgiMiddleware

from my_wsgi_app import app

sentry_sdk.init(
    dsn="___PUBLIC_DSN___",
    # Agrega datos como encabezados de solicitud e IP de usuarios, si aplica;
    # consulta https://docs.sentry.io/platforms/python/data-management/data-collected/ para más información
    send_default_pii=True,
    # ___PRODUCT_OPTION_START___ performance
    # Establece traces_sample_rate en 1.0 para capturar el 100%
    # de las transacciones para el rastreo.
    traces_sample_rate=1.0,
    # ___PRODUCT_OPTION_END___ performance
    # ___PRODUCT_OPTION_START___ profiling
    # Para recopilar perfiles de todas las sesiones de perfilado,
    # establece `profile_session_sample_rate` en 1.0.
    profile_session_sample_rate=1.0,
    # Los perfiles se recopilarán automáticamente mientras
    # haya un span activo.
    profile_lifecycle="trace",
    # ___PRODUCT_OPTION_END___ profiling
)

app = SentryWsgiMiddleware(app)
```

<div id="verify">
  ## Verificación
</div>

Esta aplicación WSGI mínima creará una transacción y la enviará a Sentry siempre que tengas el seguimiento habilitado. El error también se enviará a Sentry y se asociará con la transacción:

```python
import sentry_sdk
from sentry_sdk.integrations.wsgi import SentryWsgiMiddleware

sentry_sdk.init(...)  # same as above

def app(env, start_response):
    start_response('200 OK', [('Content-Type', 'text/plain')])
    response_body = 'Hola Mundo'
    1 / 0  # esto lanza un error
    return [response_body.encode()]

app = SentryWsgiMiddleware(app)

# Ejecutar la aplicación en un mini servidor WSGI.
from wsgiref.simple_server import make_server
make_server('', 8000, app).serve_forever()
```

<div id="behavior">
  ## Comportamiento
</div>

<Include name="python-uwsgi-warning.mdx" />

* Los datos de la solicitud se adjuntan a todos los eventos: **método HTTP, URL, encabezados**. Sentry excluye los cuerpos sin procesar y las cargas de archivos multiparte. Sentry también excluye la información de identificación personal (como IDs de usuario, nombres de usuario, cookies, encabezados de autorización, direcciones IP), a menos que establezcas `send_default_pii` en `True`.

Cada solicitud tiene un ámbito independiente. Los cambios en el ámbito dentro de una vista —por ejemplo, al establecer una etiqueta— solo se aplicarán a los eventos enviados como parte de la solicitud que se está procesando.

* El middleware WSGI no se comporta como una integración normal. No se inicializa mediante un parámetro adicional de `init` y no está asociado a un cliente. Al capturar o complementar eventos, simplemente utiliza los ámbitos activos en ese momento.

<div id="supported-versions">
  ## Versiones compatibles
</div>

* Python: 3.6+

<Include name="python-use-older-sdk-for-legacy-support.mdx" />