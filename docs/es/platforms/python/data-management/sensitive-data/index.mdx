---
title: "Depuración de datos sensibles"
description: "Aprende a filtrar o depurar datos sensibles en el SDK para que no se envíen con el evento. También puedes configurar la depuración del lado del servidor para asegurarte de que no se almacenen."
sidebar_order: 100
keywords:
  - pii
  - gdpr
  - "personally identifiable data"
  - compliance
---

Como con cualquier servicio de terceros, es importante entender qué datos se envían a Sentry y, cuando corresponda, asegurarte de que los datos sensibles nunca lleguen a los servidores de Sentry o, como mínimo, no se almacenen.

Estos son algunos buenos ejemplos de depuración de datos que toda empresa debería considerar:

* PII (Información de identificación personal), como el nombre o la dirección de correo electrónico de un usuario, que tras el GDPR debería estar en la mente de todas las empresas.
* Credenciales de autenticación, como tu contraseña o clave de AWS.
* Propiedad intelectual confidencial, como tu color favorito o tus próximos planes para dominar el mundo.

Ofrecemos las siguientes opciones según tus necesidades legales y operativas:

* Filtrar o depurar datos sensibles en el SDK, de modo que los datos *no se envíen a* Sentry. Los cambios de configuración requieren volver a desplegar tu aplicación.
* [Configurar la depuración del lado del servidor](/es/security-legal-pii/scrubbing/server-side-scrubbing/) para garantizar que Sentry *no almacene* datos. Los cambios de configuración se realizan en la interfaz de Sentry y se aplican de inmediato a los eventos nuevos.
* [Ejecutar un Relay local](/es/product/relay/) en tu propio servidor entre el SDK y Sentry, de modo que los datos *no se envíen a* Sentry y aun así pueda aplicarse la configuración sin desplegar.

<Alert>
  Asegúrate de que tu equipo conozca la política de tu empresa sobre qué se puede y qué no se puede enviar a Sentry. Recomendamos definir esta política desde el inicio de tu implementación, comunicarla y hacerla cumplir mediante la revisión de código.
</Alert>

<div id="personally-identifiable-information-pii">
  ## Información de identificación personal (PII)
</div>

El SDK, a propósito, no envía PII para ir sobre seguro. Este comportamiento se controla mediante una opción llamada [`send_default_pii`](../../configuration/options/#send_default_pii).

Activar esta opción es necesario para que ciertas funciones de Sentry estén disponibles, pero también implica que deberás tener aún más cuidado con los datos que se envían a Sentry (usando las opciones de abajo).

Si *no* deseas usar el comportamiento predeterminado respecto a PII, también puedes optar por identificar a los usuarios de manera más controlada, usando nuestro [contexto de identidad de usuario](../../enriching-events/identify-user/).

<div id="scrubbing-data">
  ## Depuración de datos
</div>

<div id="event_scrubber">
  ### `event_scrubber`
</div>

Puedes usar el parámetro de configuración <PlatformIdentifier name="event-scrubber" /> para facilitar la eliminación de datos sensibles del payload de tus eventos.

<PlatformContent includePath="configuration/event-scrubber" />

### <PlatformIdentifier name="before-send" /> y <PlatformIdentifier name="before-send-transaction" />

El SDK proporciona el gancho <PlatformIdentifier name="before-send" />, que se invoca antes de enviar un evento de error o mensaje y puede usarse para modificar los datos del evento y eliminar información sensible. El SDK también proporciona el gancho <PlatformIdentifier name="before-send-transaction" />, que hace lo mismo para las transacciones. Recomendamos usar <PlatformIdentifier name="before-send" /> y <PlatformIdentifier name="before-send-transaction" /> en el SDK para **sanear cualquier dato antes de enviarlo**, y así garantizar que los datos sensibles nunca salgan del entorno local.

<PlatformContent includePath="configuration/before-send/" />

La información sensible puede aparecer en las siguientes áreas:

* Variables locales de la pila → El SDK recoge valores de variables dentro del stack trace. Estos pueden sanearse, o este comportamiento puede deshabilitarse por completo si es necesario.
* Migas de pan (breadcrumbs) → El SDK recoge sentencias de registro ejecutadas previamente. **No registres PII** si usas esta función e incluyes sentencias de registro como breadcrumbs en el evento. El SDK también registrará consultas de base de datos, que pueden necesitar saneamiento. El SDK añadirá la cadena de consulta HTTP y el fragmento como un atributo de datos al breadcrumb, lo que puede requerir saneamiento.
* Contexto de usuario → El comportamiento automatizado se controla mediante <PlatformIdentifier name="send-default-pii" />.
* Contexto HTTP → Las cadenas de consulta se recogen en frameworks web como parte del contexto de la solicitud HTTP.
* Nombres de transacción → En ciertas situaciones, los nombres de transacción podrían contener datos sensibles. Por ejemplo, una transacción de solicitud HTTP podría tener una URL sin procesar como `/users/1234/details` como nombre (donde `1234` es un ID de usuario, que puede considerarse PII). En la mayoría de los casos, nuestro SDK puede parametrizar URL y rutas correctamente; es decir, convertir `/users/1234/details` en `/users/:userid/details`. Sin embargo, según el framework web, tu configuración de enrutamiento y algunos otros factores, es posible que los SDK no puedan parametrizar por completo todas tus URL.
* Spans HTTP → El SDK incluye la cadena de consulta HTTP y el fragmento como un atributo de datos, lo que significa que el span HTTP puede necesitar saneamiento.

Para más detalles e instrucciones de filtrado de datos, consulta <PlatformLink to="/configuration/filtering/">Filtrado de eventos</PlatformLink>.

<div id="examples">
  ### Ejemplos
</div>

**Información contextual**

En lugar de enviar información confidencial en texto plano, considera aplicarle un hash:

<PlatformContent includePath="sensitive-data/set-tag" />

Esto te permitirá correlacionarla dentro de tus sistemas internos si es necesario, pero mantenerla confidencial para Sentry.

**Detalles del usuario**

Tu organización puede determinar que los correos electrónicos no se consideran confidenciales, pero si lo son, considera enviar en su lugar tu identificador interno:

<PlatformContent includePath="sensitive-data/set-user" />

Hacerlo garantizará que sigas aprovechando las funciones relacionadas con el impacto en el usuario.

**Integraciones de registro**

Como buena práctica, siempre debes evitar registrar información confidencial. Si tienes sistemas heredados con los que necesitas lidiar, considera lo siguiente:

* Anonimiza la información confidencial en las entradas de registro (por ejemplo, sustituye direcciones de correo electrónico por identificadores internos)
* Usa <PlatformIdentifier name="before-breadcrumb" /> para filtrarla de los breadcrumbs antes de que se adjunten
* Establece el parámetro `level` en las <PlatformLink to="/integrations/#logging">integraciones de registro</PlatformLink> que uses en `None`.