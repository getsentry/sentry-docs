---
title: "Configuración y autenticación"
sidebar_order: 1
description: "Conoce la funcionalidad de la interfaz de línea de comandos de Sentry, incluida la instalación, la configuración y la autenticación."
---

Para la mayoría de las funcionalidades necesitas autenticarte con Sentry. Puedes configurarlo automáticamente con `sentry-cli` o manualmente mediante [tokens de organización](https://sentry.io/orgredirect/organizations/:orgslug/settings/auth-tokens/).

<div id="to-use-the-automatic-option">
  ## Para utilizar la opción automática:
</div>

```bash
sentry-cli login
```

Esto te dará la opción de ir a la configuración de usuario de tu token de autenticación, donde puedes crear un token nuevo o simplemente copiar uno existente. Al volver a la CLI, pega tu token y se añadirá automáticamente a `~/.sentryclirc`.

De forma predeterminada, `sentry-cli` se conectará a sentry.io, pero en instalaciones autoalojadas también puedes iniciar sesión en otro servidor:

```bash
sentry-cli --url https://myserver.invalid/ login
```

<div id="to-authenticate-manually">
  ## Autenticación manual:
</div>

Puedes crear manualmente un [token de organización](https://sentry.io/orgredirect/organizations/:orgslug/settings/auth-tokens/) y pasarlo a sentry-cli.

También puedes iniciar sesión en tu cuenta de Sentry (si aún no lo has hecho) y crear un token de autenticación directamente desde esta página.

<Alert>
  Algunas funciones de la CLI, como el [monitoreo de Crons](/es/product/crons/getting-started/cli/), dependen de la autenticación mediante [Data Source Name (DSN)](/es/concepts/key-terms/dsn-explainer/).
</Alert>

Puedes crear un token de autenticación desde esta página de cualquiera de estas tres formas:

* añádelo a `~/.sentryclirc`:

  ```ini
  [auth]
  token=___ORG_AUTH_TOKEN___
  ```

* expórtalo como variable de entorno:

  ```bash
  export SENTRY_AUTH_TOKEN=___ORG_AUTH_TOKEN___
  ```

* pásalo como parámetro al invocar `sentry-cli`:

  ```bash
  $ sentry-cli login --auth-token ___ORG_AUTH_TOKEN___
  ```

<div id="configuration-file">
  ## Archivo de configuración
</div>

La herramienta `sentry-cli` se puede configurar con un archivo de configuración llamado `.sentryclirc`, así como con variables de entorno y archivos `.env`. El archivo de configuración se busca hacia arriba desde la ruta actual y siempre se cargan los valores predeterminados de `~/.sentryclirc`. También puedes sobrescribir estos ajustes con parámetros de la línea de comandos.

El archivo de configuración usa la sintaxis INI estándar.

De forma predeterminada, `sentry-cli` se conectará a sentry.io. Para instalaciones on‑prem, puedes exportar la variable de entorno `SENTRY_URL` y apuntarla a tu instalación:

```bash
export SENTRY_URL=https://mysentry.invalid/
```

También puedes añadirlo a tu configuración de `~/.sentryclirc`. Esto es lo que hace el comando `login`:

```ini
[predeterminados]
url = https://mysentry.invalid/
```

<div id="configuration-values">
  ## Valores de configuración
</div>

Las siguientes opciones están disponibles (primero la variable de entorno; el valor entre paréntesis es la clave en el archivo de configuración):

`SENTRY_AUTH_TOKEN` (*auth.token*):

El token de autenticación que se usará para toda la comunicación con Sentry.

`SENTRY_API_KEY` (*auth.api&#95;key*):

La clave de API heredada para la autenticación, si tienes una.

`SENTRY_DSN` (*auth.dsn*):

El DSN que se usará para conectarse a Sentry.

`SENTRY_URL` (*defaults.url*):

La URL que se usará para conectarse a Sentry. De forma predeterminada es `https://sentry.io/`.

`SENTRY_ORG` (*defaults.org*):

El ID o slug de la organización que se usará para un comando.

`SENTRY_PROJECT` (*defaults.project*):

El ID o slug del proyecto que se usará para un comando.

`SENTRY_VCS_REMOTE` (*defaults.vcs&#95;remote*):

El nombre del remoto en el sistema de control de versiones. De forma predeterminada es `origin`.

`SENTRY_PIPELINE` (*defaults.pipeline*):

El nombre del entorno que se añadirá al encabezado `User-Agent`.

`CUSTOM_HEADER` (*defaults.custom&#95;header*):

El encabezado que se añadirá a cada solicitud saliente en formato `key:value`.

`SENTRY_ALLOW_FAILURE`

Nota: Esta opción ignorará los fallos del CLI al subir símbolos. OJO: esto desbloqueará tu CI en caso de que Sentry tenga problemas, pero no tendrás bloqueos/minidumps desofuscados en producción.
Al usar este flag, deberías descargar tus sourcemaps/archivos de depuración desde la CI para volver a ejecutar el comando de subida de símbolos más adelante, cuando Sentry esté disponible.

(*http.keepalive*):

Este ajuste (solo en ini) controla el comportamiento del SDK respecto a los keepalive de HTTP. El valor predeterminado es *true*, pero se puede establecer en *false* para deshabilitar la compatibilidad con keepalive.

`http_proxy` (*http.proxy&#95;url*):

La URL que debe usarse para el proxy HTTP. También se respeta la variable de entorno estándar `http_proxy`. Ten en cuenta que va en minúsculas.

(*http.proxy&#95;username*):

Este ajuste (solo en ini) establece el nombre de usuario del proxy si se requiere autenticación.

(*http.proxy&#95;password*):

Este ajuste (solo en ini) establece la contraseña del proxy si se requiere autenticación.

(*http.verify&#95;ssl*):

Se puede usar para deshabilitar la verificación SSL cuando se establece en false. No deberías hacerlo salvo que estés trabajando localmente con un servidor autofirmado conocido.

(*http.check&#95;ssl&#95;revoke*):

Si se establece en false, se deshabilitan las comprobaciones de revocación de SSL en Windows. Esto puede ser útil cuando se trabaja con un proxy corporativo MITM de SSL que no implementa correctamente dichas comprobaciones. No lo uses a menos que sea absolutamente necesario.

`SENTRY_HTTP_MAX_RETRIES` (*http.max&#95;retries*):

Establece el número máximo de reintentos para solicitudes HTTP que puedan estar experimentando un fallo transitorio. El valor predeterminado es `5`.

(*ui.show&#95;notifications*):

Si se establece en false, se deshabilitan algunas notificaciones del sistema operativo. Actualmente afecta principalmente a compilaciones de Xcode, que no mostrarán notificaciones para compilaciones en segundo plano.

`SENTRY_LOG_LEVEL` (*log.level*):

Configura el nivel de registro para el SDK. El valor predeterminado es `warn`. Si quieres ver qué hace la biblioteca, puedes establecerlo en `info`, lo que mostrará más información que podría ayudar a depurar problemas de permisos. Los valores posibles son `trace`, `debug`, `info`, `warn` y `error`.

(*dif.max&#95;upload&#95;size*):

Establece el tamaño máximo de subida en bytes (antes de la compresión) de símbolos de depuración en un lote. El valor predeterminado es 35 MB o 100 MB (según la versión de sentry-cli), lo cual es adecuado para sentry.io, pero si usas un servidor de Sentry diferente, quizá quieras cambiar este límite si es necesario. (Antes de la versión 1.72.0, esta opción se llamaba `dsym.max_upload_size`).

(*dif.max&#95;item&#95;size*):

Establece el tamaño máximo de un archivo individual dentro del paquete DIF. El valor predeterminado es 1 MB.

`SENTRY_DISABLE_UPDATE_CHECK` (*update.disable&#95;check*):

Si se establece en `true`, se deshabilita la comprobación automática de actualizaciones en sentry-cli. En este momento, la comprobación de actualizaciones tampoco está habilitada para instalaciones de sentry-cli basadas en npm.

`SENTRY_NO_PROGRESS_BAR`:

Si se establece en `1`, `sentry-cli` no mostrará barras de progreso en ninguna operación.

`SENTRY_LOAD_DOTENV`:

Establécelo en `0` para evitar que sentry-cli cargue un archivo `.env`.

`SENTRY_DOTENV_PATH`:

Especifica una ruta al archivo `.env` que se cargará durante la configuración. Se introdujo en la versión 1.70.

`DEVICE_FAMILY` (*device.family*):

Valor de la familia del dispositivo reportado a Sentry.

`DEVICE_MODEL` (*device.model*):

Valor del modelo del dispositivo reportado a Sentry.

<div id="validating-the-config">
  ## Validación de la configuración
</div>

Para comprobar que todo funciona, puedes ejecutar `sentry-cli info`; debería mostrar información básica sobre la instalación de Sentry a la que te conectas, así como algunos datos de autenticación.

<div id="working-with-projects">
  ## Trabajar con proyectos
</div>

Muchos comandos requieren que especifiques la organización y el proyecto con los que trabajar. Hay varias maneras de hacerlo.

<div id="config-defaults">
  ### Valores de configuración predeterminados
</div>

Si siempre trabajas con los mismos proyectos, puedes definirlo en el archivo `.sentryclirc`:

```ini
[defaults]
project=mi-proyecto
org=mi-org
```

<div id="environment-variables">
  ### Variables de entorno
</div>

También puedes configurar estos valores predeterminados mediante variables de entorno. Hay dos variables de entorno que controlan esto (`SENTRY_ORG` y `SENTRY_PROJECT`) que puedes exportar:

```bash
export SENTRY_ORG=mi-org
export SENTRY_PROJECT=mi-proyecto
```

<div id="properties-files">
  ### Archivos de propiedades
</div>

Además, `sentry-cli` permite cargar valores de configuración desde archivos `.properties` (comunes en el entorno de Java). Puedes indicar a `sentry-cli` que cargue archivos de configuración desde allí exportando la ruta a un archivo `.properties` en la variable de entorno `SENTRY_PROPERTIES`. Esto suele hacerse automáticamente para algunas de nuestras integraciones de cliente, como [Java](/es/platforms/java/) y [React Native](/es/platforms/react-native/).

Dentro de los archivos `.properties`, simplemente usa la notación con puntos para establecer valores. Ejemplo:

```ini
defaults.url=https://mysentry.invalid/
```

Para indicar a continuación a `sentry-cli` que use ese archivo, utiliza lo siguiente:

```bash
export SENTRY_PROPERTIES=/ruta/al/archivo/sentry.properties
sentry-cli ...
```

<div id="explicit-options">
  ### Opciones explícitas
</div>

Por último, también puedes proporcionar estos valores explícitamente al comando que estés ejecutando. Los parámetros siempre se llaman `--org` o `-o` para la organización y `--project` o `-p` para el proyecto.

Ten en cuenta que no siempre corresponden al mismo comando. Por ejemplo, si estás gestionando versiones (que se comparten en toda la organización), normalmente indicas la organización al comando `releases`, pero los proyectos al subcomando correspondiente:

```bash
sentry-cli releases -o mi-org new -p mi-project 1.0
```

Para obtener más información, usa el comando `help`, que mostrará la documentación de todos los parámetros.
