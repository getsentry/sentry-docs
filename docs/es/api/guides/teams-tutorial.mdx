---
title: "Tutorial: Crear y listar equipos con la API de Sentry"
sidebar_order: 7
---

Esta guía te guía por los conceptos básicos para usar la API de Sentry a fin de listar los equipos de una organización y crear uno nuevo.

APIs usadas en este tutorial:

* [Listar los equipos de una organización](/es/api/teams/list-an-organizations-teams/)
* [Crear un equipo nuevo](/es/api/teams/create-a-new-team/)

<div id="prerequisites">
  ## Requisitos previos
</div>

* Un token de autenticación de Sentry con permisos team:write o superiores y project:read o superiores.

  > Si no tienes un token de autenticación, sigue el tutorial [Create a Sentry Authentication Token](/es/api/guides/create-auth-token) para crear un token de organización con los siguientes permisos, o superiores:
  >
  > * Organization: Read
  > * Team: Write

Recomendamos usar una cuenta de desarrollador gratuita de [Sentry](https://sentry.io/pricing/) para este tutorial.

<div id="list-an-organizations-teams">
  ## Listar los equipos de una organización
</div>

Primero, usarás la API [List an Organization&#39;s Teams](/es/api/teams/list-an-organizations-teams/) para listar todos los equipos de tu organización.

<div id="find-your-organization-id">
  ### Busca el ID de tu organización
</div>

La API para listar equipos requiere que proporciones el ID de una organización para poder mostrarlos.

Puedes encontrar el ID de tu organización en la URL del navegador de tu instancia de Sentry. Por ejemplo: https://test-org.sentry.io/.

<div id="make-the-curl-call">
  ### Realiza la llamada cURL
</div>

1. Abre tu terminal.

2. Guarda tu token de autenticación y el ID de la organización como variables de entorno para facilitar su uso. Pega los siguientes comandos en tu terminal, reemplazando `<organization_id>` por el ID de tu organización y `<auth_token>` por el token de autenticación que copiaste anteriormente:

   ```bash
   export SENTRY_ORG_ID=<organization_id>
   export SENTRY_AUTH_TOKEN=<auth_token>
   ```

3. Pega el siguiente comando de cURL en tu terminal:

   ```bash
   curl "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/?detailed=0" \
       -H "Authorization: Bearer $SENTRY_AUTH_TOKEN"
   ```

4. Aquí tienes un ejemplo de cómo debería verse la salida del comando para una organización que tiene un equipo llamado &quot;test-team&quot;:

   ```json
   [
     {
       "id": "4505449964175360",
       "slug": "test-team",
       "name": "test-team",
       "dateCreated": "2023-06-30T18:44:59.196618Z",
       "isMember": false,
       "teamRole": null,
       "flags": {
         "idp:provisioned": false
       },
       "access": [
         "alerts:read",
         "team:read",
         "member:read",
         "org:read",
         "project:releases",
         "project:read",
         "event:write",
         "event:read"
       ],
       "hasAccess": true,
       "isPending": false,
       "memberCount": 1,
       "avatar": {
         "avatarType": "letter_avatar",
         "avatarUuid": null
       },
       "orgRole": null
     }
   ]
   ```

   La salida proporciona detalles sobre los equipos dentro de la organización especificada.

   Si tu organización tiene suficientes equipos, la API devolverá resultados paginados. Consulta la documentación de Sentry sobre [Paginación](/es/api/pagination/) para aprender a manejar resultados paginados.

5. [Opcional] Para listar información sobre los proyectos asociados con cada equipo, puedes establecer el parámetro de consulta `detailed` en `1`:

   ```bash
   curl "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/?detailed=1" \
       -H "Authorization: Bearer $SENTRY_AUTH_TOKEN"
   ```

   Aquí tienes un ejemplo de cómo podría verse esa salida si &quot;test-team&quot; tiene un proyecto asociado llamado &quot;test-project&quot;:

   ```json
   [
       {
       ...
           "orgRole": null,
           "externalTeams": [],
           "projects": [
               {
                   "id": "4505506997403648",
                   "slug": "test-project",
                   "name": "test-project",
                   "platform": "javascript-react",
                   "dateCreated": "2023-07-10T20:29:17.426792Z",
                   "isBookmarked": false,
                   "isMember": false,
                   "features": [
                       "alert-filters",
                       "minidump",
                       "race-free-group-creation",
                       "similarity-indexing",
                       "similarity-view",
                       "releases"
                   ],
                   "firstEvent": "2023-07-10T20:39:35.811000Z",
                   "firstTransactionEvent": true,
                   "access": [],
                   "hasAccess": true,
                   "hasMinifiedStackTrace": true,
                   "hasMonitors": false,
                   "hasProfiles": false,
                   "hasReplays": true,
                   "hasSessions": true,
                   "isInternal": false,
                   "isPublic": false,
                   "avatar": {
                       "avatarType": "letter_avatar",
                       "avatarUuid": null
                   },
                   "color": "#bf853f",
                   "status": "active"
               }
           ]
       }
   ]
   ```

<div id="create-a-team">
  ## Crear un equipo
</div>

Ahora que conoces los equipos que ya existen en tu organización, usa la API [Create a New Team](/es/api/teams/create-a-new-team/) para crear otro.

1. Asegúrate de que tu token de autenticación y el ID de la organización sigan guardados como variables de entorno en tu shell.

2. Pega el siguiente comando cURL en tu terminal:

   ```bash
   curl -d "name=tutorial-team" -X POST "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/" \
       -H "Authorization: Bearer $SENTRY_AUTH_TOKEN"
   ```

   El parámetro de consulta `name` indica que el equipo creado debe llamarse &quot;tutorial-team&quot;.

3. Aquí tienes un ejemplo de cómo debería verse la salida del comando:

   ```json
   {
     "id": "4505524553711616",
     "slug": "tutorial-team",
     "name": "tutorial-team",
     "dateCreated": "2023-07-13T22:54:05.074990Z",
     "isMember": false,
     "teamRole": null,
     "flags": {
       "idp:provisioned": false
     },
     "access": [
       "event:write",
       "member:read",
       "alerts:read",
       "project:releases",
       "project:read",
       "event:read",
       "team:read",
       "org:read"
     ],
     "hasAccess": true,
     "isPending": false,
     "memberCount": 0,
     "avatar": {
       "avatarType": "letter_avatar",
       "avatarUuid": null
     },
     "orgRole": null
   }
   ```

4. [Opcional] Para crear un equipo donde el valor de `slug` sea distinto del de `name`, puedes especificar ambos en tu llamada POST, así:

   ```bash
   curl -d "name=tutorial-team&slug=tutorial-team-slug" -X POST "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/" \
       -H "Authorization: Bearer $SENTRY_AUTH_TOKEN"
   ```

<div id="list-an-organizations-teams">
  ## Listar los equipos de una organización
</div>

Por último, llama de nuevo a la API [List an Organization&#39;s Teams](/es/api/teams/list-an-organizations-teams/) para asegurarte de que aparezca tu nuevo equipo.

1. Asegúrate de que tu token de autenticación y el ID de la organización sigan almacenados como variables de entorno en tu shell.

2. Pega el siguiente comando cURL en tu terminal:

   ```bash
   curl "https://sentry.io/api/0/organizations/$SENTRY_ORG_ID/teams/?detailed=0" \
       -H "Authorization: Bearer $SENTRY_AUTH_TOKEN"
   ```

3. La respuesta debería incluir una entrada para tu nuevo &quot;tutorial-team&quot; y verse algo así:

   ```json
   [
     {
       "id": "4505524236910592",
       "slug": "test-team",
       "name": "test-team",
       "dateCreated": "2023-07-13T21:33:31.686812Z",
       "isMember": false,
       "teamRole": null,
       "flags": {
         "idp:provisioned": false
       },
       "access": [
         "member:read",
         "alerts:read",
         "org:read",
         "project:read",
         "team:read",
         "project:releases",
         "event:read",
         "event:write"
       ],
       "hasAccess": true,
       "isPending": false,
       "memberCount": 1,
       "avatar": {
         "avatarType": "letter_avatar",
         "avatarUuid": null
       },
       "orgRole": null
     },
     {
       "id": "4505524616167424",
       "slug": "tutorial-team",
       "name": "tutorial-team",
       "dateCreated": "2023-07-13T23:09:58.243168Z",
       "isMember": false,
       "teamRole": null,
       "flags": {
         "idp:provisioned": false
       },
       "access": [
         "member:read",
         "alerts:read",
         "org:read",
         "project:read",
         "team:read",
         "project:releases",
         "event:read",
         "event:write"
       ],
       "hasAccess": true,
       "isPending": false,
       "memberCount": 0,
       "avatar": {
         "avatarType": "letter_avatar",
         "avatarUuid": null
       },
       "orgRole": null
     }
   ]
   ```