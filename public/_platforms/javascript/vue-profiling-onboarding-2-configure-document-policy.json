{"key":"javascript.vue-profiling-onboarding-2-configure-document-policy","type":"framework","doc_link":"https://docs.sentry.io/platforms/javascript/profiling/","name":"Browser (JS Self Profiling)","aliases":[],"categories":[],"body":"<h4 id=\"add-document-policy-js-profiling-header\" style=\"position:relative;\">Add Document-Policy: js-profiling header</h4>\n<p>In order for the profiler to start, the document response header has to include a <code>Document-Policy</code> header key with the <code>js-profiling</code> value.</p>\n<p>How you do this will depend on your server. If you're using a server like express, you'll be able to use the <a href=\"https://expressjs.com/en/4x/api.html#res.set\">response.set</a> function.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js highlight\"><code class=\"language-js\">app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">request<span class=\"token punctuation\">,</span> response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  response<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Document-Policy\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"js-profiling\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  response<span class=\"token punctuation\">.</span><span class=\"token function\">sendFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"index.html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>"}