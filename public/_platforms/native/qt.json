{"key":"native.qt","type":"framework","doc_link":"https://docs.sentry.io/platforms/native/guides/qt/","name":"Qt","aliases":[],"categories":["desktop","mobile"],"body":"<p>Install the SDK by downloading the <a href=\"https://github.com/getsentry/sentry-native/releases\">latest release</a>. Next, follow the\ninstructions in the <a href=\"https://docs.sentry.io/platforms/native/guides/qt/\"><em>Native SDK Documentation</em></a> to build the SDK library.</p>\n<p>Import and initialize the Sentry SDK early in your application setup:</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp highlight\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QtWidgets&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;sentry.h&gt;</span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> argc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>argv<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    sentry_options_t <span class=\"token operator\">*</span>options <span class=\"token operator\">=</span> <span class=\"token function\">sentry_options_new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">sentry_options_set_dsn</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// This is also the default-path. For further information and recommendations:</span>\n    <span class=\"token comment\">// https://docs.sentry.io/platforms/native/configuration/options/#database-path</span>\n    <span class=\"token function\">sentry_options_set_database_path</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token string\">\".sentry-native\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">sentry_options_set_release</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token string\">\"my-project-name@2.3.12\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">sentry_options_set_debug</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">sentry_init</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Make sure everything flushes</span>\n    <span class=\"token keyword\">auto</span> sentryClose <span class=\"token operator\">=</span> <span class=\"token function\">qScopeGuard</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">sentry_close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    QApplication <span class=\"token function\">app</span><span class=\"token punctuation\">(</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* ... */</span>\n    <span class=\"token keyword\">return</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Alternatively, the </p><div class=\"term-wrapper\"><span class=\"term\">DSN</span><span class=\"description\" role=\"tooltip\" aria-label=\"DSN definition\">The Data Source Name (DSN) key tells the Sentry SDK where to send events, ensuring they go to the right project.</span></div> can be passed as <code>SENTRY_DSN</code> environment variable during\nruntime. This can be especially useful for server applications.<p></p>\n<p>The quickest way to verify Sentry in your Qt application is by capturing a message:</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c highlight\"><code class=\"language-c\"><span class=\"token function\">sentry_capture_event</span><span class=\"token punctuation\">(</span><span class=\"token function\">sentry_value_new_message_event</span><span class=\"token punctuation\">(</span>\n  <span class=\"token comment\">/*   level */</span> SENTRY_LEVEL_INFO<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/*  logger */</span> <span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/* message */</span> <span class=\"token string\">\"It works!\"</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>If you're new to Sentry, use the email alert to access your account and complete a product tour.</p>\n<p>If you're an existing user and have disabled alerts, you won't receive this email.</p>"}