{"key":"dotnet.aspnet","type":"framework","doc_link":"https://docs.sentry.io/platforms/dotnet/guides/aspnet/","name":"ASP.NET","aliases":[],"categories":[],"body":"<p>Install the <strong>NuGet</strong> package:</p>\n<p>Package Manager:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell highlight\"><code class=\"language-shell\">Install-Package Sentry.AspNet <span class=\"token parameter variable\">-Version</span> <span class=\"token number\">3.41</span>.4</code></pre></div>\n<p>Using Entity Framework 6?</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell highlight\"><code class=\"language-shell\">Install-Package Sentry.EntityFramework <span class=\"token parameter variable\">-Version</span> <span class=\"token number\">3.41</span>.4</code></pre></div>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"no_toc\">Using .NET Framework prior to 4.6.1?</h5>\n    <div class=\"alert-body content-flush-bottom\">\n        <a href=\"https://docs.sentry.io/platforms/dotnet/legacy-sdk/\">Our legacy SDK</a> supports .NET Framework as early as 3.5.\n    </div>\n</div>\n<p>You should <code>init</code> the Sentry SDK as soon as possible during your application load by adding Sentry to <code>Global.asax.cs</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp highlight\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Configuration</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Web<span class=\"token punctuation\">.</span>Mvc</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Web<span class=\"token punctuation\">.</span>Routing</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Sentry</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Sentry<span class=\"token punctuation\">.</span>AspNet</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Sentry<span class=\"token punctuation\">.</span>EntityFramework</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// if you installed Sentry.EntityFramework</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MvcApplication</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">HttpApplication</span></span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">IDisposable</span> _sentry<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Application_Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Initialize Sentry to capture AppDomain unhandled exceptions and more.</span>\n        _sentry <span class=\"token operator\">=</span> SentrySdk<span class=\"token punctuation\">.</span><span class=\"token function\">Init</span><span class=\"token punctuation\">(</span>o <span class=\"token operator\">=&gt;</span>\n        <span class=\"token punctuation\">{</span>\n            o<span class=\"token punctuation\">.</span><span class=\"token function\">AddAspNet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            o<span class=\"token punctuation\">.</span>Dsn <span class=\"token operator\">=</span> <span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// When configuring for the first time, to see what the SDK is doing:</span>\n            o<span class=\"token punctuation\">.</span>Debug <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// Set TracesSampleRate to 1.0 to capture 100%</span>\n            <span class=\"token comment\">// of transactions for performance monitoring.</span>\n            <span class=\"token comment\">// We recommend adjusting this value in production</span>\n            o<span class=\"token punctuation\">.</span>TracesSampleRate <span class=\"token operator\">=</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// If you are using EF (and installed the NuGet package):</span>\n            o<span class=\"token punctuation\">.</span><span class=\"token function\">AddEntityFramework</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Global error catcher</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Application_Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> Server<span class=\"token punctuation\">.</span><span class=\"token function\">CaptureLastError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Application_BeginRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        Context<span class=\"token punctuation\">.</span><span class=\"token function\">StartSentryTransaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Application_EndRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        Context<span class=\"token punctuation\">.</span><span class=\"token function\">FinishSentryTransaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Application_End</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Flushes out events before shutting down.</span>\n        _sentry<span class=\"token punctuation\">?.</span><span class=\"token function\">Dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"documentation\" style=\"position:relative;\">Documentation</h3>\n<p>Once you've verified the package is initialized properly and sent a test event, consider visiting our <a href=\"https://docs.sentry.io/platforms/dotnet/guides/aspnet/\">complete ASP.NET docs</a>.</p>\n<h3 id=\"samples\" style=\"position:relative;\">Samples</h3>\n<p>You can find an example ASP.NET MVC 5 app with Sentry integrated <a href=\"https://github.com/getsentry/examples/tree/master/dotnet/AspNetMvc5Ef6\">on this GitHub repository.</a></p>\n<p>See the following examples that demonstrate how to integrate Sentry with various frameworks.</p>\n<ul>\n<li><a href=\"https://github.com/getsentry/sentry-dotnet/tree/main/samples\">Multiple samples in the <code>dotnet</code> SDK repository</a> (<strong>C#</strong>)</li>\n<li><a href=\"https://github.com/sentry-demos/fsharp\">Basic F# sample</a> (<strong>F#</strong>)</li>\n</ul>"}