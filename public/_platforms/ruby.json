{"key":"ruby","type":"language","doc_link":"https://docs.sentry.io/platforms/ruby/","name":"Ruby","aliases":[],"categories":[],"body":"<h2 id=\"install\" style=\"position:relative;\">Installation</h2>\n<p>Sentry Ruby comes as a gem and is straightforward to install. If you are using Bundler just add this to your <code>Gemfile</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\">gem <span class=\"token string-literal\"><span class=\"token string\">\"sentry-ruby\"</span></span></code></pre></div>\n<h2 id=\"configure\" style=\"position:relative;\">Configuration</h2>\n<p>To use Sentry Ruby all you need is your </p><div class=\"term-wrapper\"><span class=\"term\">DSN</span><span class=\"description\" role=\"tooltip\" aria-label=\"DSN definition\">The Data Source Name (DSN) key tells the Sentry SDK where to send events, ensuring they go to the right project.</span></div>. Like most Sentry libraries it will honor the <code>SENTRY_DSN</code> environment variable. You can find it on the <div class=\"term-wrapper\"><span class=\"term\">project</span><span class=\"description\" role=\"tooltip\" aria-label=\"project definition\">Represents your service in Sentry and allows you to scope events to a distinct application.</span></div> settings page under API Keys. You can either export it as environment variable or manually configure it with <code>Sentry.init</code>:<p></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\">Sentry<span class=\"token punctuation\">.</span>init <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n  config<span class=\"token punctuation\">.</span>dsn <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">'___PUBLIC_DSN___'</span></span>\n\n  <span class=\"token comment\"># Set traces_sample_rate to 1.0 to capture 100%</span>\n  <span class=\"token comment\"># of transactions for performance monitoring.</span>\n  <span class=\"token comment\"># We recommend adjusting this value in production.</span>\n  config<span class=\"token punctuation\">.</span>traces_sample_rate <span class=\"token operator\">=</span> <span class=\"token number\">1.0</span>\n  <span class=\"token comment\"># or</span>\n  config<span class=\"token punctuation\">.</span>traces_sampler <span class=\"token operator\">=</span> lambda <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>context<span class=\"token operator\">|</span>\n    <span class=\"token boolean\">true</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2 id=\"usage\" style=\"position:relative;\">Usage</h2>\n<p>You can then report errors or messages to Sentry:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\"><span class=\"token keyword\">begin</span>\n  <span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">rescue</span> ZeroDivisionError <span class=\"token operator\">=&gt;</span> exception\n  Sentry<span class=\"token punctuation\">.</span>capture_exception<span class=\"token punctuation\">(</span>exception<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n\nSentry<span class=\"token punctuation\">.</span>capture_message<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"test message\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>"}