{"key":"apple.ios","type":"language","doc_link":"https://docs.sentry.io/platforms/apple/","name":"iOS","aliases":[],"categories":["mobile"],"body":"<h2 id=\"install\" style=\"position:relative;\">Install</h2>\n<p>We recommend installing the SDK with Swift Package Manager (SPM), but we also support <a href=\"https://docs.sentry.io/platforms/apple/install/\">alternate installation methods</a>. To integrate Sentry into your Xcode </p><div class=\"term-wrapper\"><span class=\"term\">project</span><span class=\"description\" role=\"tooltip\" aria-label=\"project definition\">Represents your service in Sentry and allows you to scope events to a distinct application.</span></div> using SPM, open your App in Xcode and open <strong>File &gt; Add Packages</strong>. Then add the SDK by entering the Git repo url in the top right search field:<p></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text highlight\"><code class=\"language-text\">https://github.com/getsentry/sentry-cocoa.git</code></pre></div>\n<p>Alternatively, when your project uses a <code>Package.swift</code> file to manage dependencies, you can specify the target with:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift highlight\"><code class=\"language-swift\"><span class=\"token punctuation\">.</span><span class=\"token function\">package</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"https://github.com/getsentry/sentry-cocoa\"</span></span><span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"8.19.0\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h2 id=\"configure\" style=\"position:relative;\">Configure</h2>\n<p>Make sure you initialize the SDK as soon as possible in your application lifecycle e.g. in your AppDelegate <code>application:didFinishLaunchingWithOptions</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift highlight\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token class-name\">Sentry</span>\n\n<span class=\"token comment\">// ....</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function-definition function\">application</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> application<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIApplication</span><span class=\"token punctuation\">,</span>\n    didFinishLaunchingWithOptions launchOptions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">UIApplication</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">LaunchOptionsKey</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">Any</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">SentrySDK</span><span class=\"token punctuation\">.</span>start <span class=\"token punctuation\">{</span> options <span class=\"token keyword\">in</span>\n        options<span class=\"token punctuation\">.</span>dsn <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">\"___PUBLIC_DSN___\"</span></span>\n        options<span class=\"token punctuation\">.</span>debug <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// Enabled debug when first installing is always helpful</span>\n\n        <span class=\"token comment\">// Set tracesSampleRate to 1.0 to capture 100% of transactions for performance monitoring.</span>\n        <span class=\"token comment\">// We recommend adjusting this value in production.</span>\n        options<span class=\"token punctuation\">.</span>tracesSampleRate <span class=\"token operator\">=</span> <span class=\"token number\">1.0</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>When using SwiftUI and your app doesn't implement an app delegate, initialize the SDK within the <a href=\"https://developer.apple.com/documentation/swiftui/app/main()\">App conformer's initializer</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift highlight\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token class-name\">Sentry</span>\n\n<span class=\"token attribute atrule\">@main</span>\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">SwiftUIApp</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">App</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SentrySDK</span><span class=\"token punctuation\">.</span>start <span class=\"token punctuation\">{</span> options <span class=\"token keyword\">in</span>\n            options<span class=\"token punctuation\">.</span>dsn <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">\"___PUBLIC_DSN___\"</span></span>\n            options<span class=\"token punctuation\">.</span>debug <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// Enabled debug when first installing is always helpful</span>\n\n            <span class=\"token comment\">// Set tracesSampleRate to 1.0 to capture 100% of transactions for performance monitoring.</span>\n            <span class=\"token comment\">// We recommend adjusting this value in production.</span>\n            options<span class=\"token punctuation\">.</span>tracesSampleRate <span class=\"token operator\">=</span> <span class=\"token number\">1.0</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"verify\" style=\"position:relative;\">Verify</h2>\n<p>This snippet contains an intentional error you can use to test that errors are uploaded to Sentry correctly. You can add it to your main <code>ViewController</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift highlight\"><code class=\"language-swift\"><span class=\"token keyword\">let</span> button <span class=\"token operator\">=</span> <span class=\"token class-name\">UIButton</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>roundedRect<span class=\"token punctuation\">)</span>\nbutton<span class=\"token punctuation\">.</span>frame <span class=\"token operator\">=</span> <span class=\"token class-name\">CGRect</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\nbutton<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Break the world\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nbutton<span class=\"token punctuation\">.</span><span class=\"token function\">addTarget</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">:</span> <span class=\"token other-directive property\">#selector</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">breakTheWorld</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>touchUpInside<span class=\"token punctuation\">)</span>\nview<span class=\"token punctuation\">.</span><span class=\"token function\">addSubview</span><span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">)</span>\n\n<span class=\"token attribute atrule\">@IBAction</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">breakTheWorld</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> sender<span class=\"token punctuation\">:</span> <span class=\"token class-name\">AnyObject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fatalError</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Break the world\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"experimental-features\" style=\"position:relative;\">Experimental Features</h3>\n<blockquote>\n<p>Want to play with some new features? Try out our experimental features for <a href=\"https://docs.sentry.io/platforms/apple/guides/ios/enriching-events/viewhierarchy/\">View Hierarchy</a>, <a href=\"https://docs.sentry.io/platforms/apple/guides/ios/performance/instrumentation/automatic-instrumentation/#time-to-full-display\">Time to Full Display (TTFD)</a>, <a href=\"https://docs.sentry.io/platforms/apple/guides/watchos/configuration/metric-kit/\">MetricKit</a>, <a href=\"https://docs.sentry.io/platforms/apple/performance/instrumentation/automatic-instrumentation/#prewarmed-app-start-tracing\">Prewarmed App Start Tracing</a>, and <a href=\"https://docs.sentry.io/platforms/apple/guides/ios/#stitch-together-swift-concurrency-stack-traces\">Swift Async Stacktraces</a>. Experimental features are still a work-in-progress and may have bugs. We recognize the irony.</p>\n<p>Let us know if you have feedback through <a href=\"https://github.com/getsentry/sentry-cocoa/issues\">GitHub issues</a>.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift highlight\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token class-name\">Sentry</span>\n\n<span class=\"token class-name\">SentrySDK</span><span class=\"token punctuation\">.</span>start <span class=\"token punctuation\">{</span> options <span class=\"token keyword\">in</span>\n    <span class=\"token comment\">// ...</span>\n\n    <span class=\"token comment\">// Enable all experimental features</span>\n    options<span class=\"token punctuation\">.</span>attachViewHierarchy <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    options<span class=\"token punctuation\">.</span>enablePreWarmedAppStartTracing <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    options<span class=\"token punctuation\">.</span>enableMetricKit <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    options<span class=\"token punctuation\">.</span>enableTimeToFullDisplayTracing <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    options<span class=\"token punctuation\">.</span>swiftAsyncStacktraces <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2 id=\"next-steps\" style=\"position:relative;\">Next Steps</h2>\n<ul>\n<li><a href=\"https://docs.sentry.io/platforms/apple/install/\">CocoaPods/Carthage</a>: Learn about integrating Sentry into your <div class=\"term-wrapper\"><span class=\"term\">project</span><span class=\"description\" role=\"tooltip\" aria-label=\"project definition\">Represents your service in Sentry and allows you to scope events to a distinct application.</span></div> using CocoaPods or Carthage.</li>\n<li><a href=\"https://docs.sentry.io/platforms/apple/dsym/\">Debug Symbols</a>: Symbolicate and get readable stacktraces in your Sentry errors.</li>\n<li><a href=\"https://docs.sentry.io/platforms/apple/performance/instrumentation/swiftui-instrumentation/\">SwiftUI</a>: Learn about our first class integration with SwiftUI.</li>\n<li><a href=\"https://docs.sentry.io/platforms/apple/profiling/\">Profiling</a>: Collect and analyze performance profiles from real user devices in production.</li>\n</ul>"}