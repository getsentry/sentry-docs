{"key":"dotnet","type":"language","doc_link":"https://docs.sentry.io/platforms/dotnet/","name":".NET","aliases":["C#"],"categories":[],"body":"<alert level=\"info\">\nSentry for .NET is a collection of NuGet packages provided by Sentry; it supports .NET Framework 4.6.1 and .NET Core 2.0 and above. At its core, Sentry for .NET provides a raw client for sending events to Sentry. If you use a framework such as <strong>ASP.NET</strong>, <strong>WinForms</strong>, <strong>WPF</strong>, <strong>MAUI</strong>, <strong>Xamarin</strong>, <strong>Serilog</strong>, or similar, we recommend visiting our <a href=\"https://docs.sentry.io/platforms/dotnet/\">Sentry .NET</a> documentation for installation instructions.\n</alert>\n<p>Install the <strong>NuGet</strong> package:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell highlight\"><code class=\"language-shell\"><span class=\"token comment\"># Using Package Manager</span>\nInstall-Package Sentry <span class=\"token parameter variable\">-Version</span> <span class=\"token number\">3.41</span>.4\n\n<span class=\"token comment\"># Or using .NET Core CLI</span>\ndotnet <span class=\"token function\">add</span> package Sentry <span class=\"token parameter variable\">-v</span> <span class=\"token number\">3.41</span>.4</code></pre></div>\n<p>Initialize the SDK as early as possible. For example, call <code>SentrySdk.Init</code> in your <code>Program.cs</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp highlight\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">Sentry</span><span class=\"token punctuation\">;</span>\n\nSentrySdk<span class=\"token punctuation\">.</span><span class=\"token function\">Init</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=&gt;</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// A Sentry Data Source Name (DSN) is required.</span>\n    <span class=\"token comment\">// See https://docs.sentry.io/product/sentry-basics/dsn-explainer/</span>\n    <span class=\"token comment\">// You can set it in the SENTRY_DSN environment variable, or you can set it in code here.</span>\n    options<span class=\"token punctuation\">.</span>Dsn <span class=\"token operator\">=</span> <span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// When debug is enabled, the Sentry client will emit detailed debugging information to the console.</span>\n    <span class=\"token comment\">// This might be helpful, or might interfere with the normal operation of your application.</span>\n    <span class=\"token comment\">// We enable it here for demonstration purposes when first trying Sentry.</span>\n    <span class=\"token comment\">// You shouldn't do this in your applications unless you're troubleshooting issues with Sentry.</span>\n    options<span class=\"token punctuation\">.</span>Debug <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This option is recommended. It enables Sentry's \"Release Health\" feature.</span>\n    options<span class=\"token punctuation\">.</span>AutoSessionTracking <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This option is recommended for client applications only. It ensures all threads use the same global scope.</span>\n    <span class=\"token comment\">// If you're writing a background service of any kind, you should remove this.</span>\n    options<span class=\"token punctuation\">.</span>IsGlobalModeEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This option will enable Sentry's tracing features. You still need to start transactions and spans.</span>\n    options<span class=\"token punctuation\">.</span>EnableTracing <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Verify Sentry is correctly configured by sending a message:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp highlight\"><code class=\"language-csharp\">SentrySdk<span class=\"token punctuation\">.</span><span class=\"token function\">CaptureMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Something went wrong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"performance-monitoring\" style=\"position:relative;\">Performance Monitoring</h3>\n<p>You can measure the performance of your code by capturing transactions and spans.</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp highlight\"><code class=\"language-csharp\"><span class=\"token comment\">// Transaction can be started by providing, at minimum, the name and the operation</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> transaction <span class=\"token operator\">=</span> SentrySdk<span class=\"token punctuation\">.</span><span class=\"token function\">StartTransaction</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"test-transaction-name\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"test-transaction-operation\"</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Transactions can have child spans (and those spans can have child spans as well)</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> span <span class=\"token operator\">=</span> transaction<span class=\"token punctuation\">.</span><span class=\"token function\">StartChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test-child-operation\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n<span class=\"token comment\">// (Perform the operation represented by the span/transaction)</span>\n<span class=\"token comment\">// ...</span>\n\nspan<span class=\"token punctuation\">.</span><span class=\"token function\">Finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Mark the span as finished</span>\ntransaction<span class=\"token punctuation\">.</span><span class=\"token function\">Finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Mark the transaction as finished and send it to Sentry</span></code></pre></div>\n<p>Check out <a href=\"https://docs.sentry.io/platforms/dotnet/performance/instrumentation/\">the documentation</a> to learn more about the API and automatic instrumentations.</p>\n<h3 id=\"samples\" style=\"position:relative;\">Samples</h3>\n<p>You can find an example ASP.NET MVC 5 app with Sentry integrated <a href=\"https://github.com/getsentry/examples/tree/master/dotnet/AspNetMvc5Ef6\">on this GitHub repository.</a></p>\n<p>In addition, these examples demonstrate how to integrate Sentry with various frameworks:</p>\n<ul>\n<li><a href=\"https://github.com/getsentry/sentry-dotnet/tree/main/samples\">Multiple samples in the <code>dotnet</code> SDK repository</a> (<strong>C#</strong>)</li>\n<li><a href=\"https://github.com/sentry-demos/fsharp\">Basic F# sample</a> (<strong>F#</strong>)</li>\n</ul>"}