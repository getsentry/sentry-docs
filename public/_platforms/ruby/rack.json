{"key":"ruby.rack","type":"framework","doc_link":"https://docs.sentry.io/platforms/ruby/guides/rack/","name":"Rack Middleware","aliases":[],"categories":[],"body":"<h3 id=\"installation\" style=\"position:relative;\">Installation</h3>\n<p>Install the SDK via Rubygems by adding it to your <code>Gemfile</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\">gem <span class=\"token string-literal\"><span class=\"token string\">\"sentry-ruby\"</span></span></code></pre></div>\n<h3 id=\"configuration\" style=\"position:relative;\">Configuration</h3>\n<p>Add <code>use Sentry::Rack::CaptureExceptions</code> to your <code>config.ru</code> or other rackup file (this is automatically inserted in Rails):</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string-literal\"><span class=\"token string\">'sentry-ruby'</span></span>\n\nSentry<span class=\"token punctuation\">.</span>init <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n  config<span class=\"token punctuation\">.</span>dsn <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">'___PUBLIC_DSN___'</span></span>\n\n  <span class=\"token comment\"># Set traces_sample_rate to 1.0 to capture 100%</span>\n  <span class=\"token comment\"># of transactions for performance monitoring.</span>\n  <span class=\"token comment\"># We recommend adjusting this value in production.</span>\n  config<span class=\"token punctuation\">.</span>traces_sample_rate <span class=\"token operator\">=</span> <span class=\"token number\">1.0</span>\n  <span class=\"token comment\"># or</span>\n  config<span class=\"token punctuation\">.</span>traces_sampler <span class=\"token operator\">=</span> lambda <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>context<span class=\"token operator\">|</span>\n    <span class=\"token boolean\">true</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n\nuse Sentry<span class=\"token double-colon punctuation\">::</span>Rack<span class=\"token double-colon punctuation\">::</span>CaptureExceptions</code></pre></div>"}