{"key":"android","type":"framework","doc_link":"https://docs.sentry.io/platforms/android/","name":"Android","aliases":[],"categories":["mobile"],"body":"<h2 id=\"install\" style=\"position:relative;\">Install</h2>\n<p>Add the <a href=\"https://docs.sentry.io/platforms/android/configuration/gradle/\">Sentry Android Gradle plugin</a> to your <code>app</code> module:</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy highlight\"><code class=\"language-groovy\">plugins <span class=\"token punctuation\">{</span>\n  id <span class=\"token interpolation-string\"><span class=\"token string\">\"com.android.application\"</span></span> <span class=\"token comment\">// should be in the same module</span>\n  id <span class=\"token interpolation-string\"><span class=\"token string\">\"io.sentry.android.gradle\"</span></span> version <span class=\"token interpolation-string\"><span class=\"token string\">\"4.2.0\"</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The plugin will automatically add the Sentry Android SDK to your app.</p>\n<h2 id=\"configure\" style=\"position:relative;\">Configure</h2>\n<p>Configuration is done via the application <code>AndroidManifest.xml</code>. Under the hood Sentry uses a <code>ContentProvider</code> to initialize the SDK based on the values provided below. This way the SDK can capture important crashes and metrics right from the app start.</p>\n<p>Here's an example config which should get you started:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml highlight\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>application</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- Required: set your sentry.io project identifier (DSN) --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.dsn<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>___PUBLIC_DSN___<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n\n  <span class=\"token comment\">&lt;!-- enable automatic breadcrumbs for user interactions (clicks, swipes, scrolls) --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.user-interaction.enable<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- enable screenshot for crashes --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.attach-screenshot<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- enable view hierarchy for crashes --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.attach-view-hierarchy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n\n  <span class=\"token comment\">&lt;!-- enable the performance API by setting a sample-rate, adjust in production env --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.sample-rate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- enable profiling when starting transactions, adjust in production env --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>io.sentry.traces.profiling.sample-rate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>application</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n<h2 id=\"verify\" style=\"position:relative;\">Verify</h2>\n<p>This snippet contains an intentional error and can be used as a test to make sure that everything's working as expected. You can add it to your app's <code>MainActivity</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin highlight\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> breakWorld <span class=\"token operator\">=</span> <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n  text <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"Break the world\"</span></span>\n  setOnClickListener <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token function\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Break the world\"</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">addContentView</span><span class=\"token punctuation\">(</span>breakWorld<span class=\"token punctuation\">,</span> ViewGroup<span class=\"token punctuation\">.</span><span class=\"token function\">LayoutParams</span><span class=\"token punctuation\">(</span>\n  ViewGroup<span class=\"token punctuation\">.</span>LayoutParams<span class=\"token punctuation\">.</span>MATCH_PARENT<span class=\"token punctuation\">,</span> ViewGroup<span class=\"token punctuation\">.</span>LayoutParams<span class=\"token punctuation\">.</span>WRAP_CONTENT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<h2 id=\"next-steps\" style=\"position:relative;\">Next Steps</h2>\n<ul>\n<li><a href=\"https://docs.sentry.io/platforms/android/configuration/manual-init/#manual-initialization\">Manual Configuration</a>: Customize the SDK initialization behavior.</li>\n<li><a href=\"https://docs.sentry.io/platforms/android/configuration/gradle/#proguardr8--dexguard\">ProGuard/R8</a>: Deobfuscate and get readable stacktraces in your Sentry errors.</li>\n<li><a href=\"https://docs.sentry.io/platforms/android/configuration/integrations/jetpack-compose/\">Jetpack Compose</a>: Learn about our first class integration with Jetpack Compose.</li>\n<li><a href=\"https://docs.sentry.io/platforms/android/enhance-errors/source-context/\">Source Context</a>: See your source code as part of your stacktraces in Sentry.</li>\n</ul>"}