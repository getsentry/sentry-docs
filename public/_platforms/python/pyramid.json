{"key":"python.pyramid","type":"framework","doc_link":"https://docs.sentry.io/platforms/python/pyramid/","name":"Pyramid","aliases":[],"categories":[],"body":"<p>The Pyramid integration adds support for the <a href=\"https://trypyramid.com/\">Pyramid Web Framework</a>. It requires Pyramid 1.6 or later.\nFramework](<a href=\"https://trypyramid.com/\">https://trypyramid.com/</a>).</p>\n<ol>\n<li>\n<p>Install <code>sentry-sdk</code> from PyPI:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash highlight\"><code class=\"language-bash\">$ pip <span class=\"token function\">install</span> <span class=\"token parameter variable\">--upgrade</span> sentry-sdk</code></pre></div>\n</li>\n<li>\n<p>To configure the SDK, initialize it with the integration before or after your app has been created:</p>\n</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python highlight\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pyramid<span class=\"token punctuation\">.</span>config <span class=\"token keyword\">import</span> Configurator\n<span class=\"token keyword\">from</span> wsgiref<span class=\"token punctuation\">.</span>simple_server <span class=\"token keyword\">import</span> make_server\n\n<span class=\"token keyword\">import</span> sentry_sdk\n<span class=\"token keyword\">from</span> sentry_sdk<span class=\"token punctuation\">.</span>integrations<span class=\"token punctuation\">.</span>pyramid <span class=\"token keyword\">import</span> PyramidIntegration\n\nsentry_sdk<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span>\n    dsn<span class=\"token operator\">=</span><span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">,</span>\n    integrations<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n        PyramidIntegration<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\"># Set traces_sample_rate to 1.0 to capture 100%</span>\n    <span class=\"token comment\"># of transactions for performance monitoring.</span>\n    <span class=\"token comment\"># We recommend adjusting this value in production.</span>\n    traces_sample_rate<span class=\"token operator\">=</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">sentry_debug</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    division_by_zero <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">0</span>\n\n<span class=\"token keyword\">with</span> Configurator<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> config<span class=\"token punctuation\">:</span>\n    config<span class=\"token punctuation\">.</span>add_route<span class=\"token punctuation\">(</span><span class=\"token string\">'sentry-debug'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span>\n    config<span class=\"token punctuation\">.</span>add_view<span class=\"token punctuation\">(</span>sentry_debug<span class=\"token punctuation\">,</span> route_name<span class=\"token operator\">=</span><span class=\"token string\">'sentry-debug'</span><span class=\"token punctuation\">)</span>\n    app <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>make_wsgi_app<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    server <span class=\"token operator\">=</span> make_server<span class=\"token punctuation\">(</span><span class=\"token string\">'0.0.0.0'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6543</span><span class=\"token punctuation\">,</span> app<span class=\"token punctuation\">)</span>\n    server<span class=\"token punctuation\">.</span>serve_forever<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The above configuration captures both error and performance data. To reduce the volume of performance data captured, change <code>traces_sample_rate</code> to a value between 0 and 1.</p>"}