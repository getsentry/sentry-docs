{"key":"python.pylons","type":"framework","doc_link":"https://docs.sentry.io/platforms/python/legacy-sdk/integrations/pylons/","name":"Pylons","aliases":[],"categories":[],"body":"<h2 id=\"installation\" style=\"position:relative;\">Installation</h2>\n<p>If you haven’t already, start by downloading Raven. The easiest way is with <em>pip</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash highlight\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> raven <span class=\"token parameter variable\">--upgrade</span></code></pre></div>\n<h3 id=\"wsgi-middleware\" style=\"position:relative;\">WSGI Middleware</h3>\n<p>A Pylons-specific middleware exists to enable easy configuration from settings:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python highlight\"><code class=\"language-python\"><span class=\"token keyword\">from</span> raven<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>pylons <span class=\"token keyword\">import</span> Sentry\n\napplication <span class=\"token operator\">=</span> Sentry<span class=\"token punctuation\">(</span>application<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Configuration is handled via the sentry namespace:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini highlight\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">sentry</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">dsn</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">___PUBLIC_DSN___</span>\n<span class=\"token key attr-name\">include_paths</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">my.package,my.other.package,</span>\n<span class=\"token key attr-name\">exclude_paths</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">my.package.crud</span></code></pre></div>\n<h3 id=\"logger-setup\" style=\"position:relative;\">Logger setup</h3>\n<p>Add the following lines to your </p><div class=\"term-wrapper\"><span class=\"term\">project</span><span class=\"description\" role=\"tooltip\" aria-label=\"project definition\">Represents your service in Sentry and allows you to scope events to a distinct application.</span></div>’s <em>.ini</em> file to setup <em>SentryHandler</em>:<p></p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini highlight\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">loggers</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">keys</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">root, sentry</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">handlers</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">keys</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">console, sentry</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">formatters</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">keys</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">generic</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">logger_root</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">level</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">INFO</span>\n<span class=\"token key attr-name\">handlers</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">console, sentry</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">logger_sentry</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">level</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">WARN</span>\n<span class=\"token key attr-name\">handlers</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">console</span>\n<span class=\"token key attr-name\">qualname</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">sentry.errors</span>\n<span class=\"token key attr-name\">propagate</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">0</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">handler_console</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">class</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">StreamHandler</span>\n<span class=\"token key attr-name\">args</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">(sys.stderr,)</span>\n<span class=\"token key attr-name\">level</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">NOTSET</span>\n<span class=\"token key attr-name\">formatter</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">generic</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">handler_sentry</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">class</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">raven.handlers.logging.SentryHandler</span>\n<span class=\"token key attr-name\">args</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">('SENTRY_DSN',)</span>\n<span class=\"token key attr-name\">level</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">NOTSET</span>\n<span class=\"token key attr-name\">formatter</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">generic</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">formatter_generic</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">format</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">%(asctime)s,%(msecs)03d %(levelname)-5.5s [%(name)s] %(message)s</span>\n<span class=\"token key attr-name\">datefmt</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">%H:%M:%S</span></code></pre></div>\n<p>You may want to set up other loggers as well.</p>\n<!-- TODO-ADD-VERIFICATION-EXAMPLE -->"}