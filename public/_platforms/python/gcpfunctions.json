{"key":"python.gcpfunctions","type":"framework","doc_link":"https://docs.sentry.io/platforms/python/guides/gcp-functions/","name":"Google Cloud Functions (Python)","aliases":[],"categories":[],"body":"<p>Install our Python SDK using <code>pip</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash highlight\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> <span class=\"token parameter variable\">--upgrade</span> sentry-sdk</code></pre></div>\n<p>You can use the Google Cloud Functions integration for the Python SDK like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python highlight\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sentry_sdk\n<span class=\"token keyword\">from</span> sentry_sdk<span class=\"token punctuation\">.</span>integrations<span class=\"token punctuation\">.</span>gcp <span class=\"token keyword\">import</span> GcpIntegration\n\nsentry_sdk<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span>\n    dsn<span class=\"token operator\">=</span><span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">,</span>\n    integrations<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n        GcpIntegration<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\"># Set traces_sample_rate to 1.0 to capture 100%</span>\n    <span class=\"token comment\"># of transactions for performance monitoring.</span>\n    <span class=\"token comment\"># We recommend adjusting this value in production,</span>\n    traces_sample_rate<span class=\"token operator\">=</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">http_function_entrypoint</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>Check out Sentry's <a href=\"https://github.com/getsentry/examples/tree/master/gcp-cloud-functions\">GCP sample apps</a> for detailed examples.</p>\n<h3 id=\"timeout-warning\" style=\"position:relative;\">Timeout Warning</h3>\n<p>The timeout warning reports an issue when the function execution time is near\nthe <a href=\"https://cloud.google.com/functions/docs/concepts/exec#timeout\">configured timeout</a>.</p>\n<p>To enable the warning, update the SDK initialization to set <code>timeout_warning</code> to\n<code>true</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python highlight\"><code class=\"language-python\">sentry_sdk<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span>\n    dsn<span class=\"token operator\">=</span><span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">,</span>\n    integrations<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n        GcpIntegration<span class=\"token punctuation\">(</span>timeout_warning<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\"># Set traces_sample_rate to 1.0 to capture 100%</span>\n    <span class=\"token comment\"># of transactions for performance monitoring.</span>\n    <span class=\"token comment\"># We recommend adjusting this value in production,</span>\n    traces_sample_rate<span class=\"token operator\">=</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The timeout warning is sent only if the timeout in the Cloud Function configuration is set to a value greater than one second.</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"no_toc\">Note</h5><div class=\"alert-body content-flush-bottom\">If you are using a web framework in your Cloud Function, the framework might catch those exceptions before we get to see them. Make sure to enable the framework specific integration as well, if one exists. See [*Integrations*](/platforms/python/#integrations) for more information.</div>\n</div>"}